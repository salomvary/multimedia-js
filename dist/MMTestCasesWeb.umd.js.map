{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a0b5d97a67d0f75cd9c8","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/atom.ts","webpack:///./src/ext-mod/inspector.js/src/utils/byte-parser-utils.ts","webpack:///./src/logger.ts","webpack:///./src/core/socket.ts","webpack:///./src/core/processor.ts","webpack:///./src/common-utils.ts","webpack:///./src/core/packet.ts","webpack:///./src/core/payload-description.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/track.ts","webpack:///./src/core/buffer-props.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/frame.ts","webpack:///./src/core/buffer.ts","webpack:///./src/io-sockets/xhr.socket.ts","webpack:///./src/core/flow.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/payload/payload-reader.ts","webpack:///./test-cases/mmjs-test-case.ts","webpack:///./node_modules/eventemitter3/index.js","webpack:///./src/core/env.ts","webpack:///./src/ext-mod/inspector.js/src/utils/bit-reader.ts","webpack:///./src/ext-mod/inspector.js/src/utils/timescale.ts","webpack:///./src/ext-mod/inspector.js/src/utils/logger.ts","webpack:///./index.ts","webpack:///(webpack)/buildin/global.js","webpack:///./src/processors/mp3-parse.processor.ts","webpack:///./src/processors/h264-parse.processor.ts","webpack:///./src/processors/ffmpeg-convert.processor.ts","webpack:///./src/processors/mp4-mux-mozilla.processor.ts","webpack:///./src/processors/mp4-demux.processor.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/helpers/video-atom.ts","webpack:///./src/processors/mpeg-ts-demux.processor.ts","webpack:///./src/io-sockets/web-file-download.socket.ts","webpack:///./src/core/processor-factory.ts","webpack:///./src/core/signal.ts","webpack:///./src/processors/h264/nalu.ts","webpack:///./src/processors/ffmpeg/ffmpeg-tool.ts","webpack:///./src/processors/mozilla-rtmpjs/mp4iso-boxes.ts","webpack:///./src/processors/mozilla-rtmpjs/mp4iso-base.ts","webpack:///./src/processors/mp4-mux-hlsjs.processor.ts","webpack:///./src/ext-mod/inspector.js/src/index.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/mpegts-demuxer.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/payload/adts-reader.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/payload/h264-reader.ts","webpack:///./src/ext-mod/inspector.js/src/codecs/h264/sps-parser.ts","webpack:///./src/ext-mod/inspector.js/src/codecs/video-types.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/ts-track.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/mp4-demuxer.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/mp4-track.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/trun.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/webm/webm-demuxer.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/webm/ebml/ebml-types.ts","webpack:///./src/io-sockets/xhr/xhr.ts","webpack:///./src/io-sockets/html5-media-source-buffer.socket.ts","webpack:///./src/flows/combine-mp4s-to-mov.flow.ts","webpack:///./test-cases/web/index.ts","webpack:///./test-cases/web/chunk-to-media-source.ts","webpack:///./src/processors/lambda.processor.ts","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./src/processors/mp3/mp3-parser.ts","webpack:///./src/processors/mp3/id3-parser.ts","webpack:///./src/processors/mp3/mpeg-audio-parser.ts","webpack:///./src/processors/h264/h264.ts","webpack:///./src/processors/h264/exp-golomb.ts","webpack:///./src/processors/mozilla-rtmpjs/mp4mux.ts","webpack:///./src/processors/mozilla-rtmpjs/mp4iso-sample-table.ts","webpack:///./src/processors/hlsjs-fmp4-mux/mp4-remuxer.ts","webpack:///./src/processors/hlsjs-fmp4-mux/aac-utils.js","webpack:///./src/processors/hlsjs-fmp4-mux/mp4-generator.js","webpack:///./src/browser-utils.ts","webpack:///./node_modules/bowser/src/bowser.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/pes-reader.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/payload/unknown-reader.ts","webpack:///./src/ext-mod/inspector.js/src/codecs/h264/nal-units.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/payload/id3-reader.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/ts/payload/mpeg-reader.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/index.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/ftyp.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stsd.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/avc1.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/avcC.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mvhd.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/trex.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/tkhd.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mdhd.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/hdlr.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/vmhd.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/dref.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stts.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stsc.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stsz.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stco.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/smhd.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mp4a.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/helpers/audio-atom.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/esds.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/sidx.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/tfhd.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/tfdt.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mfhd.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mdat.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/emsg.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/styp.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/pssh.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/hvcC.ts","webpack:///./src/ext-mod/inspector.js/src/codecs/h265/nal-unit.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/hvc1.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/hev1.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stss.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/ctts.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/mp4/mp4-sample-table.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/webm/ebml/schema.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/webm/ebml/ebml-parser.ts","webpack:///./src/ext-mod/inspector.js/src/demuxer/webm/webm-track.ts","webpack:///./src/ext-mod/inspector.js/src/utils/web-worker.ts","webpack:///./src/processors/broadway.processor.ts","webpack:///./src/flows/http-to-media-source.flow.ts","webpack:///./src/io-sockets/html5-media-source/media-source-controller.ts","webpack:///./src/io-sockets/html5-media-source/source-buffer-queue.ts","webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./src/core/processor-proxy.ts","webpack:///./src/io-sockets/app-input-socket.ts","webpack:///./src/common-crypto.ts","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./src/io-sockets/web-file-chooser.socket.ts","webpack:///./test-cases/web/remix-movie-soundtrack.ts","webpack:///./test-cases/web/ts-to-mp3.ts","webpack:///./src/flows/ts-to-mp3.flow.ts","webpack:///./test-cases/web/ffmpeg-basic.ts","webpack:///./src/common-http.ts","webpack:///./test-cases/web/ffmpeg-flow.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;AC7DA;IAkFI,cAAoB,IAAY,EAAS,IAAY;QAAjC,SAAI,GAAJ,IAAI,CAAQ;QAAS,SAAI,GAAJ,IAAI,CAAQ;IAAG,CAAC;IAE3C,mBAAc,GAA5B,UAA6B,IAAY;QACrC,OAAO,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI;eAC9D,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI;eAC9D,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI;eAC9D,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,IAAI;eAC9D,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC;IAC9B,CAAC;IAzFa,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GAAW,MAAM,CAAC;IACtB,SAAI,GA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B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;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AAI,GAAG,GAAG,CAAC;;IAClB,CAAC;IAZM,uBAAO,GAAd,cAA2B,OAAO,iBAAiB,EAAC,CAAC;IAcrD,kDAAwB,GAAxB,UAA0B,EAAc;QACtC,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC;IAES,0CAAgB,GAA1B,UAA4B,GAAgB,EAAE,CAAS;QACrD,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;IACH,sBAAC;AAAD,CAAC,CAvBoC,qBAAS,GAuB7C;AAvBY,0CAAe;;;;;;;;ACX5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;AC5vDA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA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IACT,iCAAa;AACf,CAAC,EANW,gBAAgB,GAAhB,wBAAgB,KAAhB,wBAAgB,QAM3B;AAAA,CAAC;AAEF,+FAA+F;AAE/F,wBAA+B,SAA2B;IACxD,OAAO,MAAM,CAAC,SAAS,CAAC,CAAC;AAC3B,CAAC;AAFD,wCAEC;AAED;IACE,OAAO,CAAC,CAAE,MAAc,CAAC,WAAW,CAAC;AACvC,CAAC;AAFD,wCAEC;;;;;;;AClBD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,MAAM;AACpB,cAAc,SAAS;AACvB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD,kDAAkD;AAClD,kDAAkD;AAClD;AACA,cAAc,cAAc;AAC5B,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,cAAc,OAAO;AACrB,cAAc,QAAQ;AACtB,cAAc,OAAO;AACrB,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,QAAQ;AACtB,cAAc,OAAO;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AA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AAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;AACrC,oBAAY,CAAC,WAAI,CAAC,IAAI,CAAC,GAAG,WAAI,CAAC,KAAK,CAAC;;;;;;;;;;;;;;;;;;;;ACrErC,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAmBA,CAAC;IAdiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU,GAAG,2BAAe,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAI,CAAC,GAAW,CAAC,CAAC;QAClB,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE;YACxB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,2BAAe,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACrE,CAAC,IAAI,CAAC,CAAC;SACV;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAnByB,WAAI,GAmB7B;AAnBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA6C;AAE7C;IAA0B,wBAAa;IAAvC;;IAeA,CAAC;IAViB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAE7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAEvD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAfyB,oBAAa,GAetC;AAfY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,oCAA8B;AAC9B,2CAAiD;AAEjD;IAA0B,wBAAS;IAAnC;;IAMA,CAAC;IALiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,sBAAS,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CANyB,sBAAS,GAMlC;AANY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAC9B,2CAA4D;AAG5D;IAA0B,wBAAI;IAA9B;;IAiDA,CAAC;IApCiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAExD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACrB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QACzC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QAEjD,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QACd,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,IAAI,CAAC,0BAA0B,EAAE,GAAC,EAAE,EAAE;YAC9D,IAAM,OAAO,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAClE,MAAM,IAAI,CAAC,CAAC;YACZ,IAAM,GAAG,GAAe,IAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC;YAChF,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACnB,MAAM,IAAI,OAAO,CAAC;YAElB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,sBAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;SACrE;QAED,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;QACrD,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QACd,MAAM,EAAE,CAAC;QACT,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,IAAI,CAAC,yBAAyB,EAAE,GAAC,EAAE,EAAE;YAC7D,IAAM,OAAO,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAClE,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YACvE,MAAM,IAAI,OAAO,CAAC;SACrB;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAjDyB,WAAI,GAiD7B;AAjDY,oBAAI;;;;;;;;;;;;;;;;;;;;ACLjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAiEA,CAAC;IA/CiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;YACpB,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YAC/F,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YACnG,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,SAAS,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC3D,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,QAAQ,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC7D;aAAM;YACH,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YAC/F,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YACnG,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,SAAS,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC3D,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,QAAQ,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC7D;QACD,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,IAAI,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC;YACjD,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;QACvD,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAClD,MAAM,IAAI,EAAE,CAAC;QACb,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACvE,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,WAAW,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC7D,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,eAAe,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACjE,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,UAAU,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC5D,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,aAAa,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC/D,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,iBAAiB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACnE,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,WAAW,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC7D,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,WAAW,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC7D,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAjEyB,WAAI,GAiE7B;AAjEY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAgCA,CAAC;IAlBiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAExD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC;YACnD,IAAI,CAAC,6BAA6B,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,qBAAqB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACnE,IAAI,CAAC,iBAAiB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAC/D,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;QACvC,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,mBAAmB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QAClD,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,wBAAwB,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;QACpD,IAAI,CAAC,yBAAyB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAEvE,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAhCyB,WAAI,GAgC7B;AAhCY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAuDA,CAAC;IAzCiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;YACpB,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YAC/F,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YACnG,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,OAAO,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACzD,MAAM,IAAI,EAAE,CAAC;YACb,IAAI,CAAC,QAAQ,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC7D;aAAM;YACH,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YAC/F,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YACnG,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,OAAO,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACzD,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,QAAQ,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC7D;QACD,MAAM,IAAI,EAAE,CAAC;QACb,IAAI,CAAC,KAAK,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACvD,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,cAAc,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAChE,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACpD,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACvE,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,KAAK,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC;YAClD,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QACzD,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,CAAC,MAAM,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC;YACnD,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QAEzD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAvDyB,WAAI,GAuD7B;AAvDY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IA0CA,CAAC;IAjCiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;YACpB,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YAC/F,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YACnG,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,SAAS,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC3D,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,QAAQ,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC7D;aAAM;YACH,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YAC/F,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,gBAAgB,GAAG,2BAAe,CAAC,eAAe,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YACnG,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,SAAS,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAC3D,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,QAAQ,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC7D;QACD,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,OAAO,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAChE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;QAC7D,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;QACvE,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QAE9D,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CA1CyB,WAAI,GA0C7B;AA1CY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAyBA,CAAC;IAnBiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,2BAAe,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAE5D,2BAA2B;QAC3B,IAAI,IAAI,GAAW,EAAE,CAAC;QACtB,KAAK,IAAI,GAAC,GAAW,EAAE,EAAE,GAAC,GAAG,IAAI,CAAC,UAAU,EAAE,GAAC,EAAE,EAAE;YAC/C,IAAI,IAAI,CAAC,GAAC,CAAC,KAAK,IAAI,EAAE;gBAClB,GAAC,EAAE,CAAC;gBACJ,MAAM;aACT;YACD,IAAI,IAAI,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAC,CAAC,CAAC,CAAC;SACxC;QACD,IAAI,CAAC,IAAI,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAErC,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAzByB,WAAI,GAyB7B;AAzBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAkBA,CAAC;IAZiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,aAAa,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,OAAO,GAAG,IAAI,WAAW,CAAC;YAC3B,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC;YACpC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC;YACpC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC;SACxC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAlByB,WAAI,GAkB7B;AAlBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACFjB,oCAA6C;AAE7C;IAA0B,wBAAa;IAAvC;;IAYA,CAAC;IARiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAE7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAZyB,oBAAa,GAYtC;AAZY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IACI,2BAAmB,WAAmB,EAAS,WAAmB;QAA/C,gBAAW,GAAX,WAAW,CAAQ;QAAS,gBAAW,GAAX,WAAW,CAAQ;IAClE,CAAC;IACL,wBAAC;AAAD,CAAC;AAHY,8CAAiB;AAK9B;IAA0B,wBAAI;IAA9B;QAAA,qEAoBC;QAjBU,mBAAa,GAAwB,EAAE,CAAC;;IAiBnD,CAAC;IAfiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAM,UAAU,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAChE,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,UAAU,EAAE,GAAC,EAAE,EAAE;YACzC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,iBAAiB,CACzC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,EACzC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACpD,MAAM,IAAI,CAAC,CAAC;SACf;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CApByB,WAAI,GAoB7B;AApBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACRjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IACI,4BACW,UAAkB,EAClB,eAAuB,EACvB,sBAA8B;QAF9B,eAAU,GAAV,UAAU,CAAQ;QAClB,oBAAe,GAAf,eAAe,CAAQ;QACvB,2BAAsB,GAAtB,sBAAsB,CAAQ;IACzC,CAAC;IACL,yBAAC;AAAD,CAAC;AANY,gDAAkB;AAQ/B;IAA0B,wBAAI;IAA9B;;IAqBA,CAAC;IAhBiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAM,UAAU,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAChE,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,UAAU,EAAE,GAAC,EAAE,EAAE;YACzC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,kBAAkB,CAC3C,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,EACzC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,EAC7C,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACpD,MAAM,IAAI,EAAE,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CArByB,WAAI,GAqB7B;AArBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACXjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAmBA,CAAC;IAbiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACvD,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAElB,KAAK,IAAI,GAAC,GAAW,EAAE,EAAE,GAAC,GAAG,IAAI,CAAC,UAAU,EAAE,GAAC,IAAI,CAAC,EAAE;YAClD,IAAI,CAAC,OAAO,CAAC,IAAI,CACb,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,GAAC,CAAC,CAAC,CAAC;SAC7C;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAnByB,WAAI,GAmB7B;AAnBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAmBA,CAAC;IAdiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAM,UAAU,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAChE,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,UAAU,EAAE,GAAC,EAAE,EAAE;YACzC,IAAI,CAAC,YAAY,CAAC,IAAI,CAClB,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YAC/C,MAAM,IAAI,CAAC,CAAC;SACf;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAnByB,WAAI,GAmB7B;AAnBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACFjB,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAaA,CAAC;IARiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAEvC,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAbyB,WAAI,GAa7B;AAbY,oBAAI;;;;;;;;;;;;;;;;;;;;ACFjB,oCAA2C;AAC3C,2CAA+C;AAE/C;IAA0B,wBAAS;IAAnC;;IAMA,CAAC;IALiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,sBAAS,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CANyB,sBAAS,GAMlC;AANY,oBAAI;;;;;;;;;;;;;;;;;;;;ACJjB,iDAAkE;AAClE,oCAA8C;AAE9C;IAA+B,6BAAa;IAA5C;;IAiBA,CAAC;IAXiB,uBAAa,GAA3B,UAA4B,IAAe,EAAE,IAAgB;QACzD,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAE9B,IAAI,CAAC,kBAAkB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAC1D,IAAI,CAAC,UAAU,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC;YACnD,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;QAEnD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,gBAAC;AAAD,CAAC,CAjB8B,oBAAa,GAiB3C;AAjBY,8BAAS;;;;;;;;;;;;;;;;;;;;ACHtB,iDAA+D;AAC/D,oCAA8B;AAE9B;IACI,iCAAmB,GAAW,EAAS,MAAc,EAC1C,eAAuB,EAAS,sBAA8B,EAC9D,oBAA4B;QAFpB,QAAG,GAAH,GAAG,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAQ;QAC1C,oBAAe,GAAf,eAAe,CAAQ;QAAS,2BAAsB,GAAtB,sBAAsB,CAAQ;QAC9D,yBAAoB,GAApB,oBAAoB,CAAQ;IACnC,CAAC;IACT,8BAAC;AAAD,CAAC;AALY,0DAAuB;AAOpC;IACI,uBAAmB,uBAA+B,EAAS,UAAkB,EAClE,UAAkB,EAAS,UAAkB,EAAS,UAAkB,EACxE,uBAAgD;QAFxC,4BAAuB,GAAvB,uBAAuB,CAAQ;QAAS,eAAU,GAAV,UAAU,CAAQ;QAClE,eAAU,GAAV,UAAU,CAAQ;QAAS,eAAU,GAAV,UAAU,CAAQ;QAAS,eAAU,GAAV,UAAU,CAAQ;QACxE,4BAAuB,GAAvB,uBAAuB,CAAyB;IACvD,CAAC;IACT,oBAAC;AAAD,CAAC;AALY,sCAAa;AAO1B;IAA0B,wBAAI;IAA9B;;IAkCA,CAAC;IA1BiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAExD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QAEjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,IAAI,CAAC,IAAI,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,aAAa,GAAG,IAAI,aAAa,CAClC,IAAI,CAAC,EAAE,CAAC,EACR,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,EACvB,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAC7C,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,EACrC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,EACrC,IAAI,uBAAuB,CACvB,IAAI,CAAC,EAAE,CAAC,EACR,IAAI,CAAC,EAAE,CAAC,EACR,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,EACvB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,EACpD,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAC1B,CACJ,CAAC;QACF,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAlCyB,WAAI,GAkC7B;AAlCY,oBAAI;;;;;;;;;;;;;;;;;;;;ACjBjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IACI,mBAAmB,IAAY,EAAS,IAAY,EACzC,kBAA0B,EAAS,aAAsB,EACzD,OAAe,EAAS,YAAoB;QAFpC,SAAI,GAAJ,IAAI,CAAQ;QAAS,SAAI,GAAJ,IAAI,CAAQ;QACzC,uBAAkB,GAAlB,kBAAkB,CAAQ;QAAS,kBAAa,GAAb,aAAa,CAAS;QACzD,YAAO,GAAP,OAAO,CAAQ;QAAS,iBAAY,GAAZ,YAAY,CAAQ;IACvD,CAAC;IACL,gBAAC;AAAD,CAAC;AALY,8BAAS;AAOtB;IAA0B,wBAAI;IAA9B;;IA2CA,CAAC;IAlCiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,SAAS,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACtD,IAAI,MAAc,CAAC;QACnB,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;YACpB,IAAI,CAAC,wBAAwB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YACtE,IAAI,CAAC,WAAW,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YACzD,MAAM,GAAG,EAAE,CAAC;SACf;aAAM;YACH,IAAI,CAAC,wBAAwB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YACtE,IAAI,CAAC,WAAW,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YACzD,MAAM,GAAG,EAAE,CAAC;SACf;QAED,MAAM,IAAI,CAAC,CAAC;QACZ,IAAM,cAAc,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACzE,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,MAAM,IAAI,CAAC,CAAC;QAEZ,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,cAAc,EAAE,GAAC,EAAE,EAAE;YAC7C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,SAAS,CAC9B,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAC3B,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,UAAU,EACtD,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,EAC7C,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAC3B,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAC/B,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC;YACjE,MAAM,IAAI,EAAE,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CA3CyB,WAAI,GA2C7B;AA3CY,oBAAI;;;;;;;;;;;;;;;;;;;;ACVjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IA4CA,CAAC;IAlCiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,IAAM,qBAAqB,GAAY,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;QAChE,IAAM,6BAA6B,GAAY,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;QACxE,IAAM,4BAA4B,GAAY,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;QACvE,IAAM,wBAAwB,GAAY,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;QACnE,IAAM,yBAAyB,GAAY,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;QAEpE,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,IAAI,qBAAqB,EAAE;YACvB,IAAI,CAAC,cAAc,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YAC5D,MAAM,IAAI,CAAC,CAAC;SACf;QACD,IAAI,6BAA6B,EAAE;YAC/B,IAAI,CAAC,sBAAsB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACxE,MAAM,IAAI,CAAC,CAAC;SACf;QACD,IAAI,4BAA4B,EAAE;YAC9B,IAAI,CAAC,qBAAqB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACvE,MAAM,IAAI,CAAC,CAAC;SACf;QACD,IAAI,wBAAwB,EAAE;YAC1B,IAAI,CAAC,iBAAiB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACnE,MAAM,IAAI,CAAC,CAAC;SACf;QACD,IAAI,yBAAyB,EAAE;YAC3B,IAAI,CAAC,kBAAkB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SACvE;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CA5CyB,WAAI,GA4C7B;AA5CY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAkBA,CAAC;IAbiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,IAAI,CAAC,mBAAmB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAChE,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,EAAE;YACpB,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC5C,IAAI,CAAC,mBAAmB,IAAI,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SACpE;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAlByB,WAAI,GAkB7B;AAlBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAYA,CAAC;IAPiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,cAAc,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC3D,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAZyB,WAAI,GAY7B;AAZY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAC9B,uCAAgD;AAE1C,mCAA+B,EAA9B,YAAG,EAAE,cAAI,CAAsB;AAEtC;IAA0B,wBAAI;IAA9B;;IA2BA,CAAC;IAzBiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACxB,OAAO,IAAI,CAAC;IAChB,CAAC;IAEc,iBAAY,GAA3B,UAA4B,IAAgB;QACxC,IAAI,MAAc,CAAC;QACnB,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE,GAAC,IAAI,MAAM,EAAE;YAC1D,MAAM,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,GAAC,CAAC,CAAC;YAC9C,GAAC,IAAI,CAAC,CAAC;YAEP,IAAI,MAAM,IAAI,CAAC,EAAE;gBACb,yCAAyC;gBACzC,WAAW;gBAEX,4DAA4D;gBAC5D,IAAI,CAAC,sBAAsB,CAAC,CAAC;gBAC7B,MAAM;aACT;YAED,IAAM,OAAO,GAAW,IAAI,CAAC,GAAC,CAAC,GAAG,IAAI,CAAC;YACvC,qBAAqB;SACxB;IACL,CAAC;IACL,WAAC;AAAD,CAAC,CA3ByB,WAAI,GA2B7B;AA3BY,oBAAI;;;;;;;;;;;;;;;;;;;;ACNjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAkCA,CAAC;IAvBiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,IAAI,CAAC,GAAW,CAAC,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,2BAAe,CAAC,yBAAyB,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACvF,CAAC,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,2BAAe,CAAC,yBAAyB,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACjF,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACtD,CAAC,IAAI,CAAC,CAAC;QACP,IAAI,CAAC,qBAAqB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAClE,CAAC,IAAI,CAAC,CAAC;QACP,IAAI,CAAC,aAAa,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC1D,CAAC,IAAI,CAAC,CAAC;QACP,IAAI,CAAC,EAAE,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC/C,CAAC,IAAI,CAAC,CAAC;QACP,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;YACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SAChC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAlCyB,WAAI,GAkC7B;AAlCY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAmBA,CAAC;IAdiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU,GAAG,2BAAe,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACzD,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAE3B,IAAI,CAAC,GAAW,CAAC,CAAC;QAClB,OAAO,CAAC,GAAG,IAAI,CAAC,UAAU,EAAE;YACxB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,2BAAe,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;YACrE,CAAC,IAAI,CAAC,CAAC;SACV;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAnByB,WAAI,GAmB7B;AAnBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IAA0B,wBAAI;IAA9B;;IAkCA,CAAC;IA3BiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAExD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEjC,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC;QACnD,MAAM,IAAI,EAAE,CAAC;QAEb,IAAI,IAAI,CAAC,OAAO,GAAG,CAAC,EAAE;YAClB,IAAM,KAAK,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;YAC3D,MAAM,IAAI,CAAC,CAAC;YACZ,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;YACd,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,KAAK,EAAE,GAAC,EAAE,EAAE;gBACpC,IAAI,CAAC,GAAG,CAAC,GAAC,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC;gBACjD,MAAM,IAAI,EAAE,CAAC;aAChB;SACJ;QAED,IAAM,QAAQ,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACnE,MAAM,IAAI,CAAC,CAAC;QACZ,IAAI,QAAQ,GAAG,CAAC,EAAE;YACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC;SAClD;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAlCyB,WAAI,GAkC7B;AAlCY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA6C;AAC7C,0CAAuE;AAEvE;IAA0B,wBAAI;IAA9B;;IAyEA,CAAC;IArDiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,GAAW,CAAC;QAEhB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAEvB,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACd,IAAI,CAAC,YAAY,GAAG,GAAG,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;QAE/B,IAAI,CAAC,oBAAoB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAChD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QACzB,IAAI,CAAC,sBAAsB,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,GAAG,KAAK,CAAC;QAC5E,IAAI,CAAC,eAAe,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;QACrC,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;QAC3C,IAAI,CAAC,oBAAoB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC;QAC7C,IAAI,CAAC,YAAY,GAAG,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAE1D,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QACf,IAAI,CAAC,iBAAiB,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,iBAAiB,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,gBAAgB,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,CAAC,kBAAkB,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;QAEtC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAM,eAAe,GAAW,IAAI,CAAC,EAAE,CAAC,CAAC;QACzC,IAAI,MAAM,GAAW,EAAE,CAAC;QACxB,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,eAAe,EAAE,GAAC,EAAE,EAAE;YAC9C,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YACrB,IAAM,YAAY,GAAW,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/C,IAAM,QAAQ,GAAW,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;YACtC,IAAM,UAAU,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACrE,MAAM,IAAI,CAAC,CAAC;YAEZ,IAAM,SAAS,GAAkB,IAAI,wBAAa,CAAC,CAAC,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;YAC7E,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACpC,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,UAAU,EAAE,CAAC,EAAE,EAAE;gBACzC,IAAM,OAAO,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;gBAClE,MAAM,IAAI,CAAC,CAAC;gBAEZ,IAAM,QAAQ,GAAe,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,MAAM,GAAG,OAAO,CAAC,CAAC;gBACrE,MAAM,IAAI,OAAO,CAAC;gBAElB,IAAM,IAAI,GAAY,IAAI,kBAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;gBACtD,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACjC;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAzEyB,WAAI,GAyE7B;AAzEY,oBAAI;;;;;;;;;;ACJjB;IACI,iBAAoB,IAAY,EAAS,IAAgB;QAArC,SAAI,GAAJ,IAAI,CAAQ;QAAS,SAAI,GAAJ,IAAI,CAAY;IAAI,CAAC;IAClE,cAAC;AAAD,CAAC;AAFY,0BAAO;AAIpB;IAEI,uBAAoB,YAAqB,EAAS,IAAY;QAA1C,iBAAY,GAAZ,YAAY,CAAS;QAAS,SAAI,GAAJ,IAAI,CAAQ;QAC1D,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACvB,CAAC;IACL,oBAAC;AAAD,CAAC;AALY,sCAAa;;;;;;;;;;;;;;;;;;;;ACJ1B,oCAA8B;AAC9B,2CAAiD;AAEjD;IAA0B,wBAAS;IAAnC;;IAMA,CAAC;IALiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,sBAAS,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CANyB,sBAAS,GAMlC;AANY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,oCAA8B;AAC9B,2CAAiD;AAEjD;IAA0B,wBAAS;IAAnC;;IAMA,CAAC;IALiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,sBAAS,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpC,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CANyB,sBAAS,GAMlC;AANY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,oCAA8B;AAC9B,iDAA+D;AAE/D;IAA0B,wBAAI;IAA9B;QAAA,qEAmBC;QAfU,uBAAiB,GAAa,EAAE,CAAC;;IAe5C,CAAC;IAbiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAM,UAAU,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAEhE,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,UAAU,EAAE,GAAC,EAAE,EAAE;YACzC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;YACvE,MAAM,IAAI,CAAC,CAAC;SACf;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CAnByB,WAAI,GAmB7B;AAnBY,oBAAI;;;;;;;;;;;;;;;;;;;;ACHjB,iDAA+D;AAC/D,oCAA8B;AAE9B;IACI,kCAAmB,WAAmB,EAAS,iBAAyB;QAArD,gBAAW,GAAX,WAAW,CAAQ;QAAS,sBAAiB,GAAjB,iBAAiB,CAAQ;IACxE,CAAC;IACL,+BAAC;AAAD,CAAC;AAHY,4DAAwB;AAKrC;IAA0B,wBAAI;IAA9B;QAAA,qEAoBC;QAjBU,0BAAoB,GAA+B,EAAE,CAAC;;IAiBjE,CAAC;IAfiB,UAAK,GAAnB,UAAoB,IAAgB;QAChC,IAAM,IAAI,GAAS,IAAI,IAAI,CAAC,WAAI,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,oBAAoB,GAAG,EAAE,CAAC;QAC/B,IAAM,UAAU,GAAW,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAChE,IAAI,MAAM,GAAW,CAAC,CAAC;QACvB,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,UAAU,EAAE,GAAC,EAAE,EAAE;YACzC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,wBAAwB,CACvD,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,EACzC,2BAAe,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACpD,MAAM,IAAI,CAAC,CAAC;SACf;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,WAAC;AAAD,CAAC,CApByB,WAAI,GAoB7B;AApBY,oBAAI;;;;;;;;;;ACAjB,sCAAiC;AAEjC,0CAAuD;AAEvD,uCAA2D;AAErD,wEAA4D,EAA3D,YAAG,EAAE,gBAAK,CAAkD;AAEnE;IASI,wBAAoB,MAAgB;QAAhB,WAAM,GAAN,MAAM,CAAU;QAChC,IAAI,CAAC,MAAM,EAAE;YACT,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;SACtE;IACL,CAAC;IAED,+BAAM,GAAN;QAAA,iBAqGC;QAnGG,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAEhC,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,UAAU,GAAG,CAAC,CAAC;QAEnB,IAAM,MAAM,GAAY,EAAE,CAAC;QAC3B,IAAM,kBAAkB,GAAgE,EAAE;QAC1F,IAAM,wBAAwB,GAAa,EAAE,CAAC;QAE9C,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,OAAO,CAAC,UAAC,KAAwB;YAEnE,KAAK,IAAI,GAAC,GAAG,CAAC,EAAE,GAAC,GAAG,KAAK,CAAC,WAAW,EAAE,GAAC,EAAE,EAAE;gBAExC,IAAM,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBAEjH,IAAM,QAAQ,GAAG,IAAI,aAAK,CACtB,WAAW,CAAC,CAAC,CAAC,aAAK,CAAC,SAAS,CAAC,CAAC,CAAC,aAAK,CAAC,OAAO,EAC7C,0BAAc,CAAC,GAAG,EAAE,KAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,EAC/C,KAAI,CAAC,WAAW,CAAC,UAAU,IAAI,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,EACnE,0BAAc,CAAC,KAAK,CAAC,WAAW,EAAE,KAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAChE,CAAC;gBAEF,QAAQ,CAAC,cAAc,GAAG,KAAK,CAAC,WAAW,CAAC;gBAC5C,QAAQ,CAAC,kBAAkB,GAAG,GAAG,CAAC;gBAClC,QAAQ,CAAC,4BAA4B,GAAG,CAAC,CAAC;gBAC1C,QAAQ,CAAC,SAAS,GAAG,KAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;gBAEhD,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAEtB,UAAU,EAAE,CAAC,CAAC,kEAAkE;gBAEhF,GAAG,IAAI,KAAK,CAAC,WAAW,CAAC;aAC5B;QACL,CAAC,CAAC,CAAC;QAEH,UAAU,GAAG,CAAC,CAAC;QAEf,IAAI,CAAC,2BAA2B,IAAI,IAAI,CAAC,2BAA2B,CAAC,oBAAoB,CAAC,OAAO,CAAC,UAAC,KAA+B;YAC9H,KAAK,IAAI,GAAC,GAAG,CAAC,EAAE,GAAC,GAAG,KAAK,CAAC,WAAW,EAAE,GAAC,EAAE,EAAE;gBAExC,MAAM,CAAC,UAAU,CAAC;qBACb,2BAA2B,CAAC,0BAAc,CAAC,KAAK,CAAC,iBAAiB,EAAE,KAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;gBAEtG,MAAM,CAAC,UAAU,CAAC,CAAC,4BAA4B,GAAG,KAAK,CAAC,iBAAiB,CAAC;gBAE1E,UAAU,EAAE,CAAC,CAAC,kEAAkE;aACnF;QACL,CAAC,CAAC,CAAC;QAEH,UAAU,GAAG,CAAC,CAAC;QAEf,IAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,OAAO,CAAC,UAAC,kBAAsC,EAAE,KAAK;YACxF,qDAAqD;YACrD,8EAA8E;YAC9E,uEAAuE;YACvE,IAAI,iBAAiB,GAAG,CAAC,CAAC;YAC1B,IAAI,KAAK,GAAG,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1D,iBAAiB,GAAG,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,UAAU;sBACzE,kBAAkB,CAAC,UAAU,CAAC;aACvC;YAED,KAAK,IAAI,GAAC,GAAC,CAAC,EAAE,GAAC,GAAG,iBAAiB,EAAE,GAAC,EAAE,EAAE;gBACtC,UAAU,IAAI,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,eAAe;gBAE1E,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;aAC/C;QAEL,CAAC,CAAC,CAAC;QAEH,IAAI,UAAU,KAAK,MAAM,CAAC,MAAM,EAAE;YAC9B,MAAM,IAAI,KAAK,CAAC,iGAAiG,CAAC,CAAC;SACtH;QAED,UAAU,GAAG,CAAC,CAAC;QAEf,kBAAkB,CAAC,OAAO,CAAC,UAAC,eAAe,EAAE,KAAK;YAE9C,IAAI,mBAAmB,GAAG,CAAC,CAAC;YAE5B,KAAK,IAAI,GAAC,GAAG,CAAC,EAAE,GAAC,GAAG,eAAe,CAAC,eAAe,EAAE,GAAC,EAAE,EAAE;gBAEtD,IAAM,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;gBAEjC,KAAK,CAAC,WAAW,GAAG,KAAI,CAAC,cAAc,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBAC5D,KAAK,CAAC,WAAW,IAAI,mBAAmB,CAAC;gBAEzC,mBAAmB,IAAI,KAAK,CAAC,IAAI,CAAC;gBAElC,UAAU,EAAE,CAAC;aAChB;QAEL,CAAC,CAAC,CAAC;QAEH,0CAA0C;QAC1C,MAAM,CAAC,OAAO,CAAC,UAAC,KAAK;YACjB,KAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,MAAM,CAAC;IACf,CAAC;IACL,qBAAC;AAAD,CAAC;AArHY,wCAAc;AAqH1B,CAAC;;;;;;;;;;ACnIF,4BAAmC,EAAU;IACzC,OAAO,MAAM,CAAC,EAAE,CAAC,IAAI,EAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAC,CAAC;AAC5D,CAAC;AAFD,gDAEC;AAED,IAAM,MAAM,GAAyC;IACjD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,+DAA+D;KACjF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,kIAAkI;KACpJ;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,SAAS,EAAE,eAAe;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,iDAAiD;KACnE;IACD,IAAI,EAAE;QACF,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,qEAAqE;KACvF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,aAAa;QACrB,SAAS,EAAE,kBAAkB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,qHAAqH;KACvI;IACD,IAAI,EAAE;QACF,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,qQAAqQ;KACvR;IACD,IAAI,EAAE;QACF,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,iDAAiD;KACnE;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,mEAAmE;KACrF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,oCAAoC;KACtD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,8DAA8D;KAChF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,qIAAqI;KACvJ;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,IAAI,EAAE;YACF,EAAE;YACF,EAAE;YACF,EAAE;YACF,EAAE;SACL;QACD,KAAK,EAAE;YACH,YAAY;YACZ,WAAW;SACd;QACD,aAAa,EAAE,kHAAkH;KACpI;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,qBAAqB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,0KAA0K;KAC5L;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE,UAAU;QACrB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,kIAAkI;KACpJ;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE,GAAG;QACd,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,8EAA8E;KAChG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE,GAAG;QACd,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,qDAAqD;KACvE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE,GAAG;QACd,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,6DAA6D;KAC/E;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,UAAU,EAAE,EAAE;QACd,aAAa,EAAE,6FAA6F;KAC/G;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,kEAAkE;KACpF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,+FAA+F;KACjH;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,0GAA0G;KAC5H;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,uBAAuB;KACzC;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,UAAU;QAClB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,mDAAmD;KACrE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,wNAAwN;KAC1O;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,wBAAwB;KAC1C;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,qBAAqB;KACvC;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,qBAAqB;KACvC;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+EAA+E;KACjG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,sBAAsB;QAC9B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,sRAAsR;KACxS;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,sBAAsB;QAC9B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,OAAO;QAChB,IAAI,EAAE;YACF,EAAE;YACF,EAAE;YACF,EAAE;SACL;QACD,aAAa,EAAE,mTAAmT;KACrU;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,qBAAqB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,IAAI,EAAE;YACF,EAAE;YACF,EAAE;SACL;QACD,aAAa,EAAE,gHAAgH;KAClI;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,oOAAoO;KACtP;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,yHAAyH;KAC3I;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,+CAA+C;KACjE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,KAAK;QAClB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,oFAAoF;KACtG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,2CAA2C;KAC7D;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,SAAS,EAAE,qBAAqB;QAChC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+JAA+J;KACjL;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,mEAAmE;KACrF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,eAAe;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,uCAAuC;KACzD;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,iEAAiE;KACnF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,uDAAuD;KACzE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,SAAS,EAAE,uBAAuB;QAClC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,mDAAmD;KACrE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,SAAS,EAAE,oBAAoB;QAC/B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,kJAAkJ;KACpK;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+EAA+E;KACjG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,SAAS,EAAE,oBAAoB;QAC/B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,uMAAuM;KACzN;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,aAAa;QACrB,SAAS,EAAE,gBAAgB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,mDAAmD;KACrE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,SAAS,EAAE,uBAAuB;QAClC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,2MAA2M;KAC7N;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,0DAA0D;KAC5E;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,2CAA2C;KAC7D;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,SAAS,EAAE,qBAAqB;QAChC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,sDAAsD;KACxE;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,+CAA+C;KACjE;IACD,UAAU,EAAE;QACR,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,mHAAmH;KACrI;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,8EAA8E;KAChG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,iDAAiD;KACnE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,WAAW;QACnB,SAAS,EAAE,WAAW;QACtB,OAAO,EAAE,CAAC;QACV,WAAW,EAAE,IAAI;QACjB,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,gDAAgD;KAClE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,sJAAsJ;KACxK;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,4IAA4I;KAC9J;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,iJAAiJ;KACnK;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,wIAAwI;KAC1J;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,SAAS,EAAE,eAAe;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,QAAQ,EAAE,eAAe;QACzB,aAAa,EAAE,iJAAiJ;KACnK;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,SAAS,EAAE,oBAAoB;QAC/B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,IAAI;QACf,aAAa,EAAE,wEAAwE;KAC1F;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,SAAS;QACjB,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,0GAA0G;KAC5H;IACD,UAAU,EAAE;QACR,MAAM,EAAE,MAAM;QACd,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,kGAAkG;KACpH;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,SAAS,EAAE,uBAAuB;QAClC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,oIAAoI;KACtJ;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,aAAa;QACrB,SAAS,EAAE,gBAAgB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,kFAAkF;KACpG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,iFAAiF;KACnG;IACD,IAAI,EAAE;QACF,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+FAA+F;KACjH;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,sBAAsB;QAC9B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,sHAAsH;KACxI;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,0BAA0B;QAClC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,sEAAsE;KACxF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,IAAI;QACb,UAAU,EAAE,EAAE;QACd,aAAa,EAAE,6IAA6I;KAC/J;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,sCAAsC;KACxD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,WAAW,EAAE,IAAI;QACjB,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,iFAAiF;KACnG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,uGAAuG;KACzH;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,6EAA6E;KAC/F;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,sIAAsI;KACxJ;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,2EAA2E;KAC7F;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,mDAAmD;KACrE;IACD,UAAU,EAAE;QACR,MAAM,EAAE,UAAU;QAClB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,qHAAqH;KACvI;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,yDAAyD;KAC3E;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,UAAU;QAClB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,uBAAuB;KACzC;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,UAAU;QAClB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,gCAAgC;KAClD;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,8CAA8C;KAChE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,mBAAmB;KACrC;IACD,UAAU,EAAE;QACR,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,yBAAyB;KAC3C;IACD,IAAI,EAAE;QACF,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,wIAAwI;KAC1J;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,qEAAqE;KACvF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,yDAAyD;KAC3E;IACD,IAAI,EAAE;QACF,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,iIAAiI;KACnJ;IACD,IAAI,EAAE;QACF,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,KAAK;QAClB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,qLAAqL;KACvM;IACD,IAAI,EAAE;QACF,MAAM,EAAE,qBAAqB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,KAAK;QAClB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+IAA+I;KACjK;IACD,IAAI,EAAE;QACF,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,4DAA4D;KAC9E;IACD,IAAI,EAAE;QACF,MAAM,EAAE,UAAU;QAClB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,0CAA0C;KAC5D;IACD,IAAI,EAAE;QACF,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,wEAAwE;KAC1F;IACD,IAAI,EAAE;QACF,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,wDAAwD;KAC1E;IACD,IAAI,EAAE;QACF,MAAM,EAAE,UAAU;QAClB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,mEAAmE;KACrF;IACD,UAAU,EAAE;QACR,MAAM,EAAE,MAAM;QACd,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,kIAAkI;KACpJ;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,IAAI,EAAE;YACF,EAAE;YACF,EAAE;SACL;QACD,aAAa,EAAE,sKAAsK;KACxL;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,IAAI,EAAE,EAAE;QACR,aAAa,EAAE,oJAAoJ;KACtK;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,6DAA6D;KAC/E;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,4CAA4C;KAC9D;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,6FAA6F;KAC/G;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,IAAI,EAAE,EAAE;QACR,aAAa,EAAE,0LAA0L;KAC5M;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,kFAAkF;KACpG;IACD,IAAI,EAAE;QACF,MAAM,EAAE,4BAA4B;QACpC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,IAAI;QACZ,UAAU,EAAE,EAAE;QACd,aAAa,EAAE,8BAA8B;KAChD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,qBAAqB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,8BAA8B;KAChD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,8BAA8B;KAChD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,sBAAsB;QAC9B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,IAAI;QACZ,UAAU,EAAE,EAAE;QACd,aAAa,EAAE,8BAA8B;KAChD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,8BAA8B;KAChD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,oFAAoF;KACtG;IACD,IAAI,EAAE;QACF,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+FAA+F;KACjH;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,yFAAyF;KAC3G;IACD,IAAI,EAAE;QACF,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,0DAA0D;KAC5E;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+EAA+E;KACjG;IACD,IAAI,EAAE;QACF,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,8FAA8F;KAChH;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,6IAA6I;KAC/J;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,kBAAkB;QAC1B,SAAS,EAAE,eAAe;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,uEAAuE;KACzF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,eAAe;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,mCAAmC;KACrD;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,yBAAyB;QACjC,SAAS,EAAE,yBAAyB;QACpC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,oBAAoB;QAC/B,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,iEAAiE;KACnF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,mBAAmB;QAC3B,SAAS,EAAE,mBAAmB;QAC9B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,QAAQ;QACnB,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,2BAA2B;KAC7C;IACD,IAAI,EAAE;QACF,MAAM,EAAE,OAAO;QACf,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,iBAAiB;KACnC;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,WAAW;QACnB,SAAS,EAAE,gBAAgB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,OAAO,EAAE,KAAK;QACd,QAAQ,EAAE,eAAe;QACzB,aAAa,EAAE,qCAAqC;KACvD;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,YAAY;QACpB,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,cAAc;KAChC;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,aAAa;QACrB,SAAS,EAAE,kBAAkB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,UAAU,EAAE,CAAC;QACb,aAAa,EAAE,iCAAiC;KACnD;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,SAAS,EAAE,kBAAkB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,4GAA4G;KAC9H;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,aAAa;QACrB,SAAS,EAAE,kBAAkB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,yHAAyH;KAC3I;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,SAAS,EAAE,oBAAoB;QAC/B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,aAAa;QACxB,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,+FAA+F;KACjH;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,SAAS,EAAE,mBAAmB;QAC9B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,8FAA8F;KAChH;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,SAAS,EAAE,qBAAqB;QAChC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,iEAAiE;KACnF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,SAAS,EAAE,oBAAoB;QAC/B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,gEAAgE;KAClF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,SAAS,EAAE,mBAAmB;QAC9B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,+DAA+D;KACjF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,SAAS,EAAE,sBAAsB;QACjC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,qFAAqF;KACvG;IACD,IAAI,EAAE;QACF,MAAM,EAAE,aAAa;QACrB,SAAS,EAAE,kBAAkB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,+CAA+C;KACjE;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,8CAA8C;KAChE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,yIAAyI;KAC3J;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,WAAW;QACnB,SAAS,EAAE,gBAAgB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,iHAAiH;KACnI;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,onBAAonB;KACtoB;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,SAAS,EAAE,qBAAqB;QAChC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,yCAAyC;KAC3D;IACD,IAAI,EAAE;QACF,MAAM,EAAE,OAAO;QACf,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,iBAAiB;KACnC;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,uBAAuB;QAC/B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,6HAA6H;KAC/I;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,qBAAqB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,oEAAoE;KACtF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,0BAA0B;QAClC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+HAA+H;KACjJ;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,GAAG;QACd,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,yIAAyI;KAC3J;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,GAAG;QACd,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,gQAAgQ;KAClR;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,gUAAgU;KAClV;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,wDAAwD;KAC1E;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,yCAAyC;KAC3D;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,iDAAiD;KACnE;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,gDAAgD;KAClE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,uCAAuC;KACzD;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,eAAe;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,qEAAqE;KACvF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,MAAM;QACd,SAAS,EAAE,WAAW;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,8BAA8B;KAChD;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,qDAAqD;KACvE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,sGAAsG;KACxH;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,KAAK;QAChB,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,mLAAmL;KACrM;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,6BAA6B;QACrC,SAAS,EAAE,kCAAkC;QAC7C,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,6IAA6I;KAC/J;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,iBAAiB;QACzB,SAAS,EAAE,sBAAsB;QACjC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,2IAA2I;KAC7J;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,eAAe;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,kHAAkH;KACpI;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,eAAe;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,4IAA4I;KAC9J;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,2DAA2D;KAC7E;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,mTAAmT;KACrU;IACD,IAAI,EAAE;QACF,MAAM,EAAE,aAAa;QACrB,SAAS,EAAE,kBAAkB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,KAAK;QACd,aAAa,EAAE,qCAAqC;KACvD;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,UAAU;QAClB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,gIAAgI;KAClJ;IACD,IAAI,EAAE;QACF,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,4IAA4I;KAC9J;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,sCAAsC;KACxD;IACD,UAAU,EAAE;QACR,MAAM,EAAE,QAAQ;QAChB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,8DAA8D;KAChF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,sCAAsC;KACxD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,KAAK;QACjB,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,8BAA8B;KAChD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,KAAK;QACjB,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,8BAA8B;KAChD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,KAAK;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,8BAA8B;KAChD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,gDAAgD;KAClE;IACD,IAAI,EAAE;QACF,MAAM,EAAE,OAAO;QACf,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,6CAA6C;KAC/D;IACD,IAAI,EAAE;QACF,MAAM,EAAE,iBAAiB;QACzB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,8DAA8D;KAChF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,aAAa;QACrB,SAAS,EAAE,kBAAkB;QAC7B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,mIAAmI;KACrJ;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,GAAG;QACd,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,8QAA8Q;KAChS;IACD,IAAI,EAAE;QACF,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,sPAAsP;KACxQ;IACD,IAAI,EAAE;QACF,MAAM,EAAE,QAAQ;QAChB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,8BAA8B;KAChD;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,mSAAmS;KACrT;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,wIAAwI;KAC1J;IACD,IAAI,EAAE;QACF,MAAM,EAAE,kBAAkB;QAC1B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,gFAAgF;KAClG;IACD,IAAI,EAAE;QACF,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,4HAA4H;KAC9I;IACD,IAAI,EAAE;QACF,MAAM,EAAE,mBAAmB;QAC3B,SAAS,EAAE,gBAAgB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,aAAa,EAAE,6LAA6L;KAC/M;IACD,IAAI,EAAE;QACF,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,eAAe;QAC1B,aAAa,EAAE,8jBAA8jB;KAChlB;IACD,IAAI,EAAE;QACF,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+DAA+D;KACjF;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,OAAO;QAChB,aAAa,EAAE,8CAA8C;KAChE;IACD,IAAI,EAAE;QACF,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,kDAAkD;KACpE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,gBAAgB;QACxB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,0JAA0J;KAC5K;IACD,IAAI,EAAE;QACF,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,mIAAmI;KACrJ;IACD,IAAI,EAAE;QACF,MAAM,EAAE,OAAO;QACf,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,yHAAyH;KAC3I;IACD,IAAI,EAAE;QACF,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,gIAAgI;KAClJ;IACD,IAAI,EAAE;QACF,MAAM,EAAE,aAAa;QACrB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,IAAI;QACZ,MAAM,EAAE,IAAI;QACZ,aAAa,EAAE,mCAAmC;KACrD;IACD,IAAI,EAAE;QACF,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,8EAA8E;KAChG;IACD,IAAI,EAAE;QACF,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,qIAAqI;KACvJ;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB;QAC3B,SAAS,EAAE,0BAA0B;QACrC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,6IAA6I;KAC/J;IACD,IAAI,EAAE;QACF,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,iBAAiB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,6DAA6D;KAC/E;IACD,UAAU,EAAE;QACR,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,sEAAsE;KACxF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,wDAAwD;KAC1E;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,OAAO;QACf,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,8BAA8B;KAChD;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,0BAA0B;QAClC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,YAAY;QACvB,aAAa,EAAE,+CAA+C;KACjE;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,SAAS,EAAE,SAAS;QACpB,aAAa,EAAE,+GAA+G;KACjI;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+HAA+H;KACjJ;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,uBAAuB;QAC/B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,oEAAoE;KACtF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,4BAA4B;QACpC,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,kIAAkI;KACpJ;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,wDAAwD;KAC1E;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,UAAU,EAAE,EAAE;QACd,aAAa,EAAE,8DAA8D;KAChF;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,4DAA4D;KAC9E;IACD,QAAQ,EAAE;QACN,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,UAAU,EAAE,EAAE;QACd,aAAa,EAAE,kEAAkE;KACpF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,OAAO,EAAE,OAAO;QAChB,UAAU,EAAE,EAAE;QACd,aAAa,EAAE,gGAAgG;KAClH;IACD,UAAU,EAAE;QACR,MAAM,EAAE,MAAM;QACd,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,wEAAwE;KAC1F;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,cAAc;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,mFAAmF;KACrG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,QAAQ;QAChB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,kDAAkD;KACpE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,MAAM;QACd,SAAS,EAAE,WAAW;QACtB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,kDAAkD;KACpE;IACD,UAAU,EAAE;QACR,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,kDAAkD;KACpE;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,sBAAsB;QAC9B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE,KAAK;QACb,GAAG,EAAE,+BAA+B;QACpC,aAAa,EAAE,wMAAwM;KAC1N;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+DAA+D;KACjF;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,WAAW;QACnB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,yCAAyC;KAC3D;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,oBAAoB;QAC5B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,kFAAkF;KACpG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,0CAA0C;KAC5D;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,+CAA+C;KACjE;IACD,UAAU,EAAE;QACR,MAAM,EAAE,eAAe;QACvB,OAAO,EAAE,CAAC,CAAC;QACX,MAAM,EAAE,GAAG;QACX,UAAU,EAAE,IAAI;QAChB,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,4DAA4D;KAC9E;IACD,IAAI,EAAE;QACF,MAAM,EAAE,QAAQ;QAChB,OAAO,EAAE,CAAC,CAAC;QACX,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,MAAM,EAAE,KAAK;QACb,aAAa,EAAE,iPAAiP;KACnQ;IACD,IAAI,EAAE;QACF,MAAM,EAAE,MAAM;QACd,OAAO,EAAE,CAAC,CAAC;QACX,MAAM,EAAE,GAAG;QACX,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,wKAAwK;KAC1L;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,mBAAmB;QAC3B,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE,GAAG;QACd,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,kSAAkS;KACpT;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE,GAAG;QACd,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,kFAAkF;KACpG;IACD,MAAM,EAAE;QACJ,MAAM,EAAE,iBAAiB;QACzB,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE,GAAG;QACd,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,qEAAqE;KACvF;IACD,UAAU,EAAE;QACR,MAAM,EAAE,MAAM;QACd,OAAO,EAAE,CAAC;QACV,MAAM,EAAE,GAAG;QACX,WAAW,EAAE,IAAI;QACjB,UAAU,EAAE,IAAI;QAChB,QAAQ,EAAE,CAAC;QACX,aAAa,EAAE,gGAAgG;KAClH;CACJ,CAAC;;;;;;;;;;AChhEF,2CAAoC;AAEpC;IAAA;IA2BA,CAAC;IAzBiB,mBAAQ,GAAtB,UAAuB,MAAkB,EAAE,KAAiB;QAAjB,iCAAiB;QACxD,IAAI,GAAG,GAAW,CAAC,CAAC;QACpB,OAAO,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE;YACpB,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE;gBACvC,MAAM;aACT;SACJ;QAED,IAAI,GAAG,GAAG,CAAC,IAAI,KAAK,GAAG,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE;YACxC,OAAO,IAAI,CAAC;SACf;QAED,IAAI,KAAK,GAAW,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACzD,KAAK,IAAI,GAAC,GAAW,CAAC,EAAE,GAAC,GAAG,GAAG,EAAE,GAAC,EAAE,EAAE;YAClC,IAAI,GAAC,KAAK,CAAC,EAAE;gBACT,IAAI,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,IAAI,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE;oBACvD,OAAO,IAAI,iBAAI,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;iBAC5B;aACJ;YACD,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACxB,KAAK,IAAI,MAAM,CAAC,KAAK,GAAG,GAAC,CAAC,CAAC;SAC9B;QAED,OAAO,IAAI,iBAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAChC,CAAC;IACL,iBAAC;AAAD,CAAC;AA3BY,gCAAU;;;;;;;;;;;;;;;;;;;;ACFvB,qCAAiC;AACjC,sCAAiC;AAGjC,iDAA4D;AAE5D;IAA+B,6BAAK;IAQhC,mBAAY,IAAgB,EAAE,QAAa;QAA3C,iBAYC;QAXG,IAAM,IAAI,GAAW,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACvD,IAAM,KAAK,GAAW,IAAI,CAAC,SAAS,IAAI,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACnF,0BAAM,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,GAAG,GAAG,GAAG,KAAK,CAAC,SAAC;QAElD,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,KAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC;QACvC,KAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,kBAAkB,CAAC;;IACjD,CAAC;IAEc,iBAAO,GAAtB,UAAuB,IAAY;QAC/B,QAAQ,IAAI,EAAE;YACV,KAAK,CAAC;gBACN,OAAO,aAAK,CAAC,UAAU,CAAC;YAExB,KAAK,CAAC;gBACN,OAAO,aAAK,CAAC,UAAU,CAAC;YAExB,KAAK,CAAC;gBACN,OAAO,aAAK,CAAC,YAAY,CAAC;YAE1B,KAAK,IAAI;gBACT,OAAO,aAAK,CAAC,SAAS,CAAC;YAEvB,KAAK,IAAI;gBACT,OAAO,aAAK,CAAC,SAAS,CAAC;YAEvB,KAAK,IAAI;gBACT,OAAO,aAAK,CAAC,YAAY,CAAC;YAE1B,KAAK,IAAI;gBACT,OAAO,aAAK,CAAC,YAAY,CAAC;YAE1B;gBACA,OAAO,aAAK,CAAC,YAAY,CAAC;SAC7B;IACL,CAAC;IAEc,4BAAkB,GAAjC,UAAkC,OAAe;QAC7C,IAAI,CAAC,OAAO,EAAE;YACV,OAAO,IAAI,CAAC;SACf;QACD,IAAM,GAAG,GAAW,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,GAAG,GAAG,CAAC,EAAE;YACT,OAAO,OAAO,CAAC;SAClB;QACD,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;IACnC,CAAC;IAEM,6BAAS,GAAhB;QACI,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAEM,+BAAW,GAAlB;QAC4B,qEAAqE;QACrE,mDAAmD;QAC3E,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAChB,OAAO,IAAI,CAAC;SACf;QACD,IAAI,IAAI,CAAC,IAAI,KAAK,aAAK,CAAC,UAAU,EAAE;YAChC,OAAO;gBACH,SAAS,EAAE;oBACP,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW;oBACjC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,UAAU;iBAClC;gBACD,WAAW,EAAE;oBACT,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa;oBACnC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,YAAY;iBACpC;aACJ,CAAC;SACL;aAAM,IAAI,IAAI,CAAC,IAAI,KAAK,aAAK,CAAC,UAAU,EAAE;YACvC,OAAO;gBACH,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,iBAAiB;aAC9C,CAAC;SACL;IACL,CAAC;IAEM,+BAAW,GAAlB,UAAmB,IAAY;QAC3B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;IACjC,CAAC;IAEM,gCAAY,GAAnB,UAAoB,OAAa,EAAE,OAAoB;QACnD,IAAM,MAAM,GAAe,OAAO,CAAC,IAAkB,CAAC;QACtD,IAAM,QAAQ,GAAW,2BAAe,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;QAC7E,IAAM,KAAK,GAAW,2BAAe,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/G,IAAI,OAAO,CAAC,IAAI,KAAK,aAAa,IAAI,KAAK,GAAG,IAAI,EAAE;YAChD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,aAAK,CAAC,aAAK,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;SAC7E;aAAM;YACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,aAAK,CAAC,aAAK,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;SAC3E;IACL,CAAC;IACL,gBAAC;AAAD,CAAC,CAzG8B,aAAK,GAyGnC;AAzGY,8BAAS;;;;;;;;;;ACNtB,oCAAkC;AAalC;IAAA;IA4FA,CAAC;IAjEkB,2BAAiB,GAAhC,UAAiC,KAA4B;QACzD,IAAM,IAAI,GAAW,SAAS,CAAC,UAAU,EAAE,CAAC;QAC5C,IAAM,OAAO,GAAe,KAAK,CAAC,gBAAgB,EAAE,CAAC;QACrD,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAClC,WAAW,CAAC;YACR,IAAI,EAAE,KAAK,CAAC,mBAAmB,CAAC,6BAA6B;YAC7D,GAAG,EAAE,IAAI;YACT,IAAI,EAAE,OAAO;SAChB,CAAC,CAAC;IACP,CAAC;IAEc,8BAAoB,GAAnC,UAAoC,KAA4B;QAC5D,IAAM,IAAI,GAAW,SAAS,CAAC,UAAU,EAAE,CAAC;QAC5C,IAAM,OAAO,GAAkB,KAAK,CAAC,mBAAmB,EAAE,CAAC;QAC3D,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAClC,WAAW,CAAC;YACR,IAAI,EAAE,KAAK,CAAC,mBAAmB,CAAC,gCAAgC;YAChE,GAAG,EAAE,IAAI;YACT,IAAI,EAAE,OAAO;SAChB,CAAC,CAAC;IACP,CAAC;IAEc,4BAAkB,GAAjC,UAAkC,KAA4B;QAC1D,IAAM,IAAI,GAAW,SAAS,CAAC,UAAU,EAAE,CAAC;QAC5C,IAAM,OAAO,GAAgB,KAAK,CAAC,iBAAiB,EAAE,CAAC;QACvD,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAClC,WAAW,CAAC;YACR,IAAI,EAAE,KAAK,CAAC,mBAAmB,CAAC,8BAA8B;YAC9D,GAAG,EAAE,IAAI;YACT,IAAI,EAAE,OAAO;SAChB,CAAC,CAAC;IACP,CAAC;IAEc,0BAAgB,GAA/B,UAAgC,KAA4B;QACxD,IAAI,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YACpC,IAAM,OAAO,GAAa,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC7D,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,WAAW,CAAC;gBACR,IAAI,EAAE,KAAK,CAAC,mBAAmB,CAAC,2BAA2B;gBAC3D,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG;gBACnB,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;SACN;IACL,CAAC;IAEc,gBAAM,GAArB,UAAsB,KAA4B;QAC9C,IAAI,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;YACpC,IAAM,OAAO,GAAa,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC7D,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;YACzC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACtC,WAAW,CAAC;gBACR,IAAI,EAAE,KAAK,CAAC,mBAAmB,CAAC,gBAAgB;gBAChD,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG;gBACnB,IAAI,EAAE,OAAO;aAChB,CAAC,CAAC;SACN;IACL,CAAC;IAEc,oBAAU,GAAzB;QACI,OAAO,KAAG,IAAI,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,EAAE,EAAE,SAAI,IAAI,CAAC,EAAE,EAAE,SAAI,IAAI,CAAC,EAAE,EAAE,SAAI,IAAI,CAAC,EAAE,EAAE,SAAI,IAAI,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,EAAE,EAAI,CAAC;IAClH,CAAC;IAEc,YAAE,GAAjB;QACI,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IAC/E,CAAC;IA1Fa,mBAAS,GAAG,CAAC,UAAC,KAAK;QAC7B,IAAI,KAAK,CAAC,IAAI,EAAE;YACZ,QAAQ,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE;gBACrB,KAAK,KAAK,CAAC,mBAAmB,CAAC,oBAAoB;oBAC/C,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;oBACnC,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,uBAAuB;oBAClD,SAAS,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;oBACtC,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,qBAAqB;oBAChD,SAAS,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;oBACpC,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,kBAAkB;oBAC7C,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;oBAClC,MAAM;gBACV,KAAK,KAAK,CAAC,mBAAmB,CAAC,OAAO;oBAClC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;oBACxB,MAAM;gBACV;oBACI,MAAM;aACb;SACJ;IACL,CAAC,CAAC,CAAC;IAEY,cAAI,GAA0B,IAAI,GAAG,EAAoB,CAAC;IAmE7E,gBAAC;CAAA;AA5FY,8BAAS;;;;;;;;;;;;;;;;;;;;ACbtB,yCAA8C;AAS9C,kDAAkD;AAClD,6CAA6C;AAE7C,2CAA2C;AAC3C,IAAI,cAAc,GAAQ,cAAO,CAAC,CAAC;AAEnC,sCAAsC;AACtC,cAAc,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,OAAO;IAChE,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;IAE7C,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;IACxB,IAAI,GAAG,GAAQ,EAAE,CAAC;IAClB,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;IAC1B,IAAI,CAAC,KAAK,EAAE;QACV,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;KACjC;IACD,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;IAC5B,IAAI,CAAC,MAAM,EAAE;QACX,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;KACnC;IAED,oEAAoE;IAEpE,0BAA0B;IAE1B,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;IACzB,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;IAE3B,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAEvC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,SAAS,CAAC;IAC7C,OAAO,GAAG,CAAC;AACb,CAAC,CAAC;AAEF;IAAuC,qCAAS;IAc9C,4CAA4C;IAE5C;QAAA,YACE,iBAAO,SACR;QAdO,aAAO,GAAQ,IAAI,cAAc,CAAC;YACxC,SAAS,EAAE,KAAK;YAChB,WAAW,EAAE,IAAI;YACjB,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE;gBACJ,KAAK,EAAE,GAAG;gBACV,MAAM,EAAE,GAAG;aACZ;SACF,CAAC,CAAC;;IAMH,CAAC;IAhBM,yBAAO,GAAd,cAA2B,OAAO,mBAAmB,EAAC,CAAC;IAkBvD,oDAAwB,GAAxB,UAA0B,UAAsB;QAC9C,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC7C,CAAC;IAES,4CAAgB,GAA1B,UAA4B,GAAgB,EAAE,CAAS;QACrD,CAAC,CAAC,kBAAkB,CAClB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,EACjC,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,CAAC;QAER,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,8CAAkB,GAA1B,UAA4B,WAAwB,EAAE,GAAU;QAC9D,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC;QAE3C,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,0CAAc,GAAtB,UAAwB,CAAS,EAAE,WAAwB;IAE3D,CAAC;IACH,wBAAC;AAAD,CAAC,CA1CsC,qBAAS,GA0C/C;AA1CY,8CAAiB;;;;;;;;;;;;;;;;;;;;AC3C9B,2CAAqD;AACrD,oDAAsE;AACtE,wDAA6E;AAC7E,0DAA0G;AAC1G,qCAA6D;AAE7D,qDAAwE;AACxE,iEAA8F;AAC9F,yCAAuE;AACvE,wDAA6E;AAC7E,sCAAsC;AACtC,mDAA2D;AAGpD,yDAAG,CAAuC;AAEjD;IAA2C,yCAAI;IAO7C,+BAAa,GAAW,EAAE,WAAwB;QAAlD,YACE,kBACE,UAAC,SAAS,EAAE,QAAQ;YAClB,GAAG,CAAC,iBAAiB,EAAE,SAAS,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;QAC5D,CAAC,EACD,UAAC,MAAM;YACL,GAAG,CAAC,+BAA+B,EAAE,MAAM,CAAC,CAAC;QAC/C,CAAC,CACF,SA+DF;QA1EO,gBAAU,GAAG,KAAK,CAAC;QACnB,gBAAU,GAAG,KAAK,CAAC;QAYzB,IAAM,YAAY,GAAG,IAAI,uCAAiB,EAAE,CAAC;QAC7C,IAAM,WAAW,GAAG,IAAI,8CAAoB,EAAE,CAAC;QAC/C,IAAM,aAAa,GAAG,IAAI,yCAAkB,EAAE,CAAC;QAC/C,IAAM,UAAU,GAAG,IAAI,2CAAe,EAAE,CAAC;QACzC,IAAM,eAAe,GAAG,IAAI,8CAAoB,EAAE,CAAC;QAEnD,IAAM,SAAS,GAAG,KAAI,CAAC,UAAU,GAAG,IAAI,sBAAS,CAAC,GAAG,CAAC,CAAC;QAEvD,IAAM,iBAAiB,GACnB,IAAI,+DAA4B,CAAC,WAAW,CAAC,CAAC,CAAC,cAAc;QAEjE,IAAM,oBAAoB,GAAG,UAAC,IAAwB;YACpD,IAAM,iBAAiB,GAAkB,IAAI,CAAC,MAAM,CAAC;YAErD,GAAG,CAAC,wBAAwB,CAAC,CAAC;YAE9B,IAAI,gBAAgB,CAAC;YAErB,IAAM,iBAAiB,GAAG,iBAAiB,CAAC,OAAO,EAAE,CAAC;YAEtD,IAAI,IAAI,CAAC,SAAS,KAAK,YAAY,EAAE;gBAEnC,iBAAiB,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/C,gBAAgB,GAAG,eAAe,CAAC,WAAW,EAAE,CAAC;gBACjD,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;aAEhD;iBAAM,IAAI,IAAI,CAAC,SAAS,KAAK,WAAW,EAAE;gBAEzC,IAAI,CAAC,KAAI,CAAC,UAAU;uBACb,kCAAY,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE;oBAElD,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,gBAAgB,GAAG,eAAe,CAAC,WAAW,EAAE,CAAC;oBACjD,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;oBAC/C,iBAAiB,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;iBAEhD;qBAAM,IAAI,CAAC,KAAI,CAAC,UAAU;uBACpB,kCAAY,CAAC,KAAK,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE;oBAElD,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,gBAAgB,GAAG,eAAe,CAAC,WAAW,EAAE,CAAC;oBACjD,iBAAiB,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;iBAE7C;aACF;QAEH,CAAC;QAED,KAAI,CAAC,GAAG,CAAC,YAAY,EAAE,eAAe,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC;QAEjE,WAAW,CAAC,EAAE,CAAC,0BAAc,CAAC,qBAAqB,EAAE,oBAAoB,CAAC,CAAC;QAC3E,YAAY,CAAC,EAAE,CAAC,0BAAc,CAAC,qBAAqB,EAAE,oBAAoB,CAAC,CAAC;QAE5E,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAC7C,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAElD,IAAI,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,EAAE,kCAAkC;YAC3D,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;SACtC;aAAM,EAAE,kCAAkC;YACzC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;SACvC;;IACH,CAAC;IAED;;OAEG;IACH,kDAAkB,GAAlB;QACE,OAAO,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;IACpC,CAAC;IAES,4CAAY,GAAtB,UAAuB,IAAkB,IAAG,CAAC;IAEnC,gDAAgB,GAA1B,UAA4B,IAAkB,IAAG,CAAC;IAExC,gDAAgB,GAA1B,UAA4B,IAAkB,IAAG,CAAC;IAExC,mDAAmB,GAA7B,UAA+B,IAAkB,IAAG,CAAC;IAE3C,mDAAmB,GAA7B,UAA+B,IAAkB,IAAG,CAAC;IAE3C,qDAAqB,GAA/B,UAAiC,MAAc,IAAG,CAAC;IACrD,4BAAC;AAAD,CAAC,CAlG0C,WAAI,GAkG9C;AAlGY,sDAAqB;;;;;;;;;;;;;;;;;;;;AChBlC,8CAA6C;AAE7C,qDAI+B;AAE/B,sCAAuC;AAEhC,6DAAK,CAAuC;AAEnD,IAAY,2BAIX;AAJD,WAAY,2BAA2B;IACrC,0EAA2C;IAC3C,gFAAiD;IACjD,+DAAgC;AAClC,CAAC,EAJW,2BAA2B,GAA3B,mCAA2B,KAA3B,mCAA2B,QAItC;AAED;IAA2C,yCAAY;IAOrD,+BAAa,WAAyB;QAAtC,YACE,iBAAO,SAeR;QAbC,IAAI,CAAC,CAAC,WAAW,IAAI,WAAW,CAAC,EAAE;YACjC,MAAM,IAAI,KAAK,CAAC,4EAA4E,CAAC,CAAC;SAC/F;QAED,IAAI,CAAC,WAAW,EAAE;YAChB,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;SACjC;QAED,KAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,KAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;QAC9B,KAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,KAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;;IACxC,CAAC;IAED,sBAAI,gDAAa;aAAjB;YACE,OAAO,IAAI,CAAC,cAAc,CAAC;QAC7B,CAAC;;;OAAA;IAED,sBAAI,iDAAc;aAAlB;YACE,OAAO,IAAI,CAAC,eAAe,CAAC;QAC9B,CAAC;;;OAAA;IAED,sBAAI,8CAAW;aAAf;YACE,OAAO,IAAI,CAAC,YAAY,CAAC;QAC3B,CAAC;;;OAAA;IAED,sBAAI,qDAAkB;aAAtB;YACE,OAAO,IAAI,CAAC,mBAAmB,CAAC;QAClC,CAAC;;;OAAA;IAED,oDAAoB,GAApB,UAAsB,QAAgB;QAAtC,iBAyBC;QAxBC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,QAAQ,CAAC,EAAE;YAC1C,KAAK,CAAC,6BAA6B,EAAE,QAAQ,CAAC,CAAC;YAC/C,OAAO,KAAK,CAAC;SACd;QAED,IAAI,IAAI,CAAC,WAAW,CAAC,UAAU,KAAK,MAAM,EAAE;YAC1C,KAAK,CAAC,uBAAuB,CAAC,CAAC;YAC/B,OAAO,KAAK,CAAC;SACd;QAED,IAAI;YACF,IAAM,OAAO,GAAG,IAAI,uCAAiB,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,IAAI,EACpE,UAAC,OAAO,EAAE,SAAS;gBACjB,KAAI,CAAC,4BAA4B,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC;YAEL,mCAAmC;YAEnC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACxC;QAAC,OAAO,GAAG,EAAE;YACZ,KAAK,CAAC,GAAG,CAAC,CAAC;YACX,OAAO,KAAK,CAAC;SACd;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gEAAgC,GAAhC,UAAiC,QAAgB;QAC/C,OAAO,CAAC,CAAC,IAAI,CAAC,+BAA+B,CAAC,QAAQ,CAAC,CAAC,MAAM;IAChE,CAAC;IAED,+DAA+B,GAA/B,UAAiC,QAAQ;QACvC,OAAO,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,UAAC,GAAG;YACzC,OAAO,GAAG,CAAC,QAAQ,KAAK,QAAQ,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qDAAqB,GAArB,UAAuB,WAAW;QAChC,OAAO,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAC,GAAG;YACtC,OAAO,GAAG,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sEAAsC,GAAtC;QAAA,iBAIC;QAHC,OAAO,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAC,GAAG;YACtC,OAAO,GAAG,CAAC,qBAAqB,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oDAAoB,GAApB,UAAsB,SAAS;QAC7B,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAM,cAAc,GAAG,GAAG,GAAG,IAAI,CAAC,yBAAyB,CAAC;QAC5D,IAAM,cAAc,GAAG,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC;QACxD,IAAM,iBAAiB,GAAG,cAAc,GAAG,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS,EAAE;YACtC,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;YACjC,IAAI,CAAC,yBAAyB,GAAG,GAAG,CAAC;YACrC,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,mBAAmB,EAAE,SAAS,CAAC,CAAC;YAEtE,iDAAiD;SAClD;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;SACjE;IACH,CAAC;IAED,gDAAgB,GAAhB,UAAkB,QAAQ,EAAE,oBAAqC;QAArC,mEAAqC;QAC/D,IAAI,IAAI,CAAC,cAAc,KAAK,QAAQ,EAAE;YACpC,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC;YAE/B,IAAI,oBAAoB,EAAE;gBACxB,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,QAAQ,CAAC,CAAC,qBAAqB;aAC5D;YAED,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,sBAAsB,EAAE,QAAQ,CAAC,CAAC;SACzE;IACH,CAAC;IAED,4DAA4B,GAA5B,UAA8B,iBAAiB,EAAE,mCAAmC;QAClF,OAAO;IACT,CAAC;IACH,4BAAC;AAAD,CAAC,CAzH0C,4BAAY,GAyHtD;AAzHY,sDAAqB;;;;;;;;;;AChBlC,sCAAyC;AAEjC,uDAAG,CAAsC;AAgBjD;IASE,6BAA6B;IAE7B,2BACE,WAAwB,EAChB,SAAiB,EACzB,aAAoB,EACZ,SAAuD;QAE/D,wBAAwB;QAHxB,oDAAoB;QACZ,yCAA8C,cAAO,CAAC,CAAC;QAFvD,cAAS,GAAT,SAAS,CAAQ;QAEjB,cAAS,GAAT,SAAS,CAA8C;QAbzD,uBAAkB,GAAW,IAAI,CAAC;QAClC,WAAM,GAA4B,EAAE,CAAC;QAErC,wBAAmB,GAAW,CAAC,CAAC;QAChC,kBAAa,GAAiB,IAAI,CAAC;QACnC,iBAAY,GAAW,IAAI,CAAC;QAYlC,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAC5D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;QAE5C,GAAG,CAAC,yCAAyC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAElE,IAAI,aAAa,EAAE;YACjB,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;YACrE,mDAAmD;SACpD;QAED,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACnF,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACjF,CAAC;IAED,sBAAI,uCAAQ;aAAZ;YACE,OAAO,IAAI,CAAC,SAAS,CAAC;QACxB,CAAC;;;OAAA;IAED,sBAAI,iDAAkB;aAAtB;YACE,OAAO,IAAI,CAAC,mBAAmB,CAAC;QAClC,CAAC;;;OAAA;IAED;;;;;;;;;;;;;;QAcC;IAED,mDAAuB,GAAvB;QACE,OAAO,IAAI,CAAC,YAAY,KAAK,UAAU,CAAC;IAC1C,CAAC;IAED,mCAAO,GAAP;QACE,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;IACjC,CAAC;IAED,6CAAiB,GAAjB,UAAmB,oBAAoB;QACrC,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACrB,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;SACnD;QACD,IAAI,CAAC,oBAAoB,EAAE;YACzB,IAAI,IAAI,CAAC,uBAAuB,EAAE,EAAE;gBAClC,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;aACrD;iBAAM;gBACL,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,UAAU,CAAC;aACtC;SACF;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,UAAU,CAAC;SACtC;IACH,CAAC;IAED,sCAAU,GAAV;QACE,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;IACrC,CAAC;IAED,iDAAqB,GAArB,UAAuB,eAAe,CAAC,4BAA4B;QACjE,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;IACrC,CAAC;IAED,+CAAmB,GAAnB;QACE,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAC,IAAI;YAC7B,OAAO,IAAI,CAAC,MAAM,KAAK,cAAc,CAAC;QACxC,CAAC,CAAC,CAAC,MAAM,CAAC,UAAC,IAAI,EAAE,IAAI;YACnB,OAAO,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;QAC5C,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IAED,yCAAa,GAAb;QACE,OAAO,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC9D,CAAC;IAED,+CAAmB,GAAnB,UAAqB,YAAoB;QACvC,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAC,IAAI;YAC7B,IAAI,CAAC,YAAY,EAAE;gBACjB,OAAO,IAAI,CAAC;aACb;YACD,OAAO,YAAY,KAAK,IAAI,CAAC,MAAM,CAAC;QACtC,CAAC,CAAC,CAAC,MAAM,CAAC;IACZ,CAAC;IAED,wCAAY,GAAZ,UAAc,WAAwB,EAAE,eAAuB;QAC7D,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,cAAc,EAAE,WAAW,eAAE,eAAe,mBAAE,CAAC,CAAC;QAE3E,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,8CAAkB,GAAlB,UAAoB,MAAc;QAChC,IAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAEnC,IAAM,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,cAAc,CAAC;QAC/C,IAAM,GAAG,GAAG,WAAW,CAAC,KAAK,CAAC,cAAc,GAAG,WAAW,CAAC,KAAK,CAAC,iBAAiB,EAAE;QACpF,IAAM,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC;QAC5C,IAAM,eAAe,GAAG,CAAC,CAAC;QAE1B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,cAAc,EAAE,KAAK,SAAE,GAAG,OAAE,WAAW,eAAE,eAAe,mBAAE,CAAC,CAAC;QAEvF,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,kCAAM,GAAN,UAAQ,KAAK,EAAE,GAAG;QAChB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,SAAE,GAAG,OAAE,CAAC,CAAC;QAEnD,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,qCAAS,GAAT;QACE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;QAErC,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,gCAAI,GAAJ,UAAM,cAAc;QAClB,IAAI,cAAc,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACvC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACnB,CAAC;IAED,iCAAK,GAAL;QACE,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAED,wCAAY,GAAZ;QACE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChB,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAED;;;;;;;;MAQE;IAEM,4CAAgB,GAAxB;QACE,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACrB,OAAO;SACR;QAED,IAAM,IAAI,GAA0B,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACxD,IAAI,CAAC,IAAI,EAAE;YACT,OAAO;SACR;QAEO,wBAAM,EAAE,8BAAW,EAAE,sCAAe,EAAE,kBAAK,EAAE,cAAG,CAAU;QAElE,uDAAuD;QAEvD,QAAQ,MAAM,EAAE;YAChB,KAAK,cAAc;gBACjB,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,EAAE,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;gBACnF,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC;gBAExC,uDAAuD;gBACvD,kEAAkE;gBAElE,MAAM;YACR,KAAK,QAAQ;gBACX,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,yBAAyB,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC;gBACzE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;gBACvC,MAAM;YACR,KAAK,MAAM;gBACT,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,QAAQ,EAAE,uBAAuB,CAAC,CAAC;gBAC5D,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACjB,MAAM;SACP;IACH,CAAC;IAEO,wCAAY,GAApB;QACE,IAAM,YAAY,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC;QAC1D,IAAM,YAAY,GAAG;YACnB,YAAY;SACb,CAAC;QACF,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAE/B,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,EAAE,qBAAqB,EAAE,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QAE5F,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;QAEnC,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAEO,0CAAc,GAAtB;QACE,yBAAyB;QAEzB,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI,EAAE;YACpC,MAAM,IAAI,KAAK,CAAC,mCAAmC,CAAC,CAAC;SACtD;QACD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IACvC,CAAC;IACH,wBAAC;AAAD,CAAC;AA9NY,8CAAiB;;;;;;;8CCpB9B,+GAAe;AAAA;AAAA;AAAA,qGAAsD,wCAAwC,KAAK,iBAAiB,WAAW,UAAU,kBAAkB,aAAa,gBAAgB,+BAA+B,WAAW,4FAA4F,WAAW,kEAAkE,4DAA4D,YAAY,IAAI,kBAAkB,yBAAyB,0DAA0D,kBAAkB,sBAAsB,yCAAyC,UAAU,cAAc,yBAAyB,iEAAiE,cAAc,IAAI,yCAAyC,SAAS,0CAA0C,0FAA0F,qOAAqO,0DAA0D,uDAAuD,iNAAiN,0BAA0B,4BAA4B,KAAK,KAAK,gDAAgD,mFAAmF,sBAAsB,KAAK,kCAAkC,iDAAiD,KAAK,GAAG,mBAAmB,8HAA8H,oIAAoI,2CAA2C,qBAAqB,uBAAuB,eAAe,0BAA0B,GAAG,wBAAwB,yCAAyC,oBAAoB,KAAK,gDAAgD,4DAA4D,qBAAqB,OAAO,EAAE,mEAAmE;;AAEr/E,yC;;;;;;;;;;;;;;;;;;;;ACDA,sCAAmD;AACnD,yCAAiH;AACjH,sCAA6E;AAC7E,sCAAgD;AAChD,kDAAmE;AAEnE,oCAA4C;AAEtC,uEAA0E,EAAxE,YAAG,EAAE,gBAAK,EAAE,cAAI,EAAE,gBAAK,CAAkD;AAEjF,IAAY,2BAMX;AAND,WAAY,2BAA2B;IACrC,8CAAe;IACf,kDAAmB;IACnB,gDAAiB;IACjB,sDAAuB;IACvB,8DAA+B;AACjC,CAAC,EANW,2BAA2B,GAA3B,mCAA2B,KAA3B,mCAA2B,QAMtC;AAQD,IAAY,4BAQX;AARD,WAAY,4BAA4B;IACtC,mDAAmB;IACnB,uDAAuB;IACvB,mDAAmB;IACnB,yDAAyB;IACzB,wDAAwB;IACxB,qDAAqB;IACrB,+CAAe;AACjB,CAAC,EARW,4BAA4B,GAA5B,oCAA4B,KAA5B,oCAA4B,QAQvC;AAsBD;IAME,8BACU,UAAwB,EACxB,UAAwB,EACxB,WAAuE,EACvE,eAAwC,EACxC,QAAyC,EACzC,cAA2C;QANrD,iBAyDC;QAxDS,eAAU,GAAV,UAAU,CAAc;QACxB,eAAU,GAAV,UAAU,CAAc;QACxB,gBAAW,GAAX,WAAW,CAA4D;QACvE,oBAAe,GAAf,eAAe,CAAyB;QACxC,aAAQ,GAAR,QAAQ,CAAiC;QACzC,mBAAc,GAAd,cAAc,CAA6B;QAV7C,kBAAa,GAAW,IAAI,CAAC;QAC7B,sBAAiB,GAAY,KAAK,CAAC;QACnC,YAAO,GAAW,IAAI;QAW5B,IAAM,iBAAiB,GAAG,qBAAe,CAAC,iBAAiB,CAAC;QAE5D,IAAI;YACF,IAAI,CAAC,OAAO,GAAG,IAAI,MAAM,CAAC,iBAAiB,CAAC,CAAC;YAC7C,GAAG,CAAC,2CAA2C,EAAE,iBAAiB,CAAC;SACpE;QAAC,OAAM,GAAG,EAAE;YACX,KAAK,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAC3C,OAAO,IAAI,CAAC;SACb;QAED,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAC,KAAiB;YACvD,uEAAuE;YACvE,KAAK,CAAC,8BAA2B,KAAK,CAAC,OAAO,OAAG,CAAC,CAAC;YACnD,KAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC7B,CAAC,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAC,KAAmB;YAC3D,IAAM,YAAY,GAAwE,KAAK,CAAC,IAAI,CAAC;YAErG,KAAK,CAAC,mBAAmB,EAAE,KAAK,CAAC;YAEjC,QAAQ,YAAY,CAAC,QAAQ,EAAE;gBAC/B,KAAK,4BAA4B,CAAC,OAAO,CAAC,CAAC;oBACzC,KAAI,CAAC,aAAa,GAAG,YAAY,CAAC,KAAK,CAAC;oBACxC,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;oBAC9B,KAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,MAAM;iBACP;gBACD,KAAK,4BAA4B,CAAC,OAAO,CAAC,CAAC;oBACzC,KAAI,CAAC,UAAU,EAAE,CAAC;oBAClB,MAAM;iBACP;gBACD,KAAK,4BAA4B,CAAC,QAAQ,CAAC,CAAC;oBAC1C,IAAM,aAAa,GAA8C,YAAY,CAAC,KAAK,CAAC;oBACpF,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;oBAChC,MAAM;iBACP;gBACD,KAAK,4BAA4B,CAAC,aAAa,CAAC,CAAC;oBAC/C,KAAI,CAAC,eAAe,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBACzC,MAAM;iBACP;gBACD,KAAK,4BAA4B,CAAC,KAAK,CAAC,CAAC;oBACvC,KAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBAClC,MAAM;iBACP;gBACD,OAAO,CAAC,CAAC,MAAM,IAAI,KAAK,CAAC,yBAAyB,GAAG,YAAY,CAAC,QAAQ,CAAC;aAC1E;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sBAAI,8CAAY;aAAhB;YACE,0GAA0G;YAC1G,0GAA0G;YAC1G,qJAAqJ;YACrJ,OAAO,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC;QACjC,CAAC;;;OAAA;IAED,oCAAK,GAAL,UAAM,iBAAgC;QAAhC,0DAAgC;QACpC,IAAM,IAAI,GAAG,iBAAiB,CAAC;QAC/B,GAAG,CAAC,cAAc,CAAC;QACnB,IAAM,OAAO,GAAoC;YAC/C,OAAO,EAAE,2BAA2B,CAAC,KAAK;YAC1C,YAAY,EAAE,IAAI;YAClB,IAAI;SACL;QACD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IAED,sCAAO,GAAP,UAAQ,YAAoB;QAC1B,GAAG,CAAC,gBAAgB,CAAC;QACrB,IAAM,OAAO,GAAoC;YAC/C,OAAO,EAAE,2BAA2B,CAAC,OAAO;YAC5C,YAAY;YACZ,IAAI,EAAE,IAAI;SACX;QACD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IAED,qCAAM,GAAN,UAAO,YAAoB,EAAE,QAAgB,EAAE,mBAA0B;QACvE,GAAG,CAAC,0CAA0C,EAAE,QAAQ,CAAC;QACzD,IAAM,OAAO,GAAoC;YAC/C,OAAO,EAAE,2BAA2B,CAAC,MAAM;YAC3C,YAAY;YACZ,IAAI,GAAG,QAAQ,SAAK,mBAAmB,CAAC;SACzC;QACD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IAED,2CAAY,GAAZ,UAAa,YAAY,EAAE,UAAkB,EAAE,UAAiB,EAAE,cAA8B;QAC9F,KAAK,CAAC,uBAAuB,EAAE,UAAU,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAC3B,IAAI,CAAC,gHAA8G,UAAU,MAAG,CAAC,CAAC;SACnI;QACD,IAAM,OAAO,GAAoC;YAC/C,OAAO,EAAE,2BAA2B,CAAC,aAAa;YAClD,YAAY;YACZ,IAAI,GAAG,UAAU,SAAK,UAAU,CAAC;SAClC;QACD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;IACpD,CAAC;IAEH,2BAAC;AAAD,CAAC;AApHY,oDAAoB;AAsHjC;IAAoC,kCAAS;IAK3C,wBACmB,mBAA2B,EAAE,yEAAyE;IACvH,OAAqB,EACJ,cAA0B,EAC1B,kBAAiC;QADjC,oDAA0B;QAC1B,4DAAiC;QAJpD,YAME,iBAAO,SAuFR;QA5FkB,yBAAmB,GAAnB,mBAAmB,CAAQ;QAE3B,oBAAc,GAAd,cAAc,CAAY;QAC1B,wBAAkB,GAAlB,kBAAkB,CAAe;QAN5C,cAAQ,GAAY,KAAK,CAAC;QAUhC,6CAA6C;QAC7C,KAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,kDAAkD;QAClD,KAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QAEjC,IAAM,SAAS,GAAG;YAChB,GAAG,CAAC,wCAAsC,KAAI,CAAC,OAAO,CAAC,YAAc,CAAC;QACxE,CAAC;QAED,IAAM,SAAS,GAAG;YAChB,GAAG,CAAC,oCAAkC,mBAAmB,cAAW,CAAC,CAAC;YACtE,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,OAAO,EAAE,CAAC;QACZ,CAAC;QAED,IAAM,UAAU,GAAG,UAAC,aAAwD;YAC1E,KAAI,CAAC,6BAA6B,CAAC,aAAa,CAAC,MAAM,EAAE,aAAa,CAAC,WAAW,CAAC,CAAC;QACtF,CAAC;QAED,IAAM,cAAc,GAAG,UAAC,SAAc;YACpC,OAAO;YACP,KAAK,CAAC,oDAAoD,EAAE,SAAS,CAAC,CAAC;QACzE,CAAC;QAED;;;;;;;;;;;;;;UAcE;QAEF,IAAM,OAAO,GAAG,UAAC,KAAqB;YACpC,IAAI,IAAwB,CAAC;YAC7B,IAAI,MAAc,CAAC;YAEnB,yGAAyG;YACzG,wCAAwC;YAExC,QAAO,KAAK,EAAE;gBACd,KAAK,0BAAc,CAAC,oBAAoB;oBACtC,MAAM,GAAG,iBAAM,WAAW,YAAE;oBAC5B,MAAM;gBACR,KAAK,0BAAc,CAAC,qBAAqB;oBACvC,MAAM,GAAG,iBAAM,YAAY,YAAE;oBAC7B,MAAM;gBACR,KAAK,0BAAc,CAAC,KAAK;oBACvB,KAAI,CAAC,IAAI,CAAC,0BAAc,CAAC,KAAK,EAAE;wBAC9B,SAAS,EAAE,KAAI;wBACf,KAAK,EAAE,0BAAc,CAAC,KAAK;qBAC5B,CAAC;oBACF,MAAM;aACP;QACH,CAAC;QAED,IAAM,aAAa,GAAG,UAAC,KAAiB;YAEtC,KAAI,CAAC,IAAI,CAAC,0BAAc,CAAC,KAAK,EAAE;gBAC9B,KAAK,EAAE,0BAAc,CAAC,KAAK;gBAC3B,SAAS,EAAE,KAAI;gBACf,MAAM,EAAE,IAAI;aACb,CAAC,CAAC;QACL,CAAC;QAED,KAAI,CAAC,OAAO,GAAG,IAAI,oBAAoB,CACrC,SAAS,EACT,SAAS,EACT,UAAU,EACV,cAAc,EACd,OAAO,EACP,aAAa,CACd,CAAC;QAEF,+HAA+H;QAC/H,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;QACvC,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,YAAY,EAAE,mBAAmB,EAAE,cAAc,CAAC,CAAC;QACpF,KAAI,CAAC,2BAA2B,EAAE,CAAC;;IACrC,CAAC;IAED,sBAAI,+CAAmB;aAAvB;YACE,OAAO,IAAI,CAAC,mBAAmB,CAAC;QAClC,CAAC;;;OAAA;IAED,sBAAI,mCAAO;aAAX;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC;QACvB,CAAC;;;OAAA;IAED,oCAAW,GAAX,UAAY,EAAqB;QAC/B,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1E,OAAO,iBAAM,WAAW,YAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;IAED,qCAAY,GAAZ,UAAa,EAAqB;QAChC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,cAAc,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3E,OAAO,iBAAM,YAAY,YAAC,EAAE,CAAC;IAC/B,CAAC;IAES,yCAAgB,GAA1B,UAA2B,GAAgB,EAAE,CAAS,EAAE,UAAkB;QACxE,6EAA6E;QAC7E,IAAM,MAAM,GAAG,eAAM,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,YAAY,CACvB,IAAI,CAAC,OAAO,CAAC,YAAY,EACzB,+CAAmC,EACnC,CAAC,MAAM,EAAE,UAAU,CAAC,EACpB,MAAM,CAAC,eAAe,EAAE,CACzB,CAAC;QACF,OAAO,IAAI,CAAC;IACd,CAAC;IAES,8CAAqB,GAA/B,UAAiC,MAAoB;QACnD,GAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,YAAY,CACvB,IAAI,CAAC,OAAO,CAAC,YAAY,EACzB,+CAAmC,EACnC,CAAC,eAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAC5B,CAAC;QACF,OAAO,IAAI,CAAC,CAAC,sFAAsF;QACtF,mEAAmE;IAClF,CAAC;IAEO,sDAA6B,GAArC,UAAsC,CAAS,EAAE,WAAmB;QAClE,IAAM,MAAM,GAAG,eAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,MAAM,CAAC,UAAU,EAAE,EAAE;YACvB,GAAG,CAAC,kDAAkD,EAAE,MAAM,CAAC,MAAM,CAAC;SACvE;QACD,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC;IACxC,CAAC;IAEO,oDAA2B,GAAnC;QAAA,iBAgBC;QAfC,+CAA+C;QAC/C,IAAM,aAAa,GAAG,gDAA4B,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAClG,kHAAkH;QAClH,IAAM,uBAAuB,GAAG,yBAAgB,CAAC,uBAAuB,CACtE,aAAa,CAAC,wBAAwB,CAAC,mBAAU,CAAC,KAAK,CAAC,EACxD,aAAa,CAAC,wBAAwB,CAAC,mBAAU,CAAC,MAAM,CAAC,CAC1D,CAAC;QACF,IAAI,CAAC,sBAAsB,CAAC,uBAAuB,CAAC,CAAC;QACrD,kCAAkC;QAClC,aAAa,CAAC,EAAE,CAAC,OAAO,CAAC;YACvB,iBAAM,WAAW,YAAE,CAAC;QACtB,CAAC,CAAC,CAAC;QACH,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC;YACxB,iBAAM,YAAY,YAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IACL,CAAC;IAIH,qBAAC;AAAD,CAAC,CAzKmC,qBAAS,GAyK5C;AAzKY,wCAAc;;;;;;;;;;;;;;;;;;;;AC7K3B,sCAA+D;AAK/D;IAAoC,kCAAW;IAE7C,wBACU,YAA8B,EAC9B,SAA0B,EAC1B,SAA0B,EAC1B,SAAwB;QAFxB,6CAA0B;QAC1B,6CAA0B;QAC1B,4CAAwB;QAJlC,YAME,kBAAM,UAAC,CAAS,IAAK,YAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAzB,CAAyB,EAAE,IAAI,yBAAgB,EAAE,CAAC,SAKxE;QAVS,kBAAY,GAAZ,YAAY,CAAkB;QAC9B,eAAS,GAAT,SAAS,CAAiB;QAC1B,eAAS,GAAT,SAAS,CAAiB;QAC1B,eAAS,GAAT,SAAS,CAAe;QAIhC,IAAI,SAAS,IAAI,CAAC,SAAS,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;SACrE;;IACH,CAAC;IAEO,0CAAiB,GAAzB,UAA0B,CAAS;QAAnC,iBAgBC;QAdC,CAAC,CAAC,kBAAkB,CAAC,UAAC,EAAE;YAEtB,IAAM,MAAM,GAAG,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC;YAErE,IAAI,KAAI,CAAC,SAAS,EAAE;gBAClB,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,KAAI,CAAC,SAAS,EAAE,CAAC,CAAC;gBAC1D,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;aACzB;iBAAM;gBACL,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;aAC3B;QAEH,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IACd,CAAC;IACH,qBAAC;AAAD,CAAC,CAhCmC,oBAAW,GAgC9C;AAhCY,wCAAc;;;;;;;;;;ACL3B,IAAM,MAAM,GAAG,mBAAO,CAAC,GAAS,CAAC,CAAC;AAElC;IACE,OAAO,MAAM,EAAE,CAAC;AAClB,CAAC;AAFD,kCAEC;;;;;;;ACJD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;;AAEA;;;;;;;AC5GA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;ACvBA,sCAAgE;AAChE,2CAAyC;AACzC,sCAAsC;AAE/B,0DAAI,CAAsC;AAEjD;IAA0C,wCAAY;IAIpD,8BACU,UAAuB,EAC/B,QAAsB,EACtB,MAAmB;QADnB,yCAAsB;QACtB,oCAAmB;QAHrB,YAKE,kBAAM,IAAI,yBAAgB,EAAE,CAAC,SA+B9B;QAnCS,gBAAU,GAAV,UAAU,CAAa;QAHzB,gBAAU,GAAc,IAAI,CAAC;QASnC,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;QACpB,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC;QACxB,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;QACvB,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE;YAE/B,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACnB,IAAI,CAAC,qCAAqC,CAAC,CAAC;gBAC5C,OAAO;aACR;YAED,IAAI,KAAI,CAAC,UAAU,EAAE;gBACnB,KAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAI,CAAC,CAAC;aAClC;YAED,IAAI,KAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE;gBAC9B,MAAM,IAAI,KAAK,CAAC,iDAAiD,CAAC,CAAC;aACpE;YAED,KAAI,CAAC,UAAU,GAAG,IAAI,sBAAS,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrE,KAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAI,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9C,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC;QACnD,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAEzB,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;IAErC,CAAC;IAEH,2BAAC;AAAD,CAAC,CA1CyC,qBAAY,GA0CrD;AA1CY,oDAAoB;;;;;;;;;;;;;;;;;;;;ACNjC,+CAAiD;AACjD,yDAAgF;AAChF,qCAAsE;AAEtE;IAA0C,wCAAY;IAAtD;QAAA,qEAoFC;QAlFS,WAAK,GAAyB,IAAI,CAAC;;IAkF7C,CAAC;IAhFC,oCAAK,GAAL,UAAM,IAAgB;QAAtB,iBA6EC;QA3EC,yCAAyC;QACzC,IAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACvD,IAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAEvD,cAAc,CAAC,IAAI,GAAG,MAAM,CAAC;QAC7B,cAAc,CAAC,EAAE,GAAG,gBAAgB,CAAC;QACrC,cAAc,CAAC,MAAM,GAAG,sBAAsB,CAAC;QAE/C,cAAc,CAAC,IAAI,GAAG,MAAM,CAAC;QAC7B,cAAc,CAAC,EAAE,GAAG,gBAAgB,CAAC;QACrC,cAAc,CAAC,MAAM,GAAG,2BAA2B,CAAC;QAEpD,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5D,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QACvE,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAC/C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5D,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5D,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QACvE,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAE/C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5D,IAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACvD,aAAa,CAAC,SAAS,GAAG,SAAS;QAEnC,+BAA+B;QAC/B,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5D,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QAC9C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC5D,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAE5D,IAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAChD,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;QACxB,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE;YAChC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAExC,IAAM,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;QAEtC,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;QAE/C,aAAa,CAAC,OAAO,GAAG;YAEtB,IAAM,SAAS,GAAS,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAChD,IAAM,SAAS,GAAS,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAEhD,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC;YAC9C,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,SAAS,CAAC;YAE9C,IAAM,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,0CAA0C,CAAC;YACzG,IAAM,QAAQ,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,4BAA4B,CAAC;YAE3F,eAAe;YACf,IAAM,UAAU,GAAG,SAAS,IAAI,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAEhE,KAAI,CAAC,KAAK,GAAG,IAAI,+CAAoB,CACnC,QAAQ,EACR,QAAQ,EACR,IAAI,EACJ,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,EAC/B,UAAU,CACX,CAAC;YAEF,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAC,MAA4B;gBAE3D,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,MAAM,CAAC,CAAC;YAErD,CAAC,CAAC,CAAC;YAEH,KAAI,CAAC,KAAK,CAAC,KAAK,GAAG,gBAAS,CAAC,OAAO,CAAC;YACrC,KAAI,CAAC,KAAK,CAAC,KAAK,GAAG,gBAAS,CAAC,OAAO,CAAC;QAEvC,CAAC;IAEH,CAAC;IAED,kCAAG,GAAH,cAAO,CAAC;IACV,2BAAC;AAAD,CAAC,CApFyC,6BAAY,GAoFrD;AApFY,oDAAoB;;;;;;;;;;;;;;;;;;;;ACJjC,+CAAiD;AACjD,gDAA6D;AAE7D;IAA6B,2BAAY;IAAzC;QAAA,qEAaC;QAXS,WAAK,GAAgB,IAAI,CAAC;;IAWpC,CAAC;IATC,uBAAK,GAAL,UAAM,IAAgB;QACpB,IAAI,CAAC,KAAK,GAAG,IAAI,4BAAW,CAAC,2BAA2B,CAAC,CAAC;QAE1D,SAAS;IACX,CAAC;IAED,qBAAG,GAAH;IAEA,CAAC;IACH,cAAC;AAAD,CAAC,CAb4B,6BAAY,GAaxC;AAbY,0BAAO;;;;;;;;;;;;;;;;;;;;ACHpB,qCAA6D;AAC7D,2CAAqD;AACrD,wDAA6E;AAC7E,oDAAsE;AACtE,yCAAmD;AAGnD;IAAiC,+BAAI;IAInC,qBAAa,GAAW;QAAxB,YACE,kBACE,UAAC,SAAS,EAAE,QAAQ;YAClB,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,SAAS,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;QACpE,CAAC,EACD,UAAC,MAAM;YACL,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,MAAM,CAAC,CAAC;QACvD,CAAC,CACF,SAYF;QAtBO,gBAAU,GAAc,IAAI,CAAC;QAYnC,IAAM,WAAW,GAAG,IAAI,8CAAoB,EAAE,CAAC;QAC/C,IAAM,YAAY,GAAG,IAAI,uCAAiB,EAAE,CAAC;QAC7C,IAAM,SAAS,GAAG,KAAI,CAAC,UAAU,GAAG,IAAI,sBAAS,CAAC,GAAG,CAAC,CAAC;QAEvD,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAErC,WAAW,CAAC,EAAE,CAAC,0BAAc,CAAC,qBAAqB,EAAE;YACnD,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;;IAEL,CAAC;IAES,kCAAY,GAAtB,UAAuB,IAAkB,IAAG,CAAC;IAEnC,sCAAgB,GAA1B,UAA4B,IAAkB,IAAG,CAAC;IAExC,sCAAgB,GAA1B,UAA4B,IAAkB,IAAG,CAAC;IAExC,yCAAmB,GAA7B,UAA+B,IAAkB,IAAG,CAAC;IAE3C,yCAAmB,GAA7B,UAA+B,IAAkB,IAAG,CAAC;IAE3C,2CAAqB,GAA/B,UAAiC,MAAc,IAAG,CAAC;IAErD,kBAAC;AAAD,CAAC,CAtCgC,WAAI,GAsCpC;AAtCY,kCAAW;;;;;;;;;;;;;;;;;;;;ACPxB,+CAAiD;AAEjD,4CAAqE;AACrE,sCAA6C;AAC7C,6CAAuD;AAEjD,oDAAiD,EAAhD,YAAG,EAAE,gBAAK,CAAuC;AAIxD;IAAiC,+BAAY;IAA7C;;IAeA,CAAC;IAbC,2BAAK,GAAL,UAAM,IAAgB;QACpB,IAAM,aAAa,GAAG,IAAI,wBAAU,CAAC,MAAM,CAAC,CAAC;QAC7C,aAAa,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,UAAC,OAAO,IAAK,UAAG,CAAC,iBAAiB,EAAE,OAAO,CAAC,EAA/B,CAA+B,CAAC,CAAC;QAE9E,IAAM,SAAS,GAAG,2CAA2C,CAAC;QAC9D,4BAAc,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YAClC,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACpD,IAAM,OAAO,GAAG,aAAa,CAAC,gBAAgB,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAC;YAC/F,GAAG,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yBAAG,GAAH,cAAO,CAAC;IACV,kBAAC;AAAD,CAAC,CAfgC,6BAAY,GAe5C;AAfY,kCAAW;;;;;;;;;;ACVxB,oCAA+E;AAG/E,wBAA+B,GAAW;IACxC,OAAO,IAAI,OAAO,CAAc,UAAC,OAAO,EAAE,MAAM;QAC9C,IAAM,GAAG,GAAG,IAAI,SAAG,CAAC,GAAG,EAAE,UAAC,GAAG,EAAE,gBAAyB;YACtD,IAAI,GAAG,CAAC,QAAQ,KAAK,cAAQ,CAAC,IAAI,EAAE;gBAClC,OAAO;aACR;YACD,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,OAAO,CAAe,GAAG,CAAC,YAAY,CAAC,CAAC;gBACxC,OAAO;aACR;YACD,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;gBACtB,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBAClB,OAAO;aACR;QACH,CAAC,EAAE,eAAS,CAAC,GAAG,EAAE,qBAAe,CAAC,YAAY,CAAC,CAAC;IAClD,CAAC,CAAC,CAAC;AACL,CAAC;AAhBD,wCAgBC;;;;;;;;;;;;;;;;;;;;ACnBD,+CAAiD;AAEjD,sCAA6C;AAC7C,2CAA4D;AAC5D,yDAAsF;AACtF,yDAAuF;AACvF,kDAAgG;AAEhG,4CAAsD;AAEhD,oDAAiD,EAAhD,YAAG,EAAE,gBAAK,CAAuC;AAIxD;IAAgC,8BAAY;IAA5C;;IA8CA,CAAC;IA5CC,0BAAK,GAAL,UAAM,IAAgB;QAEpB,IAAM,UAAU,GAAG;YACjB,2CAA2C;YAC3C,0DAA0D;YAC1D,0DAA0D;YAC1D,uBAAuB;YACvB,uBAAuB;SACxB,CAAC;QAEF,IAAM,SAAS,GAAG,IAAI,sBAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/C,IAAM,WAAW,GAA+B;YAC9C,iBAAiB,EAAE,GAAG;YACtB,WAAW,EAAE,KAAK;YAClB,iBAAiB,EAAE,KAAK;SACzB;QAED,IAAM,UAAU,GAAG,2CAAuB,CACxC,uCAAmB,CAAC,iDAAsB,CAAC,EAC3C,CAAC,WAAW,EAAE,IAAI,CAAC,EACnB,CAAC,iCAAiC,CAAC,CACpC,CAAC;QAEF,IAAM,kBAAkB,GAAG,IAAI,gDAAqB,CAClD,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,EAC/B,WAAW,EACX,2BAAY,CAAC,6BAA6B,CAAC,CAC5C,CAAC;QAEF;;;;;UAKE;QAEF,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;IAChD,CAAC;IAED,wBAAG,GAAH;QACE,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;IAC7C,CAAC;IACH,iBAAC;AAAD,CAAC,CA9C+B,6BAAY,GA8C3C;AA9CY,gCAAU","file":"MMTestCasesWeb.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MMTestCasesWeb\"] = factory();\n\telse\n\t\troot[\"MMTestCasesWeb\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 53);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a0b5d97a67d0f75cd9c8","export class Atom {\n    public static ftyp: string = 'ftyp';\n    public static styp: string = 'styp';\n    public static avc1: string = 'avc1';\n    public static avc3: string = 'avc3';\n    public static hvc1: string = 'hvc1';\n    public static hev1: string = 'hev1';\n    public static s263: string = 's263';\n    public static d263: string = 'd263';\n    public static vp08: string = 'vp08';\n    public static vp09: string = 'vp09';\n    public static mdat: string = 'mdat';\n    public static mp4a: string = 'mp4a';\n    public static wave: string = 'wave';\n    public static ac_3: string = 'ac-3';\n    public static dac3: string = 'dac3';\n    public static ec_3: string = 'ec-3';\n    public static dec3: string = 'dec3';\n    public static dtsc: string = 'dtsc';\n    public static dtsh: string = 'dtsh';\n    public static dtsl: string = 'dtsl';\n    public static dtse: string = 'dtse';\n    public static ddts: string = 'ddts';\n    public static tfdt: string = 'tfdt';\n    public static tfhd: string = 'tfhd';\n    public static trex: string = 'trex';\n    public static trun: string = 'trun';\n    public static sidx: string = 'sidx';\n    public static moov: string = 'moov';\n    public static mvhd: string = 'mvhd';\n    public static trak: string = 'trak';\n    public static mdia: string = 'mdia';\n    public static minf: string = 'minf';\n    public static stbl: string = 'stbl';\n    public static avcC: string = 'avcC';\n    public static hvcC: string = 'hvcC';\n    public static vpcC: string = 'vpcC';\n    public static esds: string = 'esds';\n    public static moof: string = 'moof';\n    public static traf: string = 'traf';\n    public static mvex: string = 'mvex';\n    public static tkhd: string = 'tkhd';\n    public static edts: string = 'edts';\n    public static elst: string = 'elst';\n    public static mdhd: string = 'mdhd';\n    public static hdlr: string = 'hdlr';\n    public static stsd: string = 'stsd';\n    public static pssh: string = 'pssh';\n    public static sinf: string = 'sinf';\n    public static schm: string = 'schm';\n    public static schi: string = 'schi';\n    public static tenc: string = 'tenc';\n    public static encv: string = 'encv';\n    public static enca: string = 'enca';\n    public static frma: string = 'frma';\n    public static saiz: string = 'saiz';\n    public static saio: string = 'saio';\n    public static uuid: string = 'uuid';\n    public static senc: string = 'senc';\n    public static pasp: string = 'pasp';\n    public static TTML: string = 'TTML';\n    public static vmhd: string = 'vmhd';\n    public static mp4v: string = 'mp4v';\n    public static stts: string = 'stts';\n    public static stss: string = 'stss';\n    public static ctts: string = 'ctts';\n    public static stsc: string = 'stsc';\n    public static stsz: string = 'stsz';\n    public static stco: string = 'stco';\n    public static co64: string = 'co64';\n    public static tx3g: string = 'tx3g';\n    public static wvtt: string = 'wvtt';\n    public static stpp: string = 'stpp';\n    public static samr: string = 'samr';\n    public static sawb: string = 'sawb';\n    public static dinf: string = 'dinf';\n    public static dref: string = 'dref';\n    public static url: string = 'url ';\n    public static smhd: string = 'smhd';\n    public static mfhd: string = 'mfhd';\n    public static emsg: string = 'emsg';\n\n    constructor (public type: string, public size: number) {}\n\n    public static isContainerBox(type: string): boolean {\n        return type === Atom.moov || type === Atom.trak || type === Atom.mdia\n            || type === Atom.minf || type === Atom.stbl || type === Atom.moof\n            || type === Atom.traf || type === Atom.mvex || type === Atom.stsd\n            || type === Atom.mp4a || type === Atom.avc1 || type === Atom.dref\n            || type === Atom.dinf;\n    }\n}\n\nexport class ContainerAtom extends Atom {\n    containerDataOffset: number;\n    atoms: Atom[];\n\n    constructor(type: string, size: number) {\n        super(type, size);\n        this.containerDataOffset = 0;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/atom.ts","import { Mp4SampleFlags } from \"../demuxer/mp4/mp4-sample-flags\";\n\ndeclare function escape(s: string): string;\n\nexport default class ByteParserUtils {\n    public static parseStringWithLength(buffer: Uint8Array, offset: number, end: number): string {\n        let result: string = '';\n        const strLength: number = buffer[offset];\n        const maxOffset: number = Math.min(offset + strLength + 1, end);\n        for (let i: number = offset + 1; i < maxOffset && buffer[i] !== 0; i++) {\n            result += String.fromCharCode(buffer[i]);\n        }\n        return result;\n    }\n\n    public static parseString(buffer: Uint8Array, offset: number, end: number):  string {\n        return String.fromCharCode.apply(null, buffer.subarray(offset, end));\n    }\n\n    public static parseUTF8String(buffer: Uint8Array, offset: number, end: number):  string {\n        const str: string = String.fromCharCode.apply(null, buffer.subarray(offset, end));\n        return decodeURIComponent(escape(str));\n    }\n\n    public static parseNullTerminatedString(buffer: Uint8Array, offset: number, end: number): string {\n        let result: string = '';\n        for (let i: number = offset + 1; i < end && buffer[i] !== 0; i++) {\n            result += String.fromCharCode(buffer[i]);\n        }\n        return result;\n    }\n\n    public static parseFloat(buffer: Uint8Array, offset: number, len: number): number {\n        const v: DataView = new DataView(buffer.buffer, buffer.byteOffset, len);\n        if (len === 8) {\n            return v.getFloat64(offset);\n        }\n        return v.getFloat32(offset);\n    }\n\n    public static parseInt(buffer: Uint8Array, offset: number, len: number): number {\n        let value: number = 0;\n        for (let i: number = 0; i < len; i++) {\n            value |= (buffer[offset + i] << ((len - i - 1) * 8));\n        }\n        return value;\n    }\n\n    public static parseUint(buffer: Uint8Array, offset: number, len: number): number {\n        let value: number = 0;\n        for (let i: number = 0; i < len; i++) {\n            value |= (buffer[offset + i] << ((len - i - 1) * 8)) >>> 0;\n        }\n        return value;\n    }\n\n    public static parseUint16(buffer: Uint8Array, offset: number): number {\n        return ByteParserUtils.parseUint(buffer, offset, 2);\n    }\n\n    public static parseUint32(buffer: Uint8Array, offset: number): number {\n        return ByteParserUtils.parseUint(buffer, offset, 4);\n    }\n\n    public static parseLong64(buffer: Uint8Array, offset: number): number {\n        return ByteParserUtils.parseUint(buffer, offset, 8);\n    }\n\n    public static parseIsoBoxType(buffer: Uint8Array, offset: number): string {\n        let result: string = '';\n        result += String.fromCharCode(buffer[offset++]);\n        result += String.fromCharCode(buffer[offset++]);\n        result += String.fromCharCode(buffer[offset++]);\n        result += String.fromCharCode(buffer[offset]);\n        return result;\n    }\n\n    public static parseIsoBoxDate(seconds: number): Date {\n        return new Date(seconds * 1000 - 2082844800000);\n    }\n\n    public static parseIsoBoxSampleFlags(flags: number): Mp4SampleFlags {\n        return {\n            isLeading: (flags[0] & 0x0c) >>> 2,\n            dependsOn: flags[0] & 0x03,\n            isDependedOn: (flags[1] & 0xc0) >>> 6,\n            hasRedundancy: (flags[1] & 0x30) >>> 4,\n            paddingValue: (flags[1] & 0x0e) >>> 1,\n            isNonSyncSample: flags[1] & 0x01,\n            degradationPriority: (flags[2] << 8) | flags[3]\n        };\n    }\n\n    public static parseBufferToHex(buffer: Uint8Array, offset: number, end: number): string {\n        let str: string = '';\n        for (let i: number = offset; i < end; i++) {\n            str += buffer[i].toString(16);\n        }\n        return str;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/utils/byte-parser-utils.ts","// TODO: Move to Objec-TS long-term\n\nconst PREFIX_ROOT = 'mm';\n\nconst LOGGER_CONFIG_STORAGE_KEY = 'mmjs:LoggerConfig';\n\nconst DEBUG = false;\n\nconst noop = () => {};\n\nconst getPrefix = function (type: string, category: string): string {\n  const prefix = `[${PREFIX_ROOT}]:[${type}]:[${category}] >`;\n  return prefix;\n};\n\nconst regExpEscape = function(s: string): string {\n  return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n};\n\nfunction persistConfig(config: LoggerConfig): boolean {\n  if (window && !localStorage) {\n    console.error('mmjs:Logger (ERROR) > Failed to persist configuration, no localStorage API found');\n    return false;\n  } else if (!localStorage) {\n    // might happen in Worker\n    return false;\n  }\n  try {\n    localStorage.setItem(LOGGER_CONFIG_STORAGE_KEY, JSON.stringify(config));\n  } catch(err) {\n    console.error('mmjs:Logger (ERROR) > Failed to persist configuration, internal error:', err);\n    return false;\n  }\n  return true;\n}\n\nlet DEFAULT_GLOBAL_LEVEL: LoggerLevel;\n\nexport type LoggerFunc = (...args: any[]) => void;\n\nexport type Logger = {\n  debug: LoggerFunc\n  log: LoggerFunc\n  info: LoggerFunc,\n  warn: LoggerFunc\n  error: LoggerFunc\n};\n\nexport enum LoggerLevel {\n  ON = Infinity,\n  DEBUG = 5,\n  LOG = 4,\n  INFO = 3,\n  WARN = 2,\n  ERROR = 1,\n  OFF = 0\n}\n\nexport type LoggerConfig = {\n  [catMatcher: string]: LoggerLevel\n};\n\nDEFAULT_GLOBAL_LEVEL = LoggerLevel.ON;\n\nexport const defaultGlobalConfig: LoggerConfig = {'*': DEFAULT_GLOBAL_LEVEL};\n\nexport const loggerConfig: LoggerConfig = createAndGetLocalLoggerConfig();\n\nexport function createAndGetLocalLoggerConfig(): LoggerConfig {\n\n  let config: LoggerConfig;\n\n  const globalScope = self;\n\n  if (globalScope.localStorage) {\n    let object: string = localStorage.getItem(LOGGER_CONFIG_STORAGE_KEY) || '{}';\n\n    try {\n      config = JSON.parse(object);\n    } catch(err) {\n      console.warn('mmjs:Logger (WARN) > Got most likely corrupt logger config data! Running recovery routine...');\n      removeLocalLoggerConfig();\n      return createAndGetLocalLoggerConfig();\n    }\n\n    // persist if creating state first time\n    persistConfig(config);\n\n  } else { // fallback for workers (or no LocalStorage API support)\n    config = globalScope[LOGGER_CONFIG_STORAGE_KEY] || defaultGlobalConfig;\n    globalScope[LOGGER_CONFIG_STORAGE_KEY] = config;\n  }\n\n  return config;\n}\n\nexport function removeLocalLoggerConfig() {\n  delete self[LOGGER_CONFIG_STORAGE_KEY];\n  localStorage.removeItem(LOGGER_CONFIG_STORAGE_KEY);\n}\n\nexport function setLocalLoggerLevel(categoryMatcher: string, level: LoggerLevel): LoggerConfig {\n  const config = createAndGetLocalLoggerConfig();\n  config[categoryMatcher] = level;\n  // store with changes\n  persistConfig(config);\n  return config;\n}\n\nexport function getConfiguredLoggerLevelForCategory(\n  category: string,\n  defaultLevel: LoggerLevel = LoggerLevel.OFF,\n  config: LoggerConfig = createAndGetLocalLoggerConfig()): LoggerLevel {\n\n  let retLevel = defaultLevel\n\n  Object.keys(config).forEach((catMatcher: string) => {\n\n    // to avoid any possible error or regex-dos\n    catMatcher = regExpEscape(catMatcher);\n\n    const level: LoggerLevel = config[catMatcher];\n    const isCatMatching = (new RegExp('^' + catMatcher.split('*').join('.*') + '$')).test(category);\n\n    if (isCatMatching && level < retLevel) { // we are enforcing the lowest level specified by any matching category wildcard\n      retLevel = level;\n    }\n\n  })\n  return retLevel;\n}\n\nexport function checkLogLevel (level: number, catLevel: number) {\n  switch (catLevel) {\n  case LoggerLevel.DEBUG: return (level >= LoggerLevel.DEBUG) && console.debug;\n  case LoggerLevel.LOG: return (level >= LoggerLevel.LOG) && console.log;\n  case LoggerLevel.INFO: return (level >= LoggerLevel.INFO) && console.info;\n  case LoggerLevel.WARN: return (level >= LoggerLevel.WARN) && console.warn;\n  case LoggerLevel.ERROR: return (level >= LoggerLevel.ERROR) && console.error;\n  }\n}\n\nexport const getLogger = function (category: string, level: number = LoggerLevel.ON): Logger {\n\n  level = getConfiguredLoggerLevelForCategory(category, level);\n\n  if (DEBUG) {\n    console.log(`mmjs:Logger (DEBUG mode) > Set-up category <${category}> with level ${level}`);\n  }\n\n  return {\n    debug: checkLogLevel(level, LoggerLevel.DEBUG) ? console.debug.bind(console, getPrefix('d', category)) : noop,\n    log: checkLogLevel(level, LoggerLevel.LOG) ? console.log.bind(console, getPrefix('l', category)) : noop,\n    info: checkLogLevel(level, LoggerLevel.INFO) ? console.info.bind(console, getPrefix('i', category)) : noop,\n    warn: checkLogLevel(level, LoggerLevel.WARN) ? console.warn.bind(console, getPrefix('w', category)) : noop,\n    error: checkLogLevel(level, LoggerLevel.ERROR) ? console.error.bind(console, getPrefix('e', category)) : noop\n  };\n};\n\nexport function makeLogTimestamped (...args): string {\n  let message = `[${(new Date()).toISOString()}]`;\n  args.forEach((arg) => {\n    message += ' ' + arg;\n  });\n  return message;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/logger.ts","import { EventEmitter } from 'eventemitter3';\n\nimport { PayloadDescriptor } from './payload-description';\nimport { Packet, PacketReceiveCallback, PacketSymbol } from './packet';\n\nimport { getLogger, makeLogTimestamped, LoggerLevel } from '../logger';\nimport { Signal, SignalHandler, SignalReceiver, SignalReceiverCastResult, collectSignalReceiverCastResults } from './signal';\n\nimport { dispatchAsyncTask } from '../common-utils';\n\nconst { log, error } = getLogger('Socket', LoggerLevel.ERROR);\n\nexport enum SocketType {\n  INPUT,\n  OUTPUT\n}\n\nexport enum SocketEvent {\n  ANY_PACKET_RECEIVED = 'any-packet-received',\n  DATA_PACKET_RECEIVED = 'data-packet-received', // \"non-symbolic\"\n  EOS_PACKET_RECEIVED = 'eos-packet-received'\n}\n\nexport type SocketEventHandler = (event: SocketEvent) => void\n\nexport class SocketState {\n  transferring: boolean;\n\n  constructor () {\n    this.transferring = false;\n  }\n}\n\nexport type SocketTemplateGenerator = (st: SocketType) => SocketDescriptor;\n\nexport class SocketDescriptor {\n\n  static fromMimeType(mimeType: string): SocketDescriptor {\n    return SocketDescriptor.fromMimeTypes(mimeType);\n  }\n\n  static fromMimeTypes(...mimeTypes: string[]): SocketDescriptor {\n    return new SocketDescriptor(mimeTypes.map((mimeType) => new PayloadDescriptor(mimeType)));\n  }\n\n  // TODO: also allow to directly bind this to proc templateSocketDescriptor method on construction\n  static createTemplateGenerator(\n    inputSd: SocketDescriptor, outputSd: SocketDescriptor): SocketTemplateGenerator {\n    return ((st: SocketType) => {\n      switch(st) {\n      case SocketType.INPUT: return inputSd;\n      case SocketType.OUTPUT: return outputSd;\n      }\n    });\n  }\n\n  readonly payloads: PayloadDescriptor[];\n\n  constructor (payloads?: PayloadDescriptor[]) {\n    this.payloads = payloads || [];\n\n  }\n\n  isVoid(): boolean {\n    return this.payloads.length === 0;\n  }\n}\n\nexport abstract class SocketOwner implements SignalReceiver {\n  abstract getOwnSockets(): Set<Socket>;\n  abstract cast(signal: Signal): SignalReceiverCastResult;\n}\n\nexport abstract class Socket extends EventEmitter<SocketEvent> implements SignalReceiver {\n  private type_: SocketType;\n  private state_: SocketState;\n  private descriptor_: SocketDescriptor;\n  private signalHandler_: SignalHandler = null;\n  private isReady_: boolean = false;\n  private isReadyArmed_: boolean = false;\n  private resolveDisposed_;\n\n  protected owner: SocketOwner = null;\n\n  constructor (type: SocketType, descriptor: SocketDescriptor) {\n    super();\n    this.type_ = type;\n    this.descriptor_ = descriptor;\n    this.state_ = new SocketState();\n  }\n\n  close() {}\n\n  type (): SocketType {\n    return this.type_;\n  }\n\n  descriptor(): SocketDescriptor {\n    return this.descriptor_;\n  }\n\n  payload(index: number = 0): PayloadDescriptor {\n    return this.descriptor_.payloads[index];\n  }\n\n  payloads (): PayloadDescriptor[] {\n    return this.descriptor_.payloads;\n  }\n\n  /**\n   * Read transferring flag of socket state.\n   */\n  isTransferring (): boolean {\n    return this.state_.transferring;\n  }\n\n  /**\n   * A utility method to manage the readyness state synchroneously.\n   * For every socket-instance we are then retrieving the whenReady promise\n   * *once* and tracking the ready-state through it.\n   */\n  isReady(): boolean {\n    if (!this.isReadyArmed_) {\n      this.whenReady().then(() => {\n        this.isReady_ = true;\n      }).catch((e: Error) => {\n        error('caught error on readyness-promise:', e);\n      });\n      this.isReadyArmed_ = true;\n    }\n    return this.isReady_;\n  }\n\n  /**\n   * MAY be implemented by subclasses to indicate async I/O resource initialization readyness\n   * when applicable (for example for file-system or MediaSource socket).\n   *\n   * The default implementation works for any socket impl that is ready \"in-sync\" with the constructor\n   * as it returns an already resolve promise.\n   *\n   * Further specification constraints:\n   *\n   * 1) When the readyness-promise hasn't been resolved yet, the socket MAY crash\n   * when it gets transferred data or signals cast.\n   *\n   * 2) The socket MUST be connectable upon creation however.\n   * Ideally, a pipeline (or the respective branch) should first make sure that all it's I/O sockets are\n   * \"ready\" before enabling any data-flow.\n   *\n   * 3) Socket implemention SHOULD never buffer/queue-up any data in the integration layer,\n   * as it is a task that processors are more suited to do and that is independent of socket.\n   *\n   * 4) Queuing data in proc while downstream sockets become ready MAY be the best solution in certain\n   * cases of pipeline restructering.\n   *\n   * 5) I/O \"reading\" output-sockets MAY become ready async and not cause further harm by not implementing `whenReady` method.\n   *\n   * 6) A socket MUST never go back to something \"not ready\" when it was ready once.\n   *\n   * FIXME: implement \"dispose\" method\n   *\n   */\n  whenReady(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  /*\n  whenDisposed(): Promise<void> {\n    return Promise.resolve();\n  }\n  */\n\n  /**\n   * For subclasses only. Set the transfering flag of the socket state.\n   */\n  protected setTransferring_ (b: boolean) {\n    this.state_.transferring = b;\n  }\n\n  /**\n   * Wraps transferSync in an async call and returns a promise\n   * @param p\n   */\n  transfer (p: Packet): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      dispatchAsyncTask(() => {\n        try {\n          resolve(this.transferSync(p));\n        } catch(e) {\n          error('Error upon packet-transfer execution:', e);\n          reject(e);\n        }\n      });\n    });\n  }\n\n  /**\n   * Transfer the partial ownership of a Packet to this Socket.\n   *\n   * Implemented by the subclass in a \"sync\" manner.\n   *\n   * Return `false` value may indicate that the socket is not peered\n   * and thus no effective transfer took place, or that the data processing handler\n   * is not set in some other way, or an error was thrown when processing.\n   */\n  abstract transferSync(p: Packet): boolean;\n\n  /**\n   * Passes the signal to the handler.\n   * The default implementation is a synchroneous call,\n   * but this may be anything asynchrneous and/or RPC'd in sub-classes,\n   * since the SignalHandler is designed to return a Promise.\n   *\n   * The idea by default is that sockets pass signal on to their internal handler,\n   * which can be set by anyone to allow handling signals on this socket.\n   *\n   * Typically the signal-handler of an input-socket will have to be set by it's peer output socket,\n   * to allow for signals to travel through in up direction. If one would override that, one is also in charge\n   * of signal communication up from input to ouput between these two sockets. Since an output-socket can also\n   * peer an output socket, this is also the case for their communication of up signals.\n   *\n   * Note that the base class of Socket does not cast to the socket owner per-se.\n   *\n   * This is a detail that is implemeneted by the i/o sockets (and can be opted-in when implementing\n   * from abstract socket).\n   *\n   */\n  cast (signal: Signal): SignalReceiverCastResult {\n    if (this.signalHandler_) {\n      return this.signalHandler_(signal);\n    }\n  }\n\n  setSignalHandler (signalHandler: SignalHandler) {\n    this.signalHandler_ = signalHandler;\n  }\n\n  setOwner (owner: SocketOwner) {\n    this.owner = owner;\n  }\n\n  getOwner (): SocketOwner {\n    return this.owner;\n  }\n\n  emit(e: SocketEvent, ...args: any[]): boolean {\n    throw new Error('Illegal call');\n  }\n\n  on (event: SocketEvent, handler: SocketEventHandler) {\n    super.on(event, handler);\n    return this;\n  }\n\n  once (event: SocketEvent, handler: SocketEventHandler) {\n    super.once(event, handler);\n    return this;\n  }\n\n  off (event: SocketEvent, handler: SocketEventHandler) {\n    super.off(event, handler);\n    return this;\n  }\n\n  protected _emit(event: SocketEvent) {\n    super.emit(event, event);\n  }\n}\n\nexport class InputSocket extends Socket {\n\n  static fromUnsafe(s: Socket): InputSocket {\n    return (<InputSocket> s);\n  }\n\n  static fromFunction(func: PacketReceiveCallback): InputSocket {\n    return new InputSocket(func, new SocketDescriptor());\n  }\n\n  private onReceive_: PacketReceiveCallback;\n\n  constructor (onReceive: PacketReceiveCallback, descriptor: SocketDescriptor) {\n    super(SocketType.INPUT, descriptor);\n    this.onReceive_ = onReceive;\n  }\n\n  transferSync (p: Packet): boolean {\n    this.setTransferring_(true);\n    const b = this.onReceive_(p);\n    this._onTransfer(p);\n    this.setTransferring_(false);\n    return b;\n  }\n\n  /**\n   * Overloads Socket cast method and also casts signal to owner as well as calling\n   * super class cast, which call handler.\n   */\n  cast (s: Signal): SignalReceiverCastResult {\n    return collectSignalReceiverCastResults([\n      this.owner.cast(s),\n      super.cast(s)\n    ]);\n  }\n\n  private _onTransfer(p: Packet) {\n    this._emit(SocketEvent.ANY_PACKET_RECEIVED);\n    if (p.isSymbolic()) {\n      switch(p.symbol) {\n      case PacketSymbol.EOS:\n        this._emit(SocketEvent.EOS_PACKET_RECEIVED);\n        break;\n      default:\n        break;\n      }\n    } else {\n      this._emit(SocketEvent.DATA_PACKET_RECEIVED);\n    }\n  }\n}\n\nexport class OutputSocket extends Socket {\n\n  static fromUnsafe(s: Socket): OutputSocket {\n    return (<OutputSocket> s);\n  }\n\n  private peers_: Socket[];\n\n  constructor (descriptor: SocketDescriptor) {\n    super(SocketType.OUTPUT, descriptor);\n    this.peers_ = [];\n  }\n\n  transferSync (p: Packet): boolean {\n    log(makeLogTimestamped('OutputSocket.transfer packet'));\n\n    let b: boolean;\n    this.setTransferring_(true);\n    this.peers_.forEach((s) => {\n      log('call transfer on peer socket');\n      b = s.transferSync(p);\n      this.onPacketTransferred_(s, b);\n    });\n    this.setTransferring_(false);\n    return b;\n  }\n\n  /**\n   * {Socket} Another socket to which this socket transfers data ownership to.\n   */\n  connect (s: Socket): OutputSocket {\n    if (!s) {\n      throw new Error('Socket connect called with ' + s);\n    }\n\n    if (this.isConnectedTo(s)) {\n      throw new Error('Socket is already connected to peer');\n    }\n    this.peers_.push(s);\n\n    // when we peer with a socket we set our internal handler\n    s.setSignalHandler(this._onPeerSignalCast.bind(this, s));\n    return this;\n  }\n\n  /**\n   * Disconnects this socket from peer socket s (which this had previously connected with `connect` method)\n   * If `null` or default is passed, all peer sockets are disconnected.\n   * If socket passed is not a peer socket, will throw an error.\n   * @param s\n   */\n  disconnect (s: Socket = null): OutputSocket {\n    if (!s) {\n      if (this.hasPeers()) {\n        this.peers_.splice(0, this.peers_.length);\n      }\n      return;\n    }\n    const index = this.peers_.indexOf(s);\n    if (index < 0) {\n      throw new Error('Socket can not be disconnected as its not connected');\n    }\n    this.peers_.splice(index, 1);\n    return this;\n  }\n\n  isConnectedTo (s: Socket) {\n    const index = this.peers_.indexOf(s);\n    return index >= 0;\n  }\n\n  getPeerSockets (): Socket[] {\n    return this.peers_;\n  }\n\n  getNumberOfPeers(): number {\n    return this.peers_.length;\n  }\n\n  hasPeers(): boolean {\n    return this.getNumberOfPeers() > 0;\n  }\n\n  /**\n   * Cast a signal from this socket.\n   *\n   * When signal travels down, broadcast to all peer sockets.\n   *\n   * All other cases (zero or up direction), broadcast to owner.\n   *\n   * Also calls the super-class implementation and collects results together.\n   */\n  cast (signal: Signal): SignalReceiverCastResult {\n    let peersOrOwner: SignalReceiverCastResult;\n    if (signal.isDirectionDown()) {\n      peersOrOwner = signal.emit(this.peers_);\n    } else {\n      peersOrOwner = this.owner.cast(signal);\n    }\n    return collectSignalReceiverCastResults([\n      super.cast(signal),\n      peersOrOwner\n    ]);\n  }\n\n  /**\n   * Handler set on all peer sockets, called when they cast a signal.\n   *\n   * When the signal is up, we cast it to our socket owner.\n   *\n   * When it travels down, we don't need to do anything and return a\n   * negative result (since we did not handle the signal)\n   *\n   */\n  private _onPeerSignalCast (peerSocket: Socket, signal: Signal): SignalReceiverCastResult {\n    if (signal.isDirectionUp()) {\n      return this.owner.cast(signal);\n    } else {\n      return Promise.resolve(false);\n    }\n  }\n\n  private onPacketTransferred_ (peerSocket: Socket, peerTransferReturnVal: boolean) {\n    switch (peerSocket.type()) {\n    case SocketType.INPUT:\n      this.onPacketTransferredToPeerInput_(peerTransferReturnVal);\n      break;\n    case SocketType.OUTPUT:\n      this.onPacketTransferredToPeerOutput_(peerTransferReturnVal);\n      break;\n    }\n  }\n\n  private onPacketTransferredToPeerInput_ (peerTransferReturnVal: boolean) {}\n  private onPacketTransferredToPeerOutput_ (peerTransferReturnVal: boolean) {}\n}\n\nexport abstract class SeekableOutputSocket extends OutputSocket {\n  abstract seek(start: number, end?: number): boolean;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/socket.ts","import { SocketDescriptor, SocketType, InputSocket, OutputSocket, SocketOwner, Socket, SocketTemplateGenerator } from './socket';\nimport { PacketSymbol, Packet } from './packet';\nimport { Signal, SignalReceiver, SignalHandler, SignalReceiverCastResult, collectSignalReceiverCastResults } from './signal';\nimport { EventEmitter } from 'eventemitter3';\nimport { ProcessorTask } from './processor-task';\nimport { getLogger } from '../logger';\nimport { EnvironmentVars } from './env';\nimport { ErrorInfo } from './error';\n\nconst {debug, error} = getLogger('Processor');\n\n// import WorkerLoader from \"worker-loader!../base.worker\";\n\nexport enum ProcessorEvent {\n    ANY_SOCKET_CREATED = 'processor:socket-created',\n    INPUT_SOCKET_CREATED = 'processor:input-socket-created',\n    OUTPUT_SOCKET_CREATED = 'processor:output-socket-created',\n    SYMBOLIC_PACKET = 'processor:symbolic-packet',\n    SIGNAL = 'processor:signal',\n    ERROR = 'processor:error'\n}\n\nexport enum ProcessorErrorCode {\n    GENERIC = 0,\n    BAD_FORMAT = 1\n}\n\nexport type ProcessorError = ErrorInfo & {\n    processor: Processor,\n    code: ProcessorErrorCode\n}\n\nexport type ProcessorEventDataProps = Partial<{\n  socket: Socket\n  symbol: PacketSymbol,\n  packet: Packet,\n  signal: Signal,\n  error: ProcessorError\n}>\n\nexport type ProcessorEventData = {\n    event: ProcessorEvent,\n    processor: Processor\n} & ProcessorEventDataProps;\n\nexport type ProcessorEventHandler = (data: ProcessorEventData) => void;\n\nexport const PROCESSOR_RPC_INVOKE_PACKET_HANDLER = 'mmjs:processor:RPC:invokePacketHandler';\n\nexport abstract class Processor extends EventEmitter<ProcessorEvent> implements SocketOwner, SignalReceiver {\n\n    static getName(): string { return null; }\n\n    // FIXME: crashes with \"Object prototype may only be an Object or null\"\n    /*\n    static createWorkerShell(onReady: VoidCallback = noop): ProcessorProxy {\n      const name = this.getName();\n      if (!name) {\n        throw new Error('Can not use factory, static name is not defined');\n      }\n      return new ProcessorProxy(name, onReady);\n    };\n    */\n\n    private inputs_: InputSocket[] = [];\n    private outputs_: OutputSocket[] = [];\n    private taskWorker_: Worker = null;\n\n    // TODO: internalize EE instance to avoid polluting interface (we should only expose on/once/off)\n    // private eventEmitter_: typeof EventEmitter = new EventEmitter();\n\n    public enableSymbolProxying: boolean = true;\n    public muteSymbolProcessing: boolean = false;\n\n    constructor (\n      private onSignal_: SignalHandler = null,\n      private socketTemplate_: SocketTemplateGenerator = null\n      ) {\n\n      super();\n\n      /**\n       * RPC-compatible wrapper for processTransfer_. Avoids to recover a Socket-type object on the remote\n       * for which we don't ensure tranferability i.e for which we don't have a proxy.\n       *\n       * Not supposed to be directly called but to be invoked remotely.\n       *\n       * @param p\n       * @param inputIndex\n       */\n      this[PROCESSOR_RPC_INVOKE_PACKET_HANDLER] = (p: Packet, inputIndex: number) => {\n        this.onReceiveFromInput_(this.in[inputIndex], Packet.fromTransferable(p), inputIndex);\n      };\n\n    }\n\n    terminate () {\n      if (this.taskWorker_) {\n        this.taskWorker_.terminate();\n      }\n    }\n\n    // maybe better call protoSocketDescriptor as in prototype pattern?\n    templateSocketDescriptor(socketType: SocketType): SocketDescriptor {\n      if (!this.socketTemplate_) {\n        throw new Error('No socket-template generator function set');\n      }\n      return this.socketTemplate_(socketType);\n    }\n\n    createEvent(event: ProcessorEvent, eventProps: ProcessorEventDataProps): ProcessorEventData {\n      return Object.assign({\n        event,\n        processor: this,\n      }, eventProps);\n    }\n\n    createErrorEvent(code: ProcessorErrorCode): ProcessorEventData {\n      return Object.assign({\n        event: ProcessorEvent.ERROR,\n        processor: this,\n      }, { code });\n    }\n\n    emit (event: ProcessorEvent, data: ProcessorEventData) {\n      if (event !== data.event) {\n        throw new Error('Event emitted must be identic the one carried in event data');\n      }\n      if (data.processor !== this) {\n        throw new Error('Event data must point to this');\n      }\n      return super.emit(event, data);\n    }\n\n    on (event: ProcessorEvent, handler: ProcessorEventHandler) {\n      super.on(event, handler);\n      return this;\n    }\n\n    once (event: ProcessorEvent, handler: ProcessorEventHandler) {\n      super.once(event, handler);\n      return this;\n    }\n\n    off (event: ProcessorEvent, handler: ProcessorEventHandler) {\n      super.off(event, handler);\n      return this;\n    }\n\n    getOwnSockets (): Set<Socket> {\n      return new Set(Array.prototype.concat(this.inputs_, this.outputs_));\n    }\n\n    cast (signal: Signal): SignalReceiverCastResult {\n      return this.onSignalCast_(signal).then((result) => {\n        if (result) {\n          return Promise.resolve(true);\n        } else {\n          if (signal.isDirectionDown()) {\n            return signal.emit(this.out);\n          } else if (signal.isDirectionUp()) {\n            return signal.emit(this.in);\n          } else {\n            return Promise.resolve(false);\n          }\n        }\n      });\n    }\n\n    /**\n     * Returns a copy of internal array, safe to manipulate\n     * {InputSocket[]}\n     */\n    inputs () {\n      return this.inputs_.slice();\n    }\n\n    /**\n     * Returns a copy of internal array, safe to manipulate\n     * {OutputSocket[]}\n     */\n    outputs () {\n      return this.outputs_.slice();\n    }\n\n    /**\n     * Read-only internal array ref\n     * {InputSocket[]}\n     */\n    get in (): InputSocket[] {\n      return this.inputs_;\n    }\n\n    /**\n     * Read-only internal array ref\n     * {OutputSocket[]}\n     */\n    get out (): OutputSocket[] {\n      return this.outputs_;\n    }\n\n    /**\n     * Adds a new input socket with the given descriptor (or from default template)\n     * {SocketDescriptor} sd optional\n     */\n    createInput (sd?: SocketDescriptor): InputSocket {\n      const inputIndex: number = this.inputs_.length;\n      const s = new InputSocket((p: Packet) => {\n        return this.onReceiveFromInput_(s, p, inputIndex);\n      }, sd || this.wrapTemplateSocketDescriptor_(SocketType.INPUT));\n      this.inputs_.push(s);\n      this.emit(ProcessorEvent.ANY_SOCKET_CREATED, {\n        processor: this,\n        event: ProcessorEvent.ANY_SOCKET_CREATED,\n        socket: s\n      });\n      this.emit(ProcessorEvent.INPUT_SOCKET_CREATED, {\n        processor: this,\n        event: ProcessorEvent.INPUT_SOCKET_CREATED,\n        socket: s\n      });\n      return s;\n    }\n\n    /**\n     * Adds a new output socket with the given descriptor (or from default template)\n     * {SocketDescriptor} sd optional\n     */\n    createOutput (sd?: SocketDescriptor): OutputSocket {\n      const s = new OutputSocket(sd || this.wrapTemplateSocketDescriptor_(SocketType.OUTPUT));\n      this.outputs_.push(s);\n      this.emit(ProcessorEvent.ANY_SOCKET_CREATED, {\n        processor: this,\n        event: ProcessorEvent.ANY_SOCKET_CREATED,\n        socket: s\n      });\n      this.emit(ProcessorEvent.OUTPUT_SOCKET_CREATED, {\n        processor: this,\n        event: ProcessorEvent.OUTPUT_SOCKET_CREATED,\n        socket: s\n      });\n      return s;\n    }\n\n    private getTaskWorker (): Worker {\n      if (!this.taskWorker_) {\n        this.taskWorker_ = new Worker(EnvironmentVars.TASK_WORKER_PATH);\n        this.taskWorker_.addEventListener('message', (event) => {\n          this.onTaskWorkerMessage(event);\n        });\n      }\n      return this.taskWorker_;\n    }\n\n    /**\n     * @returns True when packet was forwarded\n     */\n    private onSymbolicPacketReceived_ (p: Packet): boolean {\n      this.emit(ProcessorEvent.SYMBOLIC_PACKET, {\n        processor: this,\n        event: ProcessorEvent.SYMBOLIC_PACKET,\n        symbol: p.symbol,\n        packet: p\n      });\n      const proxy = this.handleSymbolicPacket_(p.symbol);\n      if (proxy && this.enableSymbolProxying) {\n        this.transferPacketToAllOutputs_(p);\n        return true;\n      }\n      return this.muteSymbolProcessing;\n    }\n\n    /**\n     * p packet to transfer to all outputs\n     */\n    private transferPacketToAllOutputs_ (p: Packet) {\n      this.out.forEach((socket) => {\n        socket.transfer(p);\n      });\n    }\n\n    private onReceiveFromInput_ (inS: InputSocket, p: Packet, inputIndex: number): boolean {\n      if (p.isSymbolic() &&\n            this.onSymbolicPacketReceived_(p)) {\n        return true; // when packet was forwarded we don't pass it on for processing\n      }\n\n      let result = false;\n      try {\n        result = this.processTransfer_(inS, p, inputIndex);\n      } catch (err) {\n        error(`There was a fatal error processing a packet: ${err.message}. Stacktrace:`);\n        debug(err);\n      }\n      return result;\n    }\n\n    private wrapTemplateSocketDescriptor_ (type: SocketType, sd?: SocketDescriptor): SocketDescriptor {\n      return (sd || this.templateSocketDescriptor(type));\n    }\n\n    private onSignalCast_ (signal: Signal): SignalReceiverCastResult {\n      this.emit(ProcessorEvent.SIGNAL, {\n        processor: this,\n        event: ProcessorEvent.SIGNAL,\n        signal\n      });\n\n      if (this.onSignal_) {\n        return this.onSignal_(signal);\n      } else {\n        return Promise.resolve(false);\n      }\n    }\n\n    protected onTaskWorkerMessage (event: MessageEvent) {\n      console.warn('Processor should implement onWorkerMessage');\n      console.warn('Worker event not handled:', event);\n    }\n\n    protected dispatchTask (name: string, packet: Packet) {\n      const task: ProcessorTask = {\n        workerContext: null,\n        packet,\n        name\n      };\n      this.getTaskWorker()\n        .postMessage(task, task.packet.mapArrayBuffers());\n    }\n\n    /**\n     * FIXME: explain this better\n     *\n     * At the same time handler for symbols, as well as\n     * arbiter function to determine if this proc proxies or not specific symbols.\n     *\n     * Default proxies all non-VOID symbols.\n     *\n     * Per design this merely passes in the symbol, not the actual packet.\n     *\n     * Symbolic packets are only supposed to be a shell for the symbol itself,\n     * their other properties should be ignored in that case. They also should\n     * not carry any data.\n     *\n     * Returning false will have this packet carrying the symbol be passed into `processTransfer_`.\n     *\n     * Setting the Processor instance property `enableSymbolProxying` to false (default true)\n     * will disable proxying generally for all packets. That way, proxying can be disabled while\n     * packets with symbols will also not be passed into the processing scope.\n     *\n     * NOTE: Transferring the packet with the symbol to all output sockets \"manually\" is de-facto performing proxying.\n     *\n     * @returns True if the symbolic packet should be proxied, false if we want to handle this manually in the processing scope (when symbol-proxying enabled)\n     */\n    protected handleSymbolicPacket_ (symbol: PacketSymbol): boolean {\n      return symbol !== PacketSymbol.VOID;\n    }\n\n    /**\n     * Called when a packet is received on an input socket.\n     * Returns true when packet was handled correctly in some way.\n     */\n    protected abstract processTransfer_(inS: InputSocket, p: Packet, inputIndex: number): boolean;\n\n    /**\n     * Needed by proxy shell\n     * @param st\n     */\n    protected overrideSocketTemplate(st: SocketTemplateGenerator) {\n      this.socketTemplate_ = st;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/processor.ts","import { VoidCallback, OneDeepNestedArray } from './common-types';\n\nexport const noop = () => {};\n\n/**\n *\n * @param s template-able string value.\n * ex: template ```var s = `${myvar}` ``` is equivalent to ```var t = makeTemplate(\"${myvar}\"); s = eval(t)```\n * sometimes it can be useful to define the form of a template without evaluating it,\n * but pass it to the component that will do that later and thus separate these two steps as shown above.\n * notice that the variables used in the prepared template can only relate to the scope(s) in which\n * the template effectively gets evaluated, not where it gets created with this function here.\n * if you want to evaluate values from one specific context to a string, but delegate the evaluation, use OOP or a closure.\n * @returns {string} value that can be passed to `eval` in order to be evaluated as a template.\n *\n */\nexport function makeTemplate(s: string): string { return `\\`${s}\\`` }\n\n/**\n *\n * @returns true on finite values, false on Infinity\n *          returns false on anything that is not convertible to a number (when not a number type), see isConvertibleToNumber\n */\nexport function isNumber (n: number): boolean {\n  return Number.isFinite(n);\n}\n\n/**\n *\n * @returns true on: empty string, booleans, null, finite number values and +/- Infinity\n *          false on: everything else -> objects, non-empty string, undefined, NaN (obviously)\n */\nexport function isConvertibleToNumber (n: any): boolean {\n  return !isNaN(n);\n}\n\nexport function isInteger(n: number): boolean { return Number.isInteger(n) }\n\nexport function isIntegerIEEE754(n: number): boolean { return Number.isSafeInteger(n) }\n\n/**\n *\n * @returns a finite number or +/- Infinity (if n was that value)\n * @throws error when value is not convertible to a number\n */\nexport function toNumber (n: any): number {\n  if (isConvertibleToNumber(n)) {\n    return Number(n);\n  }\n  throw new Error('Value does not convert to number: ' + n);\n}\n\nexport function flattenOneDeepNestedArray<T>(a: OneDeepNestedArray<T>): T[] {\n  return [].concat(...a);\n}\n\nexport function unsafeFlattenAnyNestedArray<T>(arr: any[]): T[] {\n  return arr.reduce(function (flat, toFlatten) {\n    return flat.concat(Array.isArray(toFlatten) ? unsafeFlattenAnyNestedArray(toFlatten) : toFlatten);\n  }, []);\n}\n\nexport function lastOfArray<T>(a: T[]): T | null {\n  if (!a.length) {\n    return null;\n  }\n  return a[a.length - 1];\n}\n\n// TODO: allocation methods\n// TODO: allow using \"fast but unsafe\" allocation methods in V8/Nodejs via Buffer.allocUnsafe\n\n/**\n * Copies source data into a previously allocated destination buffer (see memcpy)\n */\nexport function copyArrayBuffer(\n  src: ArrayBuffer, dest: ArrayBuffer,\n  length: number = src.byteLength,\n  srcOffset: number = 0, destOffset: number = 0) {\n\n  if (srcOffset + length >= src.byteLength) {\n    throw new Error(`Source buffer is too small for copy target of ${length} bytes at offset ${srcOffset}`);\n  }\n\n  if (destOffset + length >= dest.byteLength) {\n    throw new Error(`Destination buffer is too small for copy target of ${length} bytes to offset at ${destOffset}`);\n  }\n\n  const destView = new Uint8Array(dest);\n  const srcView = new Uint8Array(src, srcOffset, length);\n  destView.set(srcView, destOffset);\n}\n\n/**\n * Copies all data from one buffer into a new one, optionnally with offset and size arguments\n * @param buffer\n * @param begin\n * @param end\n */\nexport function copyToNewArrayBuffer(buffer: ArrayBuffer, offset: number = 0, size?: number): ArrayBuffer {\n  if (offset >= buffer.byteLength || offset + size > buffer.byteLength) {\n    throw new Error(`Offset or size are out of array-buffer bounds: ${offset}/${size}, but byte-length is ${buffer.byteLength}`);\n  }\n  /**\n   * The slice() method returns a shallow copy of a portion of an array\n   * into a new array object selected from begin to end (end not included).\n   * The original array will not be modified.\n   */\n  return buffer.slice(offset, offset + size);\n}\n\nexport function copyArrayBufferCollection(abs: ArrayBuffer[]) {\n  return abs.map((ab) => copyToNewArrayBuffer(ab));\n}\n\n/**\n * Copies only the window that the view points to into a new buffer\n * @param typedArray\n */\nexport function allocAndCopyTypedArraySlice(typedArray: ArrayBufferView): ArrayBuffer {\n  return copyToNewArrayBuffer(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n}\n\n/**\n * Concatenates two existing buffers into a newly allocated third one\n * @param buffer1\n * @param buffer2\n */\nexport function concatArrayBuffers (buffer1: ArrayBuffer, buffer2: ArrayBuffer): ArrayBuffer {\n  if (!buffer1) {\n    return buffer2;\n  } else if (!buffer2) {\n    return buffer1;\n  }\n  const newBuffer = new ArrayBuffer(buffer1.byteLength + buffer2.byteLength);\n  const view = new Uint8Array(newBuffer);\n  view.set(new Uint8Array(buffer1), 0);\n  view.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return newBuffer;\n}\n\nexport function concatArrays<T> (arg0: T[], ...args: T[][]): T[] {\n  return Array.prototype.concat.apply(arg0, args);\n}\n\n// tslint:disable-next-line: ban-types\nexport function forEachOwnPropKeyInObject<T> (object: Object, callback: (el: T) => void) {\n  for (const key in object) {\n    if (object.hasOwnProperty(key)) {\n      const element = object[key];\n      callback(element);\n    }\n  }\n}\n\nexport function dispatchAsyncTask (func: VoidCallback, timeoutSeconds: number = 0): number {\n  return <any> setTimeout(func, timeoutSeconds * 1000);\n}\n\nexport function cancelAsyncTask (id: number): void {\n  clearTimeout(id);\n}\n\nexport function parseOptionsFromQueryString (\n  query: string = (window as any).location.search,\n  validProperties: string[] = null): {[property: string]: string} {\n  if (!query) {\n    return {};\n  }\n\n  if (!query.startsWith('?')) {\n    throw new Error('Malformed query string, should start with a `?`');\n  }\n\n  query = query.substr(1);\n  const queryTokens = query.split(/&|=/);\n\n  if (queryTokens.length % 2 !== 0) {\n    throw new Error('Invalid query string in URL, uneven amount of tokens');\n  }\n\n  const options = {};\n\n  let i = 0;\n  while (i <= queryTokens.length) {\n    if (validProperties) {\n      let validPropsIndex = validProperties.indexOf(queryTokens[i]);\n      if (validPropsIndex >= 0) {\n        options[validProperties[validPropsIndex]] = queryTokens[i + 1];\n      }\n    } else if (queryTokens[i]) {\n      options[queryTokens[i]] = queryTokens[i + 1];\n    }\n    i = i + 2;\n  }\n\n  return options;\n}\n\nexport function arrayBufferToHexdump (buffer: ArrayBuffer): string {\n  return Array.prototype.map.call(new Uint8Array(buffer),\n    (x) => ('00' + x.toString(16)) // map each by to a a string with base16\n      .slice(-2))\n      .join(' ');\n}\n\nexport const utf8CharsToString = (bytes: Uint8Array): string => {\n  return String.fromCharCode.apply(null, bytes)\n}\n\nexport const unicodeCharsToString = (hexChars: Uint16Array): string => {\n  return String.fromCharCode.apply(null, hexChars)\n}\n\nexport function utf8StringToBuffer(str: string): ArrayBuffer {\n  let buf = new ArrayBuffer(str.length); // 2 bytes for each char\n  let bufView = new Uint8Array(buf);\n  for (let i=0, strLen=str.length; i < strLen; i++) {\n    bufView[i] = str.charCodeAt(i);\n  }\n  return buf;\n}\n\n/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function hexToBytes (s: string): Uint8Array {\n  let len = s.length >> 1;\n  let arr = new Uint8Array(len);\n  for (let i = 0; i < len; i++) {\n    arr[i] = parseInt(s.substr(i * 2, 2), 16);\n  }\n  return arr;\n}\n\nexport function utf8decode (str) {\n  let bytes = new Uint8Array(str.length * 4);\n  let b = 0;\n  for (let i = 0, j = str.length; i < j; i++) {\n    let code = str.charCodeAt(i);\n    if (code <= 0x7f) {\n      bytes[b++] = code;\n      continue;\n    }\n    if (code >= 0xD800 && code <= 0xDBFF) {\n      let codeLow = str.charCodeAt(i + 1);\n      if (codeLow >= 0xDC00 && codeLow <= 0xDFFF) {\n        // convert only when both high and low surrogates are present\n        code = ((code & 0x3FF) << 10) + (codeLow & 0x3FF) + 0x10000;\n        ++i;\n      }\n    }\n    if ((code & 0xFFE00000) !== 0) {\n      bytes[b++] = 0xF8 | ((code >>> 24) & 0x03);\n      bytes[b++] = 0x80 | ((code >>> 18) & 0x3F);\n      bytes[b++] = 0x80 | ((code >>> 12) & 0x3F);\n      bytes[b++] = 0x80 | ((code >>> 6) & 0x3F);\n      bytes[b++] = 0x80 | (code & 0x3F);\n    } else if ((code & 0xFFFF0000) !== 0) {\n      bytes[b++] = 0xF0 | ((code >>> 18) & 0x07);\n      bytes[b++] = 0x80 | ((code >>> 12) & 0x3F);\n      bytes[b++] = 0x80 | ((code >>> 6) & 0x3F);\n      bytes[b++] = 0x80 | (code & 0x3F);\n    } else if ((code & 0xFFFFF800) !== 0) {\n      bytes[b++] = 0xE0 | ((code >>> 12) & 0x0F);\n      bytes[b++] = 0x80 | ((code >>> 6) & 0x3F);\n      bytes[b++] = 0x80 | (code & 0x3F);\n    } else {\n      bytes[b++] = 0xC0 | ((code >>> 6) & 0x1F);\n      bytes[b++] = 0x80 | (code & 0x3F);\n    }\n  }\n  return bytes.subarray(0, b);\n}\n\nexport const MAX_UINT_32 = 4294967296;\nexport const MAX_UINT_16 = 65536;\n\nexport const readUint16 = (buffer: Uint8Array, offset: number): number => {\n  const val = buffer[offset] << 8 |\n              buffer[offset + 1];\n  return val < 0 ? MAX_UINT_16 + val : val;\n}\n\nexport const readUint32 = (buffer: Uint8Array, offset: number): number => {\n  const val = buffer[offset] << 24 |\n              buffer[offset + 1] << 16 |\n              buffer[offset + 2] << 8 |\n              buffer[offset + 3];\n  return val < 0 ? MAX_UINT_32 + val : val;\n}\n\nexport function writeUint32 (buffer: Uint8Array, offset: number, value: number): number {\n  buffer[offset] = value >> 24;\n  buffer[offset+1] = (value >> 16) & 0xff;\n  buffer[offset+2] = (value >> 8) & 0xff;\n  buffer[offset+3] = value & 0xff;\n  return 4;\n}\n\nexport function writeInt32 (data: Uint8Array, offset: number, value: number): number {\n  data[offset] = (value >> 24) & 255;\n  data[offset + 1] = (value >> 16) & 255;\n  data[offset + 2] = (value >> 8) & 255;\n  data[offset + 3] = value & 255;\n  return 4;\n}\n\nexport function decodeInt32 (s: string): number {\n  return (s.charCodeAt(0) << 24) | (s.charCodeAt(1) << 16) |\n           (s.charCodeAt(2) << 8) | s.charCodeAt(3);\n}\n\n/**\n *\n * @param d\n * @param referenceDae defaults to midnight after Jan. 1, 1904\n */\nexport function encodeDate (d: number, referenceDae: number = -2082844800000): number {\n  return ((d - referenceDae) / 1000) | 0;\n}\n\nexport function encodeFloat_16_16 (f: number): number {\n  return (f * 0x10000) | 0;\n}\n\nexport function encodeFloat_2_30 (f: number): number {\n  return (f * 0x40000000) | 0;\n}\n\nexport function encodeFloat_8_8 (f: number): number {\n  return (f * 0x100) | 0;\n}\n\nexport function encodeLang (s: string): number {\n  return ((s.charCodeAt(0) & 0x1F) << 10) | ((s.charCodeAt(1) & 0x1F) << 5) | (s.charCodeAt(2) & 0x1F);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common-utils.ts","import { BufferSlices, BufferSlice } from './buffer';\nimport { UNKNOWN_MIMETYPE } from './payload-description';\nimport { BufferProperties } from './buffer-props';\n\n/**\n * Symbols are passed into sockets and thus processors to convey in-band\n * information on the stream of packets.\n */\nexport enum PacketSymbol {\n  VOID = 0,           // void: a placeholder\n  WAIT = 1,           // further data received should not be processed (or transferred)\n  WAIT_BUT_Q = 2,     // further data received may be processed but must be queued until transferred (wait for resume)\n  RESUME = 3,         // further data received should be processed now and pipelined\n  FLUSH = 4,          // data received before should now be flushed (meaning it should be transferred when already processed)\n  GAP = 5,            // a time-plane discontinuity in this sync-id domain will arrive after this (this may also mean a lack of data for present processing)\n  EOS = 6,            // no more data will be transferred after this\n  DROP = 7,           // data received before (already processed or not) should be dropped (and thus not transferred)\n  DROP_Q = 8,         // data received before that was queued (not yet processed) should be dropped\n  SYNC = 9            // after this, a new packet sync-id may appear (the symbolic packet SHOULD carry its value already)\n}\n\nexport type PacketReceiveCallback = ((p: Packet) => boolean);\n\nexport class Packet {\n\n  /**\n   * used to recover a packet that was transferred from a another thread (worker) context (passed via a message-event).\n   * the object is then a \"dead\" structure of metadata and needs to be reconstructed so it has \"methods\"\n   * again on its instance. all buffer-slices need to be recovered as well. in JS terms, we have lost all of our\n   * prototypical nature and are more of a 1-to-1 serialized snapshot of the object state from which we create\n   * a new instance with the identical properties.\n   * @param p\n   */\n  static fromTransferable (p: Packet): Packet {\n    return Packet.fromData(p, p.data.map((bs) => BufferSlice.fromTransferable(bs)));\n  }\n\n  /**\n   * same as above but we are creating copies of the buffer data as well.\n   * this is usually done when we pass data from a processing thread (worker) into the control/user thread via a message.\n   * the message is attached a copy of the original data which was processed in the thread in this case.\n   * @param p\n   */\n  static makeTransferableCopy(p: Packet) {\n    return Packet.fromData(p, p.data.map((bs) => BufferSlice.copy(bs)));\n  }\n\n  /**\n   * Creates a new packet based on an existing (\"dead\") packets metadata and some arbitrary data that is passed in.\n   * This is used to convert back and for packet-data to be attached to inter-thread messages.\n   * @param p Expected to be only a state snapshot of a packet without the actual prototype applied (no methods)\n   * @param data\n   */\n  private static fromData (p: Packet, data: BufferSlice[]) {\n\n    const newPacket: Packet = new Packet(\n      data,\n      p.timestamp,\n      p.presentationTimeOffset,\n      p.createdAt,\n      p.synchronizationId\n    );\n    if (p._symbol > 0) { // we need to access the private member here because the properties\n                         // and methods are not present when the prototype wasn't called\n                         // same for the methods below\n                         // note: if we would apply the constructor on `p` it would also reset the values\n      newPacket.symbol = p._symbol;\n    }\n    newPacket.setTimestampOffset(p._timestampOffset);\n    newPacket.setTimescale(p._timescale);\n    return newPacket;\n  }\n\n  static fromArrayBuffer (\n    arrayBuffer: ArrayBuffer,\n    mimeType?: string,\n    bufferProps: BufferProperties = new BufferProperties(mimeType)): Packet {\n\n    return Packet.fromSlice(new BufferSlice(\n      arrayBuffer,\n      0,\n      arrayBuffer.byteLength,\n      bufferProps\n    ));\n  }\n\n  static fromSlice (bufferSlice: BufferSlice, timestamp?: number, pto?: number): Packet {\n    const p = new Packet([], timestamp, pto);\n    p.data.push(\n      bufferSlice\n    );\n    return p;\n  }\n\n  static fromSlices(timestamp: number, pto: number, ...bufferSlices: BufferSlice[]): Packet {\n    const p = new Packet([], timestamp, pto);\n    Array.prototype.push.apply(p.data, bufferSlices);\n    return p;\n  }\n\n  static fromSymbol (symbol: PacketSymbol) {\n    const p = new Packet();\n    p.symbol = symbol;\n    return p;\n  }\n\n  static newEos () {\n    return Packet.fromSymbol(PacketSymbol.EOS);\n  }\n\n  static newFlush () {\n    return Packet.fromSymbol(PacketSymbol.FLUSH);\n  }\n\n  static newGap () {\n    return Packet.fromSymbol(PacketSymbol.GAP);\n  }\n\n  static newResume () {\n    return Packet.fromSymbol(PacketSymbol.RESUME);\n  }\n\n  private _symbol: PacketSymbol = PacketSymbol.VOID;\n  private _timescale: number = 1; // maybe not have a default value?\n  private _hasDefaultBufferProps: boolean = true;\n  private _timestampOffset: number = 0;\n\n  constructor (\n    public data: BufferSlices = [],\n    public timestamp: number = 0,\n    public presentationTimeOffset: number = 0,\n    public createdAt: Date = new Date(),\n    public readonly synchronizationId: number = null\n  ) {\n\n    if (synchronizationId !== null && !Number.isSafeInteger(synchronizationId)) {\n      throw new Error('Synchronization-id must be a safe integer value');\n    }\n\n  }\n\n  mapArrayBuffers (): ArrayBuffer[] {\n    return BufferSlice.mapArrayBuffers(this.data);\n  }\n\n  forEachBufferSlice (\n    method: (bs: BufferSlice) => void,\n    errorHandler: (bs: BufferSlice, err: Error) => boolean = null,\n    context: any = null) {\n    let abort = false;\n    // we use an on-stack shallow copy of the array to prevent any\n    // side-effects on other manipulation of the packet itself from within\n    // the loop we will run here.\n    this.data.slice().forEach((bufferSlice) => {\n      if (abort) {\n        return;\n      }\n      if (context) {\n        method = method.bind(context);\n        if (errorHandler) {\n          errorHandler = errorHandler.bind(context);\n        }\n      }\n      try {\n        method(bufferSlice);\n      } catch (err) {\n        if (errorHandler) {\n          if (!errorHandler(bufferSlice, err)) {\n            abort = true;\n            console.error('Packet-buffers loop aborted: ', err);\n          }\n        } else {\n          throw err;\n        }\n      }\n    });\n  }\n\n  get symbol (): PacketSymbol {\n    return this._symbol;\n  }\n\n  set symbol (symbol: PacketSymbol) {\n    if (this.data.length > 0) {\n      throw new Error('Symbolic packets should not carry data');\n    }\n    this._symbol = symbol;\n  }\n\n  // TODO: allow to inject default payload as well from the packet\n  get defaultPayloadInfo (): BufferProperties {\n    if (!this.hasDefaultPayloadInfo) {\n      throw new Error('packet has no default payload description');\n    }\n    return this.data[0] ? this.data[0].props : null;\n  }\n\n  // TODO: check if other buffers have other infos etc..\n  get hasDefaultPayloadInfo(): boolean {\n    return this._hasDefaultBufferProps;\n  }\n\n  /**\n   * alias for presentationTimeOffset\n   */\n  get cto() {\n    return this.presentationTimeOffset;\n  }\n\n  /**\n   * alias for presentationTimeOffset\n   */\n  get pto() {\n    return this.presentationTimeOffset;\n  }\n\n  /**\n   * alias for timestamp (caution: not including timestamp-offset)\n   */\n  get dts() {\n    return this.timestamp;\n  }\n\n  /**\n   * CT <==> PTS\n   *\n   * CT(n)  =  DT(n)  +  CTO(n)\n   */\n  getPresentationTimestamp (): number {\n    return this._timestampOffset + this.timestamp + this.presentationTimeOffset;\n  }\n\n  getDecodingTimestamp (): number {\n    return this._timestampOffset + this.timestamp;\n  }\n\n  setTimescale(timescale: number) {\n    this._timescale = timescale;\n  }\n\n  getTimescale(): number {\n    return this._timescale;\n  }\n\n  setTimestampOffset(tOffset: number) {\n    this._timestampOffset = tOffset;\n  }\n\n  getTimestampOffset(): number {\n    return this._timestampOffset;\n  }\n\n  /**\n   * CTO == PTO == presentationTimeOffset\n   */\n  getNormalizedCto(): number {\n    return this.presentationTimeOffset / this._timescale;\n  }\n\n  getNormalizedTimestampOffset(): number {\n    return this._timestampOffset / this._timescale;\n  }\n\n  getNormalizedPts(): number {\n    return this.getPresentationTimestamp() / this._timescale;\n  }\n\n  getNormalizedDts() {\n    return this.getDecodingTimestamp() / this._timescale;\n  }\n\n  getScaledPts(timescale: number): number {\n    return this.getNormalizedPts() * timescale;\n  }\n\n  getScaledDts(timescale: number): number {\n    return this.getNormalizedDts() * timescale;\n  }\n\n  /**\n   * CTO == PTO == presentationTimeOffset\n   */\n  getScaledCto(timescale): number {\n    return this.getNormalizedCto() * timescale;\n  }\n\n  getTotalBytes () {\n    return this.data.reduce((accu, buf: BufferSlice) => {\n      return accu + buf.length;\n    }, 0);\n  }\n\n  isSymbolic (): boolean {\n    return this._symbol !== PacketSymbol.VOID && this.data.length === 0;\n  }\n\n  toString(): string {\n    const p = this;\n    const description\n      = `<${p.defaultPayloadInfo ? p.defaultPayloadInfo.mimeType : UNKNOWN_MIMETYPE}>`\n      + ` #{(@${p.getTimestampOffset()} + ${p.timestamp} + ∂${p.presentationTimeOffset}) / ${p.getTimescale()}`\n      + ` -> ${p.getNormalizedDts()} + ∂${p.getNormalizedCto()} [s]} `\n    return description;\n  }\n\n  /*\n  isPayloadInfoConsistent(): boolean {\n    throw new Error('not implemented');\n  }\n  */\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/packet.ts","import { isIntegerIEEE754, isInteger } from '../common-utils';\n\nexport type MimeType = string;\nexport type MimeTypes = MimeType[];\n\n/*\nexport function isValidMimeTypeString(mimeType: string) {\n  //\n}\n*/\n\n// ADD common codec-strings\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\n *\n */\n\nexport enum CommonMimeTypes {\n  AUDIO_MP3 = 'audio/mpeg',\n  AUDIO_AAC = 'audio/aac',\n  AUDIO_OPUS = 'audio/opus',\n  VIDEO_MP4 = 'video/mp4',\n  VIDEO_AVC = 'video/avc',\n  VIDEO_AAC = 'video/aac'\n}\n\nexport enum MimetypePrefix {\n  AUDIO = 'audio',\n  VIDEO = 'video',\n  TEXT = 'text',\n  APPLICATION = 'application'\n}\n\nexport const UNKNOWN_MIMETYPE = 'unknown/*';\n\n// TODO: parse & validate mime-types and codec strings\n/**\n * @see https://en.wikipedia.org/wiki/Media_type\n *\n */\n\n/**\n *\n * @param mimeType\n * @param codec\n * @returns example: 'video/mp4; codecs=avc1.64001f'\n * // TODO: for several codecs in one container\n */\nfunction appendCodecToMimeType (mimeType: MimeType, codec: string): string {\n  return mimeType + '; codecs=' + codec;\n}\n\nfunction doesMimetypeHaveCodec(mimeType: string): boolean {\n  return mimeType.indexOf('codecs=') >= 0;\n}\n\nexport class PayloadDescriptor {\n  /**\n   * mime-type if defined\n   */\n  readonly mimeType: MimeType = null;\n\n  /**\n   * unit-less factor to deal with arbitrary integer sample-rates without loosing precision [1]\n   */\n  readonly sampleDurationNumerator: number;\n\n  /**\n   * integer bit-depth of one sample\n   */\n  readonly sampleDepth: SampleBitDepth = SampleBitDepth.UNSPECIFIED;\n\n  /**\n   * Hertz [Hz]\n   */\n  readonly sampleRateInteger: number;\n\n  /**\n   * data format/layout applicable for raw signal packets\n   */\n  readonly dataFormat: PayloadDataFormat = PayloadDataFormat.UNSPECIFIED;\n  readonly dataLayout: PayloadDataLayout = PayloadDataLayout.UNSPECIFIED;\n\n  /**\n   * payload specific details (applicable to audio/video/text etc only e.g or codec-data related)\n   */\n  details: PayloadDetails = new PayloadDetails();\n\n  elementaryStreamId: number = NaN; // FIXME: make this a string\n\n  /**\n   * codec (if applicable)\n   */\n  codec: string = null;\n\n  constructor (mimeType: string,\n    sampleRateInteger: number = 0,\n    sampleDepth: number = 0,\n    sampleDurationNumerator: number = 1) {\n\n    if (!isIntegerIEEE754(sampleRateInteger) || !isInteger(sampleDurationNumerator)) {\n      throw new Error(`sample-rate has to be safe-int (=${sampleRateInteger}) and duration-numerator has to be int too (=${this.sampleDurationNumerator}).`);\n    }\n\n    this.mimeType = mimeType.toLowerCase();\n\n    this.sampleDurationNumerator = sampleDurationNumerator;\n    this.sampleDepth = sampleDepth;\n    this.sampleRateInteger = sampleRateInteger;\n\n    this.dataFormat = PayloadDataFormat.UNSPECIFIED;\n    this.dataLayout = PayloadDataLayout.UNSPECIFIED;\n  }\n\n  // TODO: put mime-type specific stuff in child object that specializes on mime-types?\n\n  getFullMimeType(): string {\n    if (!this.codec) {\n      return this.mimeType;\n    }\n    if (doesMimetypeHaveCodec(this.mimeType)) { // FIXME: we should maybe rather throw here\n      return this.mimeType;\n    }\n    return appendCodecToMimeType(this.mimeType, this.codec);\n  }\n\n  getMediaSubtype(): string {\n    return this._getMimeTypePart(1);\n  }\n\n  getMediaType(): string {\n    return this._getMimeTypePart(0);\n  }\n\n  protected _getMimeTypePart(i: number) {\n    try {\n      return this.mimeType.split('/')[i];\n    } catch(err) {\n      throw new Error('Malformed mime-type: ' + this.mimeType);\n    }\n  }\n\n  hasCodec(): boolean {\n    return !!this.codec;\n  }\n\n  /**\n   * Sample-duration in normal units ([1/Hz] <=> [s])\n   *\n   * By default the sampleRate is expected to be in 1*Hz. The unit to expect can be scaled using\n   * the optional unit-less numerator property to N*Hz. Meaning that the unit is not 1/[s] anymore but 1/(N*[s]),\n   * representing the number of sample in N seconds.\n   *\n   * That means that any sample-rates of the form no-of-samples-per-N-seconds [Hz],\n   * where no-of-samples and N is should be integers, can be represented without precision loss.\n   *\n   * Also floating point values may be used but this may yield precision loss when computing the duration here.\n   */\n  getSampleDuration() {\n    return this.sampleDurationNumerator / this.sampleRateInteger;\n  }\n\n  /**\n   * Sampling-rate in normal units ([Hz] <=> [1/s])\n   *\n   * see getSampleDuration, simply the inverted value\n   */\n  getSamplingRate (): number {\n    return this.sampleRateInteger / this.sampleDurationNumerator;\n  }\n\n  /**\n   * Returns size of one sample in bytes\n   */\n  getSampleSize(): number {\n    return this.sampleDepth / 8;\n  }\n\n  isAudio() {\n    return this.mimeType.startsWith('audio/');\n  }\n\n  isVideo() {\n    return this.mimeType.startsWith('video/');\n  }\n\n  isText() {\n    return this.mimeType.startsWith('text/');\n  }\n\n  isImage() {\n    return this.mimeType.startsWith('image/');\n  }\n\n  isApplicationSpecific() {\n    return this.mimeType.startsWith('application/');\n  }\n\n  isFont() {\n    return this.mimeType.startsWith('font/');\n  }\n\n  isJson() {\n    return this.mimeType === ('application/json');\n  }\n\n  isXml() {\n    return this.mimeType === ('application/xml');\n  }\n\n  toString() {\n    return `[<${this.mimeType} codec=\"${this.codec}\"> @${this.getSamplingRate()}[Hz]|1/(${this.getSampleDuration().toExponential()}[s]) * ${this.sampleDepth}bit #{${this.details.toString()}}]`;\n  }\n}\n\nexport class PayloadDetails {\n\n  /*\n  clone(details: PayloadDetails) {\n\n  }\n  */\n\n  sequenceDurationInSeconds: number = NaN;\n\n  // place to put generic codec init-data // TODO: get rid of number[] here\n  codecConfigurationData: Uint8Array | number[] = null\n\n  // video\n  width: number = 0;\n  height: number = 0;\n\n  // color-domains/channels\n\n  // audio\n\n  samplesPerFrame: number = 1;\n  numChannels: number = 0\n  constantBitrate: number = NaN;\n\n  // text\n  // ...\n\n  // time-vs-frequency domains\n  // ...\n\n  toString() {\n    return `width=${this.width}[px];height=${this.height}[px];samplesPerFrame=${this.samplesPerFrame};cbr=${this.constantBitrate}[b/s];numChannels=${this.numChannels};codecConfigSize=${this.codecConfigurationData ? this.codecConfigurationData.length : 0}`\n  }\n}\n\nexport class PayloadCodec {\n  static isAvc(codec: string) {\n    return codec.startsWith('avc1');\n  }\n\n  static isAac(codec: string) {\n    return codec.startsWith('mp4a');\n  }\n\n  static isMp3(codec: string) {\n    return codec.startsWith('mp3a');\n  }\n}\n\nexport enum PayloadDataFormat {\n  UNSPECIFIED,\n  S_LE,\n  S_BE,\n  U_LE,\n  U_BE\n}\n\nexport enum PayloadDataLayout {\n  UNSPECIFIED,\n  INTERLEAVED,\n  PROGRESSIVE\n}\n\nexport enum SampleBitDepth {\n  UNSPECIFIED = NaN,\n  VARIABLE = 0,\n  FOUR = 4,\n  EIGHT = 8,\n  TWELVE = 12,\n  SIXTEEN = 16,\n  THIRTYTWO = 32\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/payload-description.ts","import { Frame } from './frame';\nimport { toSecondsFromMicros } from '../utils/timescale';\n\nexport class Track {\n    // FIXME: should be an enum type\n    public static TYPE_VIDEO: string = 'video';\n    public static TYPE_AUDIO: string = 'audio';\n    public static TYPE_TEXT: string = 'text';\n    public static TYPE_COMPLEX: string = 'complex';\n    public static TYPE_LOGO: string = 'logo';\n    public static TYPE_BUTTONS: string = 'buttons';\n    public static TYPE_CONTROL: string = 'control';\n    public static TYPE_UNKNOWN: string = 'unknown';\n\n    // Here we don't need an enum\n    public static MIME_TYPE_AAC: string = 'audio/mp4a-latm';\n    public static MIME_TYPE_AVC: string = 'video/avc';\n    public static MIME_TYPE_HEVC: string = 'video/hevc';\n    public static MIME_TYPE_MPEG: string = 'audio/mpeg';\n    public static MIME_TYPE_MPEG_L1: string = 'audio/mpeg-L1';\n    public static MIME_TYPE_MPEG_l2: string = 'audio/mpeg-L2';\n    public static MIME_TYPE_ID3: string = 'application/id3';\n    public static MIME_TYPE_UNKNOWN: string = 'unknown';\n\n    protected frames: Frame[] = [];\n    protected duration: number = NaN;\n\n    constructor(public id: number, public type: string /* fixme: make enum type */, public mimeType: string) {\n        this.frames = [];\n    }\n\n    public isVideo() {\n        return this.type === Track.TYPE_VIDEO;\n    }\n\n    public isAudio() {\n        return this.type === Track.TYPE_AUDIO;\n    }\n\n    public isText() {\n        return this.type === Track.TYPE_TEXT;\n    }\n\n    public isOther() {\n        return this.type !== Track.TYPE_TEXT\n            && this.type !== Track.TYPE_AUDIO\n            && this.type !== Track.TYPE_VIDEO;\n    }\n\n    public getFrames(): Frame[] {\n        return this.frames;\n    }\n\n    public getDuration(): number {\n        return this.duration;\n    }\n\n    public getDurationInSeconds(): number {\n        return toSecondsFromMicros(this.getDuration());\n    }\n\n    public getMetadata(): {} { // FIXME: Make this a string-to-any hash\n        return {};\n    }\n\n    public update(): void {\n        this.frames = this.getFrames().sort((a: Frame, b: Frame): number => {\n            return a.timeUs - b.timeUs;\n        });\n\n        this.duration = this.getDuration();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/track.ts","import { PayloadDescriptor, UNKNOWN_MIMETYPE } from './payload-description';\n\n/**\n * @class\n * Describes the payload of a buffer, how many samples it contains of that, and time-contextual information\n * for decrypting/decoding/presentation of the buffer.\n *\n * Generic media-key and parameters can be included as metadata around the buffer.\n *\n * Many buffer \"slices\" can (but must not) share one buffer-properties object instance, where that has advantages.\n *\n */\nexport class BufferProperties extends PayloadDescriptor {\n\n  static clone(props: BufferProperties) {\n    const newProps = new BufferProperties(\n      props.mimeType,\n      props.sampleRateInteger,\n      props.sampleDepth,\n      props.sampleDurationNumerator,\n      props.samplesCount,\n      props.isBitstreamHeader,\n      props.isKeyframe,\n      props.timestampDelta,\n      props.mediaKey,\n      props.tags);\n\n    newProps.elementaryStreamId = props.elementaryStreamId;\n    newProps.details = props.details;\n    newProps.codec = props.codec;\n    return newProps;\n  }\n\n  static fromTransferable(props: BufferProperties) {\n    return BufferProperties.clone(props);\n  }\n\n  constructor (\n    mimeType = UNKNOWN_MIMETYPE,\n    sampleRateInteger = 0,\n    sampleDepth = 0,\n    sampleDurationNumerator = 1,\n      public samplesCount: number = 0,\n      public isBitstreamHeader: boolean = false,\n      public isKeyframe: boolean = false,\n      public timestampDelta: number = 0,\n      public mediaKey: any = null,\n      public tags: Set<string> = new Set()\n  ) {\n    super(mimeType, sampleRateInteger, sampleDepth, sampleDurationNumerator);\n    this.samplesCount = samplesCount;\n  }\n\n  clone(): BufferProperties {\n    const newProps = BufferProperties.clone(this);\n    return newProps;\n  }\n\n  /**\n   * Normal units [s]\n   */\n  getSliceDuration () {\n    return this.samplesCount * this.getSampleDuration();\n  }\n\n  toString() {\n    const payloadToString = super.toString();\n    return `[[#${this.samplesCount} x ${this.isKeyframe ? 'KEY' : 'P/B'}-${this.isBitstreamHeader ? 'HEADER(s)' : 'FRAME(s)'} => ${payloadToString}]]`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/buffer-props.ts","import { toSecondsFromMicros } from \"../utils/timescale\";\n\nexport class Frame {\n\n    // fixme: should be an enum\n    public static IDR_FRAME: string = 'I';\n    public static P_FRAME: string = 'P';\n    public static B_FRAME: string = 'B';\n    public static UNFLAGGED_FRAME: string = '/';\n\n    // normalized micros value\n    private presentationTimeUs: number = 0;\n\n    // ideally have unnormalized integer values\n    public timescale: number = NaN;\n    public scaledDecodingTime: number = NaN;\n    public scaledPresentationTimeOffset: number = NaN;\n    public scaledDuration: number = NaN;\n\n    constructor (\n        public frameType: string,\n        public timeUs: number,\n        public size: number,\n        public duration: number = NaN,\n        public bytesOffset: number = NaN,\n        presentationTimeOffsetUs: number = 0\n    ) {\n        this.setPresentationTimeOffsetUs(presentationTimeOffsetUs);\n    }\n\n    hasUnnormalizedIntegerTiming() {\n        return Number.isFinite(this.timescale)\n            && Number.isFinite(this.scaledDecodingTime)\n            && Number.isFinite(this.scaledPresentationTimeOffset)\n            && Number.isFinite(this.scaledDuration);\n    }\n\n    getDecodingTimeUs() {\n        return this.timeUs;\n    }\n\n    getPresentationTimeUs(): number {\n        return this.presentationTimeUs;\n    }\n\n    setPresentationTimeOffsetUs(presentationTimeOffsetUs: number) {\n        this.presentationTimeUs = this.timeUs + presentationTimeOffsetUs;\n    }\n\n    getPresentationTimestampInSeconds(): number {\n        return toSecondsFromMicros(this.getPresentationTimeUs())\n    }\n\n    getDecodingTimestampInSeconds() {\n        return toSecondsFromMicros(this.getDecodingTimeUs());\n    }\n\n    getDurationInSeconds() {\n        return toSecondsFromMicros(this.duration);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/frame.ts","import { allocAndCopyTypedArraySlice, copyToNewArrayBuffer } from '../common-utils';\nimport { BufferProperties } from './buffer-props';\n\n/**\n * @class\n * A BufferSlice wraps a buffer of binary data (as an ArrayBuffer).\n *\n * The slice is what is represented by the offset and length properties (r/w),\n *\n * which can be modified at any time.\n *\n * These values are in turn used by the various DataView getters to form the data-representation window.\n * Those methods have optional arguments that overload the latter values.\n *\n * BufferSlice can be deep-copied (except properties), and ArrayBuffer.prototype.slice will be called. See `copy` methods.\n *\n * To actually get a clone of a BufferSlice instance with different offset/length window and new properties,\n * use the `unwrap` method.\n *\n * The `unwrap` method is convenient when building zero-copy parsers/demuxers to create new buffer instances\n * to push to outputs based on one input buffer slice type and the new buffers are simply windows into the input data.\n *\n */\nexport class BufferSlice {\n\n  static mapArrayBuffers (bufferSlices: BufferSlices): ArrayBuffer[] {\n    return bufferSlices.map((bs) => bs.arrayBuffer);\n  }\n\n  static fromTypedArray (typedArray: ArrayBufferView, props?: BufferProperties): BufferSlice {\n    return new BufferSlice(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength, props);\n  }\n\n  /**\n     * Awakes transferable zombies from the dead\n     *\n     * bufferSlice A possibly \"dead\" BufferSlice that has been\n     *                    cloned to be transferred into or out of a Worker\n     *                    and stripped of his methods\n     * @returns A new and alive BufferSlice\n     */\n  static fromTransferable (bufferSlice: BufferSlice) {\n    return new BufferSlice(\n      bufferSlice.arrayBuffer,\n      bufferSlice.offset,\n      bufferSlice.length,\n      BufferProperties.fromTransferable(bufferSlice.props)\n    );\n  }\n\n   /**\n     * original existing BufferSlice representing a data window into an existing ArrayBuffer\n     * @returns a new slice with a newly allocated underlying ArrayBuffer that is a copy of the original slice window data\n     */\n  static copy (original: BufferSlice): BufferSlice {\n    const slice = new BufferSlice(copyToNewArrayBuffer(original.arrayBuffer, original.offset, original.length));\n    slice.props = original.props;\n    return slice;\n  }\n\n    /**\n     * Metatdata\n     */\n    props: BufferProperties;\n\n    /**\n     * Underlying memory handle\n     */\n    readonly arrayBuffer: ArrayBuffer;\n\n    /**\n     * Offset into original allocated memory space (ArrayBuffer)\n     */\n    readonly offset: number;\n\n    /**\n     * Bytes amount / size i.e number of 8-bit characters\n     */\n    readonly length: number;\n\n    constructor (arrayBuffer: ArrayBuffer,\n      offset: number = 0,\n      length: number = arrayBuffer.byteLength,\n      props: BufferProperties = new BufferProperties()) {\n      this.arrayBuffer = arrayBuffer;\n\n      if (offset < 0 || length < 0) {\n        throw new Error('Illegal parameters for BufferSlice window');\n      }\n\n      this.offset = offset;\n      this.length = length;\n\n      this.props = props;\n    }\n\n    /**\n     *\n    characterSizeBits\n    {number} Number of characters needed in a specific encoding (default 8-bit === 1bytes)\n     */\n    size (characterSizeBits: number = 8): number {\n      if (characterSizeBits === 8) {\n        return this.length;\n      }\n      if (characterSizeBits === 16) {\n        return this.length / 2;\n      }\n      if (characterSizeBits === 32) {\n        return this.length / 4;\n      }\n      if (characterSizeBits === 64) {\n        return this.length / 8;\n      }\n      throw new Error('Invalid character bitsize: ' + characterSizeBits);\n    }\n\n    /**\n     * Returns a *new* slice instance around the exact same data buffer with a fresh vanilla properties object (by default),\n     * and the given offset/length window _relative_ to the orignal one (*important*).\n     *\n     * That means that one can only restrain the window from the previous point of view, but not extend it.\n     * Hence the method name.\n     *\n     * The offset is relative and will be added to the original slice one to form the new absolute offset.\n     * The length is arbitrary but can not exceed the length of the original slice (and error will be thrown).\n     * By default (no length passed), the length will correspond to the remainder of the slice based on its new offset.\n     *\n     * Optionally new properties can be passed directly here.\n     *\n    offset\n    length\n    props\n     * @returns new BufferSlice\n     */\n    unwrap (\n      offset: number,\n      length?: number,\n      props?: BufferProperties): BufferSlice {\n      if (isNaN(offset)) {\n        throw new Error('data bytes offset must be a number');\n      }\n\n      if (length > this.length) {\n        throw new Error(`can not unwrap longer slice (${length}) than original length: ${this.length}`);\n      }\n\n      offset += this.offset;\n\n      if (isNaN(length)) {\n        length = this.arrayBuffer.byteLength - offset;\n      }\n\n      const slice = new BufferSlice(this.arrayBuffer, offset, length, props);\n      return slice;\n    }\n\n    /**\n     * offsetIncrement Amount of bytes to move front of window forward\n     * @see unwrap called internally, same limitations apply\n     * @returns new BufferSlice\n     */\n    shrinkFront (offsetIncrement: number) {\n      return this.unwrap(this.offset + offsetIncrement, this.length - offsetIncrement);\n    }\n\n    /**\n     * lengthReduction Amount of bytes to move back of window in retreat\n     * @returns new BufferSlice\n     */\n    shrinkBack (lengthReduction: number) {\n      return this.unwrap(this.offset, this.length - lengthReduction);\n    }\n\n    /**\n     * Copies the actual underlying data and creates a new slice with the same properties.\n     *\n     * @see BufferSlice.copy (static method)\n     */\n    copy (): BufferSlice {\n      return BufferSlice.copy(this);\n    }\n\n    /**\n     * Returns an ArrayBufferView for the internal buffer based on the current offset/length of this slice.\n     *\n     * This should be the default method to pass the data slice into nested components for processing.\n     *\n     */\n    getUint8Array (): Uint8Array {\n      return new Uint8Array(this.arrayBuffer, this.offset, this.length);\n    }\n\n    /**\n     *\n     * Returns an ArrayBufferView for the internal buffer based on the current offset/length of this slice.\n     *\n     * This should be the default method to pass the data slice into nested components for deep-analysis or manipulation.\n     *\n     */\n    getDataView (): DataView {\n      return new DataView(this.arrayBuffer, this.offset, this.length);\n    }\n\n    /**\n     *\n     * Creates a view of the slice without copying but exposing the Node.js Buffer interface instead of Uint8Array or ArrayBufferView\n     *\n     * May be an alternative to getUint8Array in certain cases when interacting with Nodejs APIs or streams.\n     *\n     * This might only work on Node.js or browser envs that have a Buffer constructor.\n     *\n     */\n    getBuffer (): Buffer {\n      if (!Buffer) {\n        throw new Error('`Buffer` is not supported as built-in class');\n      }\n      return Buffer.from(this.arrayBuffer, this.offset, this.length);\n    }\n\n    /**\n     * allocates a new ArrayBuffer from the current slice\n     */\n    newArrayBuffer (): ArrayBuffer {\n      return allocAndCopyTypedArraySlice(this.getDataView());\n    }\n\n    toString(): string {\n      return `slice @${this.offset} of length ${this.length} in buffer of ${this.arrayBuffer.byteLength} bytes`;\n    }\n\n    // TODO: method to create \"grow\" new BufferSlice from original data and (list of) additional slices\n\n}\n\nexport type BufferSlices = BufferSlice[];\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/buffer.ts","import { SeekableOutputSocket, OutputSocket, SocketDescriptor } from '../core/socket';\n\nimport { XHR, XHRCallbackFunction, XHRState, XHRMethod, XHRResponseType } from './xhr/xhr';\nimport { Packet } from '../core/packet';\nimport { getLogger } from '../logger';\n\nconst {log, warn, error} = getLogger('XhrSocket');\n\nexport class XhrSocket extends SeekableOutputSocket {\n  private _xhr: XHR = null;\n\n  constructor (url: string) {\n    super(new SocketDescriptor());\n\n    this._xhr = new XHR(url, this._xhrCallback.bind(this), XHRMethod.GET, XHRResponseType.ARRAY_BUFFER);\n  }\n\n  seek (start: number, end?: number): boolean {\n    throw new Error('Method not implemented.');\n  }\n\n  private _xhrCallback (xhr: XHR, isProgressUpdate: boolean) {\n    if (isProgressUpdate) {\n      return; // TODO\n    }\n\n    if (xhr.xhrState === XHRState.DONE) {\n      log('got data for url:', this._xhr.responseURL)\n      this.transfer(Packet.fromArrayBuffer(<ArrayBuffer> xhr.responseData));\n      log('transferring EOS symbol');\n      // EOS\n      this.transfer(Packet.newEos());\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/io-sockets/xhr.socket.ts","import { Processor } from './processor';\nimport { Socket } from './socket';\nimport { ErrorInfo } from './error';\nimport { VoidCallback } from '../common-types';\nimport { EventEmitter } from 'eventemitter3';\n\nexport enum FlowState {\n  VOID = 'void', // the initial state\n  WAITING = 'waiting', // there must be one packet arrived at each terminating external output\n                       // socket to reach this state, and then no more data gets transferred\n  FLOWING = 'flowing', // this is when data is freely flowing through all procs\n  COMPLETED = 'completed' // this is when all external input socket data is consumed\n                          // or otherwise not available anymore, and the last EOS has reached the terminating output sockets\n}\n\nexport enum FlowCompletionResultCode {\n  NONE = 'none',\n  OK = 'ok',\n  FAILED = 'failed'\n}\n\nexport type FlowCompletionResult = {\n  code: FlowCompletionResultCode\n  data: Blob\n}\n\nexport enum FlowErrorType {\n  CORE = 'core',\n  PROC = 'proc',\n  RUNTIME = 'runtime'\n}\n\nexport type FlowError = ErrorInfo & {\n  type: FlowErrorType\n}\n\nexport enum FlowEvent {\n  STATE_CHANGE_PENDING = 'flow:state-change-pending',\n  STATE_CHANGE_ABORTED = 'flow:state-change-aborted',\n  STATE_CHANGED = 'flow:state-changed'\n}\n\nexport type FlowStateChangeCallback = (previousState: FlowState, newState: FlowState) => void;\n\n// TODO: create generic Set class in objec-ts\nexport abstract class Flow extends EventEmitter<FlowEvent> {\n\n  constructor (\n    public onStateChangePerformed: FlowStateChangeCallback,\n    public onStateChangeAborted: (reason: string) => void\n  ) {\n\n    super();\n\n    this._whenDone = new Promise((resolve, reject) => {\n      this._whenDoneResolve = resolve;\n      this._whenDoneReject = reject;\n    });\n  }\n\n  private _state: FlowState = FlowState.VOID;\n  private _pendingState: FlowState | null = null;\n  private _prevState: FlowState | null = null;\n\n  private _processors: Set<Processor> = new Set();\n  private _extSockets: Set<Socket> = new Set();\n\n  private _whenDone: Promise<FlowCompletionResult>;\n  private _whenDoneResolve: (value: FlowCompletionResult) => void = null;\n  private _whenDoneReject: (reason: FlowError) => void = null;\n  private _completionResultCode: FlowCompletionResultCode = FlowCompletionResultCode.NONE;\n\n  get procList (): Processor[] {\n    return Array.from(this._processors);\n  }\n\n  get externalSockets (): Socket[] {\n    return Array.from(this.getExternalSockets());\n  }\n\n  add (...p: Processor[]) {\n    p.forEach((proc) => {\n      this._processors.add(proc);\n    });\n  }\n\n  remove (...p: Processor[]) {\n    p.forEach((proc) => {\n      if (!this._processors.delete(proc)) {\n        throw new Error('Set delete method returned false');\n      }\n    });\n  }\n\n  whenCompleted(): Promise<FlowCompletionResult> {\n    return this._whenDone;\n  }\n\n  getCurrentState(): FlowState {\n    return this._state;\n  }\n\n  getPendingState (): FlowState | null {\n    return this._pendingState;\n  }\n\n  getPreviousState (): FlowState | null {\n    return this._prevState;\n  }\n\n  abortPendingStateChange (reason: string) {\n    this.onStateChangeAborted_(reason);\n    this._pendingState = null;\n    this.onStateChangeAborted(reason);\n\n    this.emit(FlowEvent.STATE_CHANGE_ABORTED);\n  }\n\n  getExternalSockets (): Set<Socket> {\n    return this._extSockets;\n  }\n\n  getCompletionResult(): FlowCompletionResultCode {\n    return this._completionResultCode;\n  }\n\n  set state (newState: FlowState) {\n    if (this._pendingState) {\n      throw new Error('Flow state-change still pending: ' + this._pendingState);\n    }\n\n    if (newState === FlowState.COMPLETED\n      && this._completionResultCode === FlowCompletionResultCode.NONE) {\n        throw new Error('state change to COMPLETED has to be triggered by setCompleted');\n      }\n\n    // update pending state\n    this._pendingState = newState;\n    this.emit(FlowEvent.STATE_CHANGE_PENDING);\n\n    const cb: VoidCallback = this.onStateChangePerformed_.bind(this, this._state, newState);\n\n    // we can go to completed from any state\n    if (newState === FlowState.COMPLETED) {\n      this.onCompleted_(cb);\n      return;\n    }\n\n    const currentState = this._state;\n    switch (currentState) {\n    case FlowState.COMPLETED:\n      fail();\n      break;\n    case FlowState.VOID:\n      if (newState !== FlowState.WAITING) {\n        fail();\n      }\n      this.onVoidToWaiting_(cb);\n      break;\n    case FlowState.WAITING:\n      if (newState === FlowState.FLOWING) {\n        this.onWaitingToFlowing_(cb);\n      } else if (newState === FlowState.VOID) {\n        this.onWaitingToVoid_(cb);\n      } else {\n        fail();\n      }\n      break;\n    case FlowState.FLOWING:\n      if (newState !== FlowState.WAITING) {\n        fail();\n      }\n      this.onFlowingToWaiting_(cb);\n      break;\n    }\n\n    function fail () {\n      this._pendingState = null;\n      throw new Error(`Can not transition from flow state ${currentState} to ${newState}`);\n    }\n  }\n\n  // more of a convenience since the setter exists but can't be public therefore\n  // (Typescript wants accessors to agree in visibility)\n  get state (): FlowState {\n    return this._state;\n  }\n\n  protected setCompleted(completionResult: FlowCompletionResult, error: FlowError = null) {\n    this._completionResultCode = completionResult.code;\n\n    // enforce state change to completed\n    this.state = FlowState.COMPLETED;\n    switch(this._completionResultCode) {\n    case FlowCompletionResultCode.NONE:\n      throw new Error('Can not complete with no result');\n    case FlowCompletionResultCode.OK:\n      this._whenDoneResolve(completionResult);\n      break;\n    case FlowCompletionResultCode.FAILED:\n      this._whenDoneReject(error);\n      break;\n    }\n  }\n\n  private onStateChangePerformed_ (previousState: FlowState, newState: FlowState) {\n    this._prevState = previousState;\n    this._state = newState;\n    this._pendingState = null;\n    this.onStateChangePerformed(this._prevState, this._state);\n\n    this.emit(FlowEvent.STATE_CHANGED);\n  }\n\n  protected abstract onVoidToWaiting_(done: VoidCallback);\n  protected abstract onWaitingToVoid_(done: VoidCallback);\n  protected abstract onWaitingToFlowing_(done: VoidCallback);\n  protected abstract onFlowingToWaiting_(done: VoidCallback);\n  protected abstract onCompleted_(done: VoidCallback);\n\n  protected abstract onStateChangeAborted_(reason: string);\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/flow.ts","import { BitReader } from '../../../utils/bit-reader';\nimport { Frame } from '../../frame';\n\nexport abstract class PayloadReader {\n    public firstTimestamp: number = -1;\n    public timeUs: number = -1;\n    public frames: Frame[] = [];\n    public dataBuffer: Uint8Array;\n\n    protected dataOffset: number;\n\n    private firstPacketDataOffset: number;\n\n    constructor() {\n        this.reset();\n    }\n\n    public append(packet: BitReader): void {\n\n        if (isNaN(this.firstPacketDataOffset)) {\n            console.log('first packet data offset:', packet.buffer.byteOffset + packet.bytesOffset())\n            this.firstPacketDataOffset = packet.buffer.byteOffset + packet.bytesOffset();\n        }\n\n        const dataToAppend: Uint8Array = packet.buffer.subarray(packet.bytesOffset());\n\n        if (!this.dataBuffer) {\n            this.dataBuffer = dataToAppend;\n        } else {\n            const newLen: number = this.dataBuffer.byteLength + packet.remainingBytes();\n            const temp: Uint8Array = new Uint8Array(newLen);\n            temp.set(this.dataBuffer, 0);\n            temp.set(dataToAppend, this.dataBuffer.byteLength);\n            this.dataBuffer = temp;\n        }\n    }\n\n    public reset(): void {\n        this.frames = [];\n        this.dataOffset = 0;\n        this.firstTimestamp = -1;\n        this.timeUs = -1;\n    }\n\n    public flush(pts: number): void {\n        if (this.dataBuffer && this.dataBuffer.byteLength > 0) {\n            this.consumeData(pts);\n            this.dataBuffer = null;\n        }\n        this.dataOffset = 0;\n    }\n\n    public abstract consumeData(pts: number): void;\n\n    public getMimeType(): string {\n        return 'Unknown';\n    }\n\n    public getDuration(): number {\n        return this.getLastPTS() - this.getFirstPTS();\n    }\n\n    public getFirstPTS(): number {\n        return this.firstTimestamp;\n    }\n\n    public getLastPTS(): number {\n        return this.timeUs;\n    }\n\n    public getFirstPacketDataOffset(): number {\n        return this.firstPacketDataOffset;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/payload/payload-reader.ts","export abstract class MmjsTestCase {\n\n  constructor(\n    public domMountPoint: HTMLElement\n  ) {}\n\n  abstract setup(done: () => void);\n\n  abstract run();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test-cases/mmjs-test-case.ts","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/eventemitter3/index.js\n// module id = 16\n// module chunks = 0","/**\n * Defaults\n */\nconst PROXY_WORKER_PATH = '/dist/MMProcessorProxyWorker.umd.js';\nconst TASK_WORKER_PATH = 'dist/MMProcessorTaskWorker.umd.js';\nconst FFMPEG_BIN_PATH = '/vendor/ffmpeg.js/ffmpeg-mp4.js'\n\nexport enum EnvironmentVar {\n  PROXY_WORKER_PATH = 'proxy-worker-path',\n  TASK_WORKER_PATH = 'task-worker-path',\n  FFMPEG_BIN_PATH = 'ffmpeg-bin-path'\n}\n\nexport type EnvironmentVars = {\n  [name: string]: string\n}\n\nexport const EnvironmentVars: EnvironmentVars = {\n  TASK_WORKER_PATH,\n  PROXY_WORKER_PATH,\n  FFMPEG_BIN_PATH\n}\n\nexport function setEnvironmentVar(name: EnvironmentVar, value: string) {\n  EnvironmentVars[name] = value;\n}\n\nexport function getEnvironmentVar(name: EnvironmentVar): string {\n  if (!EnvironmentVars[name]) {\n    throw new Error('No such environment variable exists: ' + name);\n  }\n  return EnvironmentVars[name];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/env.ts","export class BitReader {\n    private workingBytesAvailable: number;\n    private workingWord: number;\n    private workingBitsAvailable: number;\n\n    constructor(public buffer: Uint8Array) {\n        this.workingBytesAvailable = buffer.byteLength;\n        this.workingWord = 0;\n        this.workingBitsAvailable = 0;\n\n        this.loadWord();\n    }\n\n    public destroy(): void {\n        this.buffer = null;\n    }\n\n    public remainingBytes(): number {\n        return this.workingBytesAvailable + this.workingBitsAvailable / 8;\n    }\n\n    public bitsAvailable(): number {\n        return (8 * this.workingBytesAvailable) + this.workingBitsAvailable;\n    }\n\n    public bytesOffset(): number {\n        return this.buffer.byteLength - this.remainingBytes();\n    }\n\n    public skipBytes(count: number): void {\n        this.skipBits(count * 8);\n    }\n\n    public skipBits(count: number): void {\n        let skipBytes: number;\n        if (this.workingBitsAvailable > count) {\n            this.workingWord <<= count;\n            this.workingBitsAvailable -= count;\n        } else {\n            count -= this.workingBitsAvailable;\n            skipBytes = Math.floor(count / 8);\n\n            count -= (skipBytes * 8);\n            this.workingBytesAvailable -= skipBytes;\n\n            this.loadWord();\n\n            this.workingWord <<= count;\n            this.workingBitsAvailable -= count;\n        }\n    }\n\n    public skipUEG(): void {\n        this.skipBits(1 + this.skipLeadingZeros());\n    }\n\n    public skipSEG(): void {\n        this.skipBits(1 + this.skipLeadingZeros());\n    }\n\n    public readUEG(): number {\n        const clz: number = this.skipLeadingZeros();\n        return this.readBits(clz + 1) - 1;\n    }\n\n    public readSEG(): number {\n        var val: number = this.readUEG();\n        if (0x01 & val) {\n            return (1 + val) >>> 1;\n        }\n        return -1 * (val >>> 1);\n    }\n\n    public readBool(): boolean {\n        return this.readBits(1) === 1;\n    }\n\n    public readByte(): number {\n        return this.readBits(8);\n    };\n\n    public readBits(size: number): number {\n        let bits: number = Math.min(this.workingBitsAvailable, size);\n        const val: number = this.workingWord >>> (32 - bits);\n\n        this.workingBitsAvailable -= bits;\n        if (this.workingBitsAvailable > 0) {\n            this.workingWord <<= bits;\n        } else if (this.workingBytesAvailable > 0) {\n            this.loadWord();\n        }\n\n        bits = size - bits;\n        if (bits > 0) {\n            return (val << bits | this.readBits(bits)) >>> 0;\n        }\n        return val;\n    }\n\n    private loadWord(): void {\n        const position: number = this.buffer.byteLength - this.workingBytesAvailable;\n        const workingBytes: Uint8Array = new Uint8Array(4);\n        const availableBytes: number = Math.min(4, this.remainingBytes());\n\n        if (availableBytes === 0) {\n            throw new Error('No bytes available');\n        }\n\n        workingBytes.set(this.buffer.subarray(position, position + availableBytes));\n        this.workingWord = new DataView(workingBytes.buffer).getUint32(0);\n\n        this.workingBitsAvailable = availableBytes * 8;\n        this.workingBytesAvailable -= availableBytes;\n    }\n\n    private skipLeadingZeros(): number {\n        let leadingZeroCount: number;\n        for (leadingZeroCount = 0; leadingZeroCount < this.workingBitsAvailable; ++leadingZeroCount) {\n            if ((this.workingWord & (0x80000000 >>> leadingZeroCount)) !== 0) {\n                this.workingWord <<= leadingZeroCount;\n                this.workingBitsAvailable -= leadingZeroCount;\n                return leadingZeroCount;\n            }\n        }\n        this.loadWord();\n        return leadingZeroCount + this.skipLeadingZeros();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/utils/bit-reader.ts","export const MICROSECOND_TIMESCALE = 1000000;\n\nexport function toMicroseconds(value, timescale) {\n    return MICROSECOND_TIMESCALE * value / timescale;\n}\n\nexport function toSecondsFromMicros(us) {\n    return us / MICROSECOND_TIMESCALE;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/utils/timescale.ts","// TODO: Move to Objec-TS long-term\n\nconst PREFIX_ROOT = '1nspect0r.js'\n\nconst noop = () => {};\n\nconst getPrefix = function(type: string, category: string): string {\n  const prefix = `[${PREFIX_ROOT}]:[${type}]:[${category}] >`\n  return prefix\n}\n\nexport function checkLogLevel(level: number, catLevel: number) {\n  switch(catLevel) {\n  case LoggerLevels.INFO: return (level >= LoggerLevels.INFO) && console.info\n  case LoggerLevels.LOG: return (level >= LoggerLevels.LOG) && console.log\n  case LoggerLevels.DEBUG: return (level >= LoggerLevels.DEBUG) && console.debug\n  case LoggerLevels.WARN: return (level >= LoggerLevels.WARN) && console.warn\n  case LoggerLevels.ERROR: return (level >= LoggerLevels.ERROR) && console.error\n  }\n}\n\nexport type LoggerFunc = (...args: any[]) => void\n\nexport type Logger = {\n  info: LoggerFunc,\n  log: LoggerFunc\n  debug: LoggerFunc\n  warn: LoggerFunc\n  error: LoggerFunc\n}\n\nexport enum LoggerLevels {\n  ON = Infinity,\n  LOG = 5,\n  INFO = 4,\n  DEBUG = 3,\n  WARN = 2,\n  ERROR = 1,\n  OFF = 0\n}\n\nexport const getLogger = function(category: string, level: number = LoggerLevels.ON): Logger {\n  var window = self; // Needed for WebWorker compat\n\n  return {\n    info: checkLogLevel(level, LoggerLevels.INFO) ? console.info.bind(window['console'], getPrefix('i', category)) : noop,\n    log: checkLogLevel(level, LoggerLevels.LOG) ? console.log.bind(window['console'], getPrefix('l', category)) : noop,\n    debug: checkLogLevel(level, LoggerLevels.DEBUG) ? console.debug.bind(window['console'], getPrefix('d', category)) : noop,\n    warn: checkLogLevel(level, LoggerLevels.WARN) ? console.warn.bind(window['console'], getPrefix('w', category)) : noop,\n    error: checkLogLevel(level, LoggerLevels.ERROR) ? console.error.bind(window['console'], getPrefix('e', category)) : noop\n  }\n}\n\nexport function makeLogTimestamped(...args): string {\n  let message = `[${(new Date()).toISOString()}]`\n  args.forEach((arg) => {\n    message += ' ' + arg\n  })\n  return message\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/utils/logger.ts","/*\n\nCopyright (c) Stephan Hesse 2015 <tchakabam@gmail.com>\n\nThis library is free software; you can redistribute it and/or\nmodify it under the terms of the GNU Lesser General Public\nLicense as published by the Free Software Foundation; either\nversion 2.1 of the License, or (at your option) any later version.\n\nThis library is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\nLesser General Public License for more details.\n\n*/\n\nimport { LambdaProcessor } from './src/processors/lambda.processor';\n\nimport { MP3ParseProcessor } from './src/processors/mp3-parse.processor';\nimport { H264ParseProcessor } from './src/processors/h264-parse.processor';\nimport { FFmpegConvertProcessor } from './src/processors/ffmpeg-convert.processor';\n\nimport { MP4MuxProcessor } from './src/processors/mp4-mux-mozilla.processor';\nimport { MP4MuxHlsjsProcessor } from './src/processors/mp4-mux-hlsjs.processor';\nimport { MP4DemuxProcessor } from './src/processors/mp4-demux.processor';\nimport { MPEGTSDemuxProcessor } from './src/processors/mpeg-ts-demux.processor';\n\nimport { BroadwayProcessor } from './src/processors/broadway.processor';\n\nimport { HttpToMediaSourceFlow } from './src/flows/http-to-media-source.flow';\nimport { CombineMp4sToMovFlow } from './src/flows/combine-mp4s-to-mov.flow';\n\nimport * as Utils from './src/common-utils';\nimport * as Crypto from './src/common-crypto';\n\nimport { XhrSocket } from './src/io-sockets/xhr.socket';\n\n// TODO: use node-externals in webpack config\nimport { NodeFsWriteSocket } from './src/io-sockets/node-fs-write.socket';\nimport { NodeFsReadSocket } from './src/io-sockets/node-fs-read.socket';\n\nimport { Processor, ProcessorEvent } from './src/core/processor';\nimport { InputSocket, Socket, OutputSocket, SocketDescriptor, SocketEvent } from './src/core/socket';\nimport { Packet } from './src/core/packet';\nimport { BufferSlice } from './src/core/buffer';\nimport { BufferProperties } from './src/core/buffer-props';\nimport { CommonMimeTypes, MimetypePrefix, PayloadDescriptor, PayloadDetails } from './src/core/payload-description';\nimport { Signal } from './src/core/signal';\nimport { Flow, FlowErrorType, FlowEvent, FlowState } from './src/core/flow';\n\nimport { WebFileChooserSocket } from './src/io-sockets/web-file-chooser.socket';\nimport { HTML5MediaSourceBufferSocket } from './src/io-sockets/html5-media-source-buffer.socket';\nimport { WebFileDownloadSocket } from './src/io-sockets/web-file-download.socket';\n\nexport const Common = {\n  Utils,\n  Crypto,\n  MimeTypes: CommonMimeTypes,\n  MimetypePrefix\n};\n\nexport const Core = {\n  Processor,\n  ProcessorEvent,\n  Socket,\n  SocketEvent,\n  SocketDescriptor,\n  InputSocket,\n  OutputSocket,\n  Packet,\n  BufferSlice,\n  BufferProperties,\n  PayloadDescriptor,\n  PayloadDetails,\n  Signal,\n  Flow, FlowErrorType, FlowEvent, FlowState\n}\n\nexport const Processors = {\n  H264ParseProcessor,\n  MP3ParseProcessor,\n  MP4MuxProcessor,\n  MP4MuxHlsjsProcessor,\n  MP4DemuxProcessor,\n  MPEGTSDemuxProcessor,\n  BroadwayProcessor,\n  LambdaProcessor,\n  FFmpegConvertProcessor\n};\n\nexport const IoSockets = {\n  XhrSocket,\n  WebFileChooserSocket,\n  WebFileDownloadSocket,\n  HTML5MediaSourceBufferSocket,\n  // NodeFsReadSocket,\n  // NodeFsWriteSocket\n};\n\nexport const Flows = {\n  HttpToMediaSourceFlow,\n  CombineMp4sToMovFlow\n};\n\nexport { EnvironmentVars, setEnvironmentVar, getEnvironmentVar } from './src/core/env';\n\nexport {setLocalLoggerLevel, createAndGetLocalLoggerConfig as getLocalLoggerConfig, removeLocalLoggerConfig} from './src/logger';\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./index.ts","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 22\n// module chunks = 0","import { Processor } from '../core/processor';\nimport { Packet } from '../core/packet';\nimport { InputSocket, SocketDescriptor, SocketType } from '../core/socket';\n\nimport { CommonMimeTypes } from '../core/payload-description';\n\nimport { MP3Parser, MP3ParserResult } from './mp3/mp3-parser';\nimport { BufferSlice } from '../core/buffer';\nimport { getLogger, LoggerLevel } from '../logger';\nimport { MPEGAudioFrame } from './mp3/mpeg-audio-parser';\nimport { BufferProperties } from '../core/buffer-props';\n\nconst {log, debug, error} = getLogger('MP3ParseProcessor', LoggerLevel.LOG);\n\nexport class MP3ParseProcessor extends Processor {\n\n  static getName(): string { return 'MP3ParseProcessor' }\n\n  constructor () {\n    super();\n    this.createInput();\n    this.createOutput();\n  }\n\n  templateSocketDescriptor (st: SocketType): SocketDescriptor {\n    return new SocketDescriptor();\n  }\n\n  protected processTransfer_ (inS: InputSocket, p: Packet) {\n    p.forEachBufferSlice(\n      this._onBufferSlice,\n      this._onProcessingError,\n      this);\n\n    return true;\n  }\n\n  private _onProcessingError (bufferSlice: BufferSlice, err: Error) {\n    error('MP3Parse error:', err);\n\n    return true;\n  }\n\n  private _onBufferSlice (bufferSlice: BufferSlice) {\n    // log('onBufferSlice');\n\n    const res: MP3ParserResult = MP3Parser.parse(bufferSlice.getUint8Array());\n\n    log('parsed mp3 frames:', res.mp3Frames.length);\n\n    let timestamp = 0;\n\n    debug('parser result:', res);\n\n    res.mp3Frames.forEach((frame: MPEGAudioFrame) => {\n\n      const p: Packet = Packet.fromSlice(BufferSlice.fromTypedArray(frame.data), timestamp, 0);\n\n      const samplesPerFrame = frame.frameDuration / frame.sampleDuration;\n      const sampleRate = frame.headerRef.sampleRate;\n\n      const props = new BufferProperties(\n        CommonMimeTypes.AUDIO_MP3,\n        sampleRate,\n        16,\n        1,\n        samplesPerFrame, false, true);\n\n      props.codec = 'mp3a'; // .mp3?\n      props.details.samplesPerFrame = samplesPerFrame;\n      props.details.numChannels = frame.headerRef.channelCount;\n      props.details.constantBitrate = (8 * frame.data.byteLength) / (samplesPerFrame/sampleRate);\n\n      log('new mp3 frame props:', props.toString());\n\n      p.data[0].props = props;\n\n      timestamp += frame.frameDuration;\n\n      log('created new mp3 packet @:', p.timestamp)\n\n      this.out[0].transfer(p);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mp3-parse.processor.ts","import { Processor, ProcessorEvent } from '../core/processor';\nimport { Packet } from '../core/packet';\nimport { InputSocket, SocketDescriptor, SocketType } from '../core/socket';\n\nimport { BufferSlice } from '../core/buffer';\n\n/*\nimport { H264Reader } from '../ext-mod/inspector.js/src/demuxer/ts/payload/h264-reader';\nimport { BitReader } from '../ext-mod/inspector.js/src/utils/bit-reader';\n*/\n\nimport { H264Parser } from './h264/h264';\nimport { NALU } from './h264/nalu';\n\nimport { getLogger, LoggerLevel } from '../logger';\n\nconst {debug, log, warn, error} = getLogger('H264ParseProcessor', LoggerLevel.LOG);\n\nexport class H264ParseProcessor extends Processor {\n\n  static getName(): string { return 'H264ParseProcessor' }\n\n  // private h264Reader: H264Reader;\n\n  private h264Parser: H264Parser = new H264Parser();\n\n  constructor () {\n    super();\n\n    // this.on(ProcessorEvent.ANY_SOCKET_CREATED, () => {debugger});\n\n    this.createInput();\n    this.createOutput();\n  }\n\n  templateSocketDescriptor (st: SocketType): SocketDescriptor {\n    return new SocketDescriptor();\n  }\n\n  protected processTransfer_ (inS: InputSocket, p: Packet) {\n    p.forEachBufferSlice(\n      this._onBufferSlice.bind(this, p),\n      this._onProcessingError.bind(this),\n      this);\n\n    debug('transfer packet:', p.toString())\n\n    // NOTE: atm the h264 parser only \"inspects\" the data and then passes through each packet unmodified\n\n    this.out[0].transfer(\n      p\n      /*\n        Packet.fromSlice(\n          bufferSlice // naluSlice // <- that would \"unframe\" the NALU bytes, like this we just pass through after parsing\n        )\n        // */\n      // Packet.fromArrayBuffer()\n    );\n\n    return true;\n  }\n\n  private _onProcessingError (bufferSlice: BufferSlice, err: Error): boolean {\n    error('H264Parse error:', err);\n\n    return false;\n  }\n\n  private _onBufferSlice (p: Packet, bufferSlice: BufferSlice) {\n    const avcStream = bufferSlice.getUint8Array();\n    const avcView = bufferSlice.getDataView();\n\n    let length;\n\n    // console.log('got buffer of length:', avcStream.length)\n\n    for (let i = 0; i < avcStream.length; i += length) {\n      length = avcView.getUint32(i);\n\n      if (length > avcStream.length) {\n        warn('no NALUs found in this packet! Forwarding and ignoring:', p);\n        debug('transfer ignored packet:', p.toString())\n        // this.out[0].transfer(p);\n        break;\n      }\n\n      i += 4;\n\n      const naluSlice = bufferSlice.unwrap(i, length);\n      const naluBytes = naluSlice.getUint8Array();\n      const nalu = new NALU(naluBytes);\n\n      const type = nalu.type();\n\n      // console.log(naluBytes.byteLength)\n      // console.log(nalu.toString())\n\n      if (type === NALU.IDR || type === NALU.SPS || type === NALU.PPS) {\n        log(nalu.toString(), p.toString());\n      }\n\n      if (type === NALU.IDR) {\n        p.data[0].props = p.data[0].props.clone();\n        p.data[0].props.isKeyframe = true;\n      }\n\n      naluSlice.props.isKeyframe = (type === NALU.IDR);\n\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/h264-parse.processor.ts","import { Processor } from '../core/processor';\nimport { InputSocket, SocketType, SocketDescriptor } from '../core/socket';\nimport { Packet } from '../core/packet';\nimport { FFmpegTool, FFmpegConversionTargetInfo } from './ffmpeg/ffmpeg-tool';\nimport { BufferSlice } from '../core/buffer';\nimport { BufferProperties } from '../core/buffer-props';\n\ndeclare var ffmpeg: any;\n\nexport class FFmpegConvertProcessor extends Processor {\n\n  static getName(): string { return 'FFmpegConvertProcessor' }\n\n  private ffmpeg_: FFmpegTool = null;\n\n  constructor(\n    private _audioConfig: FFmpegConversionTargetInfo = null,\n    private _videoConfig: FFmpegConversionTargetInfo = null,\n    private _defaultInputFileExt: string = 'dat') {\n\n    super();\n\n    if (!_audioConfig && !_videoConfig) {\n      throw new Error('Need at least audio or video config');\n    }\n\n    if (!(self as any).ffmpeg) {\n      console.warn('`ffmpeg` not found in global scope');\n    } else {\n      // TODO: allow to set/init this in a deferred way and with deps-injection\n      this.ffmpeg_ = new FFmpegTool(ffmpeg);\n    }\n\n    this.createInput();\n    this.createOutput();\n  }\n\n  templateSocketDescriptor(socketType: SocketType) {\n    return new SocketDescriptor();\n  }\n\n  protected processTransfer_(inS: InputSocket, p: Packet, inputIndex: number): boolean {\n\n    let inputFileExt: string = p.defaultPayloadInfo.getMediaSubtype();\n    if (inputFileExt === '*') {\n      inputFileExt = this._defaultInputFileExt;\n    }\n\n    if (!this.ffmpeg_) {\n      throw new Error(`FFmpeg tool wrapper not initialized`);\n    }\n\n    p.forEachBufferSlice((bs) => {\n\n      const outData: Uint8Array = this.ffmpeg_.convertAVFile(\n        bs.getUint8Array(),\n        inputFileExt,\n        this._audioConfig,\n        this._videoConfig);\n\n      if (!outData) {\n        return;\n      }\n\n      let outputMimeType = null;\n      // TODO: improve the mapping here\n      if (this._videoConfig) {\n        outputMimeType = 'video/' + this._videoConfig.targetFiletypeExt;\n      } else if (this._audioConfig) {\n        outputMimeType = 'audio/' + this._audioConfig.targetFiletypeExt;\n      }\n\n      this.out[0].transfer(\n        Packet.fromSlice(BufferSlice.fromTypedArray(outData, new BufferProperties(outputMimeType)))\n      );\n    });\n\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/ffmpeg-convert.processor.ts","import { Processor, ProcessorEvent, ProcessorEventData } from '../core/processor';\nimport { Packet, PacketSymbol } from '../core/packet';\nimport { InputSocket, SocketDescriptor, SocketType, SocketTemplateGenerator } from '../core/socket';\n\n// This version of our mp4-mux processor is based on the mozilla rtmpjs code\nimport {\n  MP4Mux,\n  MP4Track,\n  MP4Metadata,\n  MP4MuxPacketType,\n  MP3_SOUND_CODEC_ID,\n  AAC_SOUND_CODEC_ID,\n  AVC_VIDEO_CODEC_ID,\n  VP6_VIDEO_CODEC_ID,\n  AAC_SAMPLES_PER_FRAME\n} from './mozilla-rtmpjs/mp4mux';\n\nimport { isNumber } from '../common-utils';\nimport { getLogger, LoggerLevel } from '../logger';\n\nconst { log, debug, warn } = getLogger('MP4MuxProcessor(Moz)', LoggerLevel.LOG);\n\nfunction getCodecId (codec: MP4MuxProcessorSupportedCodecs): number {\n  switch (codec) {\n  case MP4MuxProcessorSupportedCodecs.AAC:\n    return AAC_SOUND_CODEC_ID;\n  case MP4MuxProcessorSupportedCodecs.MP3:\n    return MP3_SOUND_CODEC_ID;\n  case MP4MuxProcessorSupportedCodecs.AVC:\n    return AVC_VIDEO_CODEC_ID;\n  case MP4MuxProcessorSupportedCodecs.VP6:\n    return VP6_VIDEO_CODEC_ID;\n  }\n}\n\nfunction isVideoCodec (codec: MP4MuxProcessorSupportedCodecs): boolean {\n  switch (codec) {\n  case MP4MuxProcessorSupportedCodecs.AAC:\n  case MP4MuxProcessorSupportedCodecs.MP3:\n    return false;\n  case MP4MuxProcessorSupportedCodecs.AVC:\n  case MP4MuxProcessorSupportedCodecs.VP6:\n    return true;\n  }\n}\n\nconst getSocketDescriptor: SocketTemplateGenerator =\n  SocketDescriptor.createTemplateGenerator(\n      SocketDescriptor.fromMimeTypes('audio/mpeg', 'audio/aac', 'video/aac'), // valid inputs\n      SocketDescriptor.fromMimeTypes('audio/mp4', 'video/mp4')); // possible output\n\nexport enum MP4MuxProcessorSupportedCodecs {\n  AVC = 'avc',\n  AAC = 'mp4a',\n  MP3 = 'mp3',\n  VP6 = 'vp6f'\n}\n\nconst FORCE_MP3 = false;\n\nexport class MP4MuxProcessor extends Processor {\n\n  static getName(): string { return 'MP4MuxProcessor' }\n\n  private hasBeenClosed_: boolean = false;\n  private mp4Muxer_: MP4Mux = null;\n  private mp4Metadata_: MP4Metadata = null;\n  private keyFramePushed_: boolean = false;\n  private lastCodecInfo_: string[] = [];\n  private flushCounter_: number = 0;\n\n  private videoPacketQueue_: Packet[] = [];\n  private audioPacketQueue_: Packet[] = [];\n  private socketToTrackIndexMap_: {[i: number]: number} = {};\n  // this simpler approach will restrict us to have only one audio and one video track for now\n  private videoTrackIndex_: number;\n  private audioTrackIndex_: number;\n\n  constructor () {\n    super();\n\n    this.createOutput();\n\n    this._initMP4Metadata();\n\n    this.on(ProcessorEvent.INPUT_SOCKET_CREATED,\n      (eventData: ProcessorEventData) => this._onInputCreated(eventData));\n  }\n\n  templateSocketDescriptor (st: SocketType): SocketDescriptor {\n    return getSocketDescriptor(st)\n  }\n\n  protected processTransfer_ (inputSocket: InputSocket, p: Packet, inputIndex: number): boolean {\n\n    debug(`received packet: ${p.toString()}; on input: ${inputIndex}`);\n\n    if (!p.defaultPayloadInfo) {\n      warn('no default payload info:', p);\n      return false;\n    }\n\n    if (p.defaultPayloadInfo.isAudio()) {\n\n      this.audioPacketQueue_.push(p);\n\n      if (this.mp4Metadata_.tracks[this.socketToTrackIndexMap_[inputIndex]]) {\n        return true;\n      }\n\n      this.audioTrackIndex_\n        = this.socketToTrackIndexMap_[inputIndex]\n          = this.mp4Metadata_.tracks.length;\n\n      // FIXME: get actual infos here from input packets\n      this._addAudioTrack(\n        FORCE_MP3 ? MP4MuxProcessorSupportedCodecs.MP3 : MP4MuxProcessorSupportedCodecs.AAC,\n        p.defaultPayloadInfo.getSamplingRate(),\n        p.defaultPayloadInfo.sampleDepth,\n        p.defaultPayloadInfo.details.numChannels,\n        p.defaultPayloadInfo.details.sequenceDurationInSeconds\n      );\n\n      return true;\n    } else if (p.defaultPayloadInfo.isVideo()) {\n\n      this.videoPacketQueue_.push(p);\n\n      if (this.mp4Metadata_.tracks[this.socketToTrackIndexMap_[inputIndex]]) {\n        return true;\n      }\n\n      this.videoTrackIndex_\n        = this.socketToTrackIndexMap_[inputIndex]\n          = this.mp4Metadata_.tracks.length;\n\n      this._addVideoTrack(\n        MP4MuxProcessorSupportedCodecs.AVC,\n        // FIXME: get actual infos here from input packets\n        p.defaultPayloadInfo.getSamplingRate(), // fps\n        p.defaultPayloadInfo.details.width,\n        p.defaultPayloadInfo.details.height, // resolution\n        p.defaultPayloadInfo.details.sequenceDurationInSeconds\n      );\n\n      return true;\n    }\n\n    return true;\n  }\n\n  protected handleSymbolicPacket_ (symbol: PacketSymbol): boolean {\n    switch (symbol) {\n    case PacketSymbol.RESUME:\n      log('resume symbol received, closing state');\n      this._close();\n      break;\n    case PacketSymbol.EOS:\n      this.flushCounter_++;\n      if (this.flushCounter_ !== this.in.length) {\n        break;\n      }\n\n      log('received EOS symbols count equal to inputs width, flushing');\n      this._flush();\n      this.flushCounter_ = 0;\n    default:\n      break;\n    }\n\n    return super.handleSymbolicPacket_(symbol);\n  }\n\n  private _processVideoPacket(p: Packet) {\n\n    const videoTrackMetadata = this.mp4Metadata_.tracks[this.videoTrackIndex_];\n    const timescale = videoTrackMetadata.timescale;\n\n    p.forEachBufferSlice((bufferSlice) => {\n      const mp4Muxer = this.mp4Muxer_;\n      const data = bufferSlice.getUint8Array();\n\n      if (bufferSlice.props.isBitstreamHeader) {\n        log('got bitstream header at:', p.toString())\n      } else {\n        debug('video packet:', p.toString());\n      }\n\n      if(bufferSlice.props.isKeyframe) {\n        log('got keyframe at:', p.toString())\n      }\n\n      mp4Muxer.pushPacket(\n        MP4MuxPacketType.VIDEO_PACKET,\n        AVC_VIDEO_CODEC_ID,\n        data,\n        p.getScaledDts(timescale),\n        true,\n        bufferSlice.props.isBitstreamHeader,\n        bufferSlice.props.isKeyframe,\n        p.getScaledCto(timescale)\n      );\n\n      if (!this.keyFramePushed_ &&\n        bufferSlice.props.isKeyframe) {\n        this.keyFramePushed_ = true;\n      }\n    });\n  }\n\n  private _processAudioPacket(p: Packet) {\n\n    const audioTrackMetadata = this.mp4Metadata_.tracks[this.audioTrackIndex_];\n    const timescale = audioTrackMetadata.timescale;\n\n    const audioDetails = {\n      sampleDepth: audioTrackMetadata.samplesize,\n      sampleRate: audioTrackMetadata.samplerate,\n      samplesPerFrame: AAC_SAMPLES_PER_FRAME,\n      numChannels: audioTrackMetadata.channels\n    };\n\n    p.forEachBufferSlice((bufferSlice) => {\n      const mp4Muxer = this.mp4Muxer_;\n      const data = bufferSlice.getUint8Array();\n\n      if (bufferSlice.props.isBitstreamHeader) {\n        log('got audio codec init data');\n      }\n\n      debug('audio packet:', p.toString());\n\n      mp4Muxer.pushPacket(\n        MP4MuxPacketType.AUDIO_PACKET,\n        FORCE_MP3 ? MP3_SOUND_CODEC_ID : AAC_SOUND_CODEC_ID,\n        data,\n        p.getScaledDts(timescale),\n        true,\n        bufferSlice.props.isBitstreamHeader,\n        bufferSlice.props.isKeyframe,\n        p.getScaledCto(timescale),\n        audioDetails\n      );\n\n      if (!this.keyFramePushed_ &&\n        bufferSlice.props.isKeyframe) {\n        this.keyFramePushed_ = true;\n      }\n    });\n  }\n\n  private _onInputCreated(eventData: ProcessorEventData) {\n    log('input socket created');\n  }\n\n  private _initMP4Metadata () {\n    this.mp4Metadata_ = {\n      tracks: [],\n      duration: 0,\n      audioTrackId: NaN,\n      videoTrackId: NaN\n    };\n  }\n\n  private _initMuxer () {\n    log('initMuxer() called with mp4 metadata model:', this.mp4Metadata_);\n\n    const mp4Muxer = this.mp4Muxer_ = new MP4Mux(this.mp4Metadata_, false);\n\n    mp4Muxer.ondata = this.onMp4MuxerData_.bind(this);\n    mp4Muxer.oncodecinfo = this.onMp4MuxerCodecInfo_.bind(this);\n\n    this.hasBeenClosed_ = true;\n  }\n\n  private _getNextTrackId (): number {\n    return (this.mp4Metadata_.tracks.length + 1);\n  }\n\n  private _close () {\n    log('closing state');\n    if (!this.hasBeenClosed_) {\n      this._initMuxer();\n    }\n\n    log('processing video packet queue', this.videoPacketQueue_);\n\n    this.videoPacketQueue_.forEach((packet: Packet) => {\n      this._processVideoPacket(packet);\n    });\n    this.videoPacketQueue_ = [];\n\n    this.audioPacketQueue_.forEach((packet: Packet) => {\n      this._processAudioPacket(packet);\n    });\n    this.audioPacketQueue_ = [];\n  }\n\n  private _flush () {\n    log('flush called');\n    this._close();\n    log('will flush internal muxer engine');\n    this.mp4Muxer_.flush();\n  }\n\n  private _addAudioTrack (\n    audioCodec: MP4MuxProcessorSupportedCodecs,\n    sampleRate: number, sampleSize: number,\n    numChannels: number,\n    durationSeconds: number,\n    language: string = 'und'): MP4Track {\n\n    if (isVideoCodec(audioCodec)) {\n      throw new Error('Not an audio codec: ' + audioCodec);\n    }\n\n    let audioTrack: MP4Track = {\n      duration: durationSeconds >= 0 ? durationSeconds * sampleRate : -1,\n      codecDescription: audioCodec,\n      codecId: getCodecId(audioCodec),\n      language,\n      timescale: sampleRate,\n      samplerate: sampleRate,\n      channels: numChannels,\n      samplesize: sampleSize\n    };\n\n    log('creating audio track:', audioCodec)\n\n    this.mp4Metadata_.audioTrackId = this._getNextTrackId();\n    this.mp4Metadata_.tracks.push(audioTrack);\n\n    return audioTrack;\n  }\n\n  private _addVideoTrack (\n    videoCodec: MP4MuxProcessorSupportedCodecs,\n    frameRate: number,\n    width: number,\n    height: number,\n    durationSeconds: number\n    ): MP4Track {\n\n    if (!isVideoCodec(videoCodec)) {\n      throw new Error('Not a video codec: ' + videoCodec);\n    }\n\n    let videoTrack: MP4Track = {\n      duration: durationSeconds >= 0 ? durationSeconds * frameRate : -1,\n      codecDescription: videoCodec,\n      codecId: getCodecId(videoCodec),\n      timescale: frameRate,\n      framerate: frameRate,\n      width,\n      height,\n      language: 'und'\n    };\n\n    log('creating video track:', videoCodec)\n\n    this.mp4Metadata_.videoTrackId = this._getNextTrackId();\n    this.mp4Metadata_.tracks.push(videoTrack);\n\n    if (!isNumber(this.mp4Metadata_.duration) && isNumber(videoTrack.duration)) {\n      this.mp4Metadata_.duration = videoTrack.duration;\n      log('set top-level metadata duration based on video-track:', this.mp4Metadata_.duration);\n    }\n\n    return videoTrack;\n  }\n\n  private onMp4MuxerData_ (data: Uint8Array) {\n    const p: Packet = Packet.fromArrayBuffer(data.buffer, 'video/mp4; codecs=\"avc1.64001f,mp4a.40.2\"');\n\n    log('transferring new mp4 data:', p);\n\n    this.out[0].transfer(p);\n  }\n\n  private onMp4MuxerCodecInfo_ (codecInfo: string[]) {\n    log('got new codec info:', codecInfo);\n\n    this.lastCodecInfo_ = codecInfo;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mp4-mux-mozilla.processor.ts","import { Processor } from '../core/processor';\nimport { Packet, PacketSymbol } from '../core/packet';\nimport { InputSocket, SocketDescriptor, SocketType, OutputSocket, SocketTemplateGenerator } from '../core/socket';\n\nimport { getLogger, LoggerLevel } from '../logger';\n\nimport { createMp4Demuxer, Mp4Demuxer, Track, Frame, TracksHash, Atom } from '../ext-mod/inspector.js/src';\nimport { Mp4Track } from '../ext-mod/inspector.js/src/demuxer/mp4/mp4-track';\nimport { AvcC } from '../ext-mod/inspector.js/src/demuxer/mp4/atoms/avcC';\nimport { Esds } from '../ext-mod/inspector.js/src/demuxer/mp4/atoms/esds';\nimport { AudioAtom } from '../ext-mod/inspector.js/src/demuxer/mp4/atoms/helpers/audio-atom';\nimport { VideoAtom } from '../ext-mod/inspector.js/src/demuxer/mp4/atoms/helpers/video-atom';\n\nimport { PayloadDescriptor } from '../core/payload-description';\nimport { BufferSlice } from '../core/buffer';\nimport { BufferProperties } from '../core/buffer-props';\n\nconst { log, warn, debug } = getLogger('MP4DemuxProcessor', LoggerLevel.LOG);\n\nexport const AUDIO_SAMPLING_RATES_LUT = [5500, 11025, 22050, 44100];\nexport const AAC_SAMPLES_PER_FRAME = 1024;\n\nconst getSocketDescriptor: SocketTemplateGenerator =\n  SocketDescriptor.createTemplateGenerator(\n      SocketDescriptor.fromMimeTypes('audio/mp4', 'video/mp4'), // valid inputs\n      SocketDescriptor.fromMimeTypes('audio/mpeg', 'audio/aac', 'video/aac') // output\n      );\n\nexport class MP4DemuxProcessor extends Processor {\n\n    static getName(): string { return 'MP4DemuxProcessor' }\n\n    private _demuxer: Mp4Demuxer;\n\n    private _trackIdToOutputs: { [id: number]: OutputSocket} = {};\n\n    constructor () {\n      super();\n      this.createInput();\n\n      this._demuxer = createMp4Demuxer();\n    }\n\n    templateSocketDescriptor (st: SocketType): SocketDescriptor {\n      return getSocketDescriptor(st);\n    }\n\n    private _ensureOutputForTrack (track: Track): OutputSocket {\n      const payloadDescriptor = new PayloadDescriptor(track.mimeType);\n      const sd = new SocketDescriptor([\n        payloadDescriptor\n      ]);\n\n      if (!this._trackIdToOutputs[track.id]) {\n        this._trackIdToOutputs[track.id] = this.createOutput(sd);\n      }\n\n      return this._trackIdToOutputs[track.id];\n    }\n\n    protected handleSymbolicPacket_(s: PacketSymbol) {\n      log('handling symbol:', s)\n      return super.handleSymbolicPacket_(s);\n    }\n\n    protected processTransfer_ (inS: InputSocket, p: Packet) {\n\n      p.data.forEach((bufferSlice) => {\n\n        this._demuxer.append(bufferSlice.getUint8Array());\n        this._demuxer.end();\n\n        const tracks: TracksHash = this._demuxer.tracks;\n\n        // tslint:disable-next-line: forin\n        for (const trackId in tracks) {\n\n          const track: Mp4Track = <Mp4Track> tracks[trackId];\n\n          log(\n            'mime-type:', track.mimeType,\n            'id:', track.id,\n            'duration:', track.getDuration(),\n            'type:', track.type,\n            'timescale:', track.getTimescale());\n\n          if (track.isVideo()) {\n            log('video-track:', track.getResolution());\n          }\n\n          log('defaults:', track.getDefaults());\n\n          if (!track.getDefaults()) {\n            warn('no track defaults');\n          }\n\n          const output: OutputSocket = this._ensureOutputForTrack(track);\n\n          // let frameRate: number = NaN; // add a Mp4Track property for this and extract inside inspector.js\n          let sampleDepth: number = NaN;\n          let sampleRate: number = NaN;\n          let sampleDurationNum: number = 1;\n          let numChannels: number = NaN;\n          let samplesCount: number = 1;\n          let constantBitrate: number = NaN;\n          let codecData: Uint8Array = null;\n\n          if (track.type === Mp4Track.TYPE_VIDEO) {\n\n            const videoAtom = <VideoAtom> track.getMetadataAtom();\n            // FIXME: support HEVC too\n            const avcC = (<AvcC> track.getReferenceAtom());\n            if (!avcC) {\n              warn('no codec data found for video track with id:', track.id);\n              continue;\n            }\n\n            const avcCodecData = avcC.data;\n            const spsParsed = avcC.spsParsed[0];\n\n            sampleRate = spsParsed.frameRate.fpsNum;\n            sampleDurationNum = spsParsed.frameRate.fpsDen;\n            sampleDepth = spsParsed.bitDepth;\n\n            if (avcC.numOfSequenceParameterSets > 1) {\n              warn('more than one SPS found, but only handling one here');\n            }\n\n            if (avcC.numOfPictureParameterSets > 1 || avcC.numOfSequenceParameterSets > 1) {\n              throw new Error('No support for more than one sps/pps pair');\n            }\n\n            codecData = avcCodecData;\n\n            /*\n            const sps: Uint8Array[] = avcC.sps;\n            const pps: Uint8Array[] = avcC.pps;\n            console.log('pushing SPS data')\n            output.transfer(Packet.fromSlice(BufferSlice.fromTypedArray(sps[0], initProps)));\n            console.log('pushing PPS data')\n            output.transfer(Packet.fromSlice(BufferSlice.fromTypedArray(pps[0], initProps)));\n            */\n\n          } else if (track.type === Mp4Track.TYPE_AUDIO) {\n\n            const audioAtom = <AudioAtom> track.getMetadataAtom();\n            sampleDepth = audioAtom.sampleSize;\n            numChannels = audioAtom.channelCount;\n            sampleRate = audioAtom.sampleRate;\n\n            log('channels:', numChannels, 'sample-rate:', sampleRate, 'sample-depth:', sampleDepth);\n\n            // FIXME: support MP3 too (this is for AAC only)\n            const esds = (<Esds> track.getReferenceAtom());\n            if (!esds) {\n              warn('no codec data found for audio track with id:', track.id);\n              continue;\n            }\n\n            const audioDecoderConfig = esds.decoderConfig;\n            log('found ESDS/AAC decoder config:', audioDecoderConfig);\n\n            constantBitrate = audioDecoderConfig.avgBitrate;\n\n            log('cbr:', constantBitrate,'b/s')\n            log('flagged ESDS-atom-data packet as bitstream header')\n\n            const esdsData = esds.data;\n            codecData = esdsData;\n          }\n\n          let sampleDuration = track.getDefaults() ? track.getDefaults().sampleDuration : 1;\n\n          log('sample-duration found:', sampleDuration)\n\n          const protoProps: BufferProperties = new BufferProperties(\n            track.mimeType,\n            sampleRate,\n            sampleDepth,\n            sampleDurationNum,\n            samplesCount\n          );\n\n          protoProps.details.sequenceDurationInSeconds = track.getDurationInSeconds();\n\n          if (track.isVideo()) {\n            protoProps.details.width = track.getResolution()[0];\n            protoProps.details.height = track.getResolution()[1];\n            protoProps.details.samplesPerFrame = 1;\n            protoProps.codec = 'avc';\n          } else if (track.isAudio()) {\n            protoProps.details.numChannels = numChannels;\n            protoProps.details.constantBitrate = constantBitrate;\n            protoProps.details.samplesPerFrame = AAC_SAMPLES_PER_FRAME;\n            protoProps.codec = 'aac';\n          }\n\n          if (codecData) {\n            const initProps: BufferProperties = protoProps.clone();\n            initProps.isBitstreamHeader = true;\n            log('created/transferring codec data packet; flagged bitstream header')\n            output.transfer(Packet.fromSlice(BufferSlice.fromTypedArray(codecData, initProps)));\n          }\n\n          track.getFrames().forEach((frame: Frame) => {\n\n            let props = protoProps;\n\n            if (frame.frameType === Frame.IDR_FRAME) {\n              log('got idr-frame at:', frame.timeUs, '[us]')\n              props = protoProps.clone();\n              props.isKeyframe = true;\n            }\n\n            const frameSlice = bufferSlice.unwrap(\n              frame.bytesOffset,\n              frame.size,\n              props\n            );\n\n            const p: Packet = Packet.fromSlice(frameSlice);\n\n            // timestamps of this packet\n            p.timestamp = frame.scaledDecodingTime;\n            p.presentationTimeOffset = frame.scaledPresentationTimeOffset;\n            p.setTimescale(frame.timescale);\n\n            // log('timescale:', frame.timescale)\n\n            debug('pushing packet with:', frameSlice.toString());\n\n            output.transfer(p);\n          });\n        }\n      });\n\n      return true;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mp4-demux.processor.ts","import ByteParserUtils from '../../../../utils/byte-parser-utils';\nimport { Atom, ContainerAtom } from '../atom';\n\nexport class VideoAtom extends ContainerAtom {\n    public dataReferenceIndex: number;\n    public temporalQuality: number;\n    public spatialQuality: number;\n    public width: number;\n    public height: number;\n    public horizontalResolution: number;\n    public verticalResolution: number;\n    public compressorName: string;\n    public frameCount: number;\n    public depth: number;\n\n    protected static fillVideoAtom(atom: VideoAtom, data: Uint8Array): Atom {\n        atom.containerDataOffset = 78;\n        atom.dataReferenceIndex = ByteParserUtils.parseUint16(data, 6);\n        atom.temporalQuality = ByteParserUtils.parseUint32(data, 16);\n        atom.spatialQuality = ByteParserUtils.parseUint32(data, 20);\n        atom.width = ByteParserUtils.parseUint16(data, 24);\n        atom.height = ByteParserUtils.parseUint16(data, 26);\n        atom.horizontalResolution = ByteParserUtils.parseUint16(data, 28) +\n            ByteParserUtils.parseUint16(data, 30) / 16;\n        atom.verticalResolution = ByteParserUtils.parseUint16(data, 32) +\n            ByteParserUtils.parseUint16(data, 34) / 16;\n        atom.frameCount = ByteParserUtils.parseUint16(data, 40);\n        atom.compressorName = ByteParserUtils.parseStringWithLength(data, 42, 74);\n        atom.depth = ByteParserUtils.parseUint16(data, 74);\n        return atom;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/helpers/video-atom.ts","import { Processor } from '../core/processor';\n\nimport { SocketDescriptor, SocketType, InputSocket, OutputSocket, SocketTemplateGenerator } from '../core/socket';\nimport { Packet } from '../core/packet';\n\nimport { getLogger } from '../logger';\nimport { PayloadDescriptor, PayloadCodec } from '../core/payload-description';\n\nconst { log } = getLogger('MPEGTSDemuxProcessor');\n\nconst getSocketDescriptor: SocketTemplateGenerator =\n  SocketDescriptor.createTemplateGenerator(\n      SocketDescriptor.fromMimeTypes('video/mp2t'), // valid inputs\n      SocketDescriptor.fromMimeTypes('audio/mpeg', 'audio/aac', 'video/aac', 'application/cea-608') // output\n      );\n\nexport class MPEGTSDemuxProcessor extends Processor {\n\n  static getName(): string { return 'MPEGTSDemuxProcessor' }\n\n  private _programMap: {[pid: number]: OutputSocket} = {};\n  private _haveAudio: boolean = false;\n  private _haveVideo: boolean = false;\n\n  constructor () {\n    super();\n    this.createInput();\n  }\n\n  templateSocketDescriptor (socketType: SocketType): SocketDescriptor {\n    return getSocketDescriptor(socketType);\n  }\n\n  protected onTaskWorkerMessage (event: Event) {\n\n    const p = Packet.fromTransferable((event as any).data.packet);\n\n    if (p.isSymbolic()) {\n      this.out.forEach((os) => os.transfer(p));\n      return;\n    }\n\n    this._processDemuxerOutputPacket(p);\n\n  }\n\n  private _processDemuxerOutputPacket(p: Packet) {\n\n    const bs = p.data[0];\n\n    if (!this._haveVideo && PayloadCodec.isAvc(bs.props.codec)) {\n      this._haveVideo = true;\n    } else if (!this._haveAudio && PayloadCodec.isAac(bs.props.codec)) {\n      this._haveAudio = true;\n    }\n\n    // set mpeg-ts timescale of 90000khz\n    p.setTimescale(90000);\n\n    this._getOutputForPayload(bs.props).transfer(p);\n  }\n\n  private _getOutputForPayload(payloadDescriptor: PayloadDescriptor): OutputSocket {\n    const pid = payloadDescriptor.elementaryStreamId;\n    if (this._programMap[pid]) {\n      return this._programMap[pid];\n    }\n    log('creating new output for stream-id (PID):', pid, 'with codec:', payloadDescriptor.codec);\n    const s = this._programMap[pid] = this.createOutput(new SocketDescriptor([payloadDescriptor]));\n    return s;\n  }\n\n  protected processTransfer_ (inS: InputSocket, p: Packet) {\n\n    this.dispatchTask('tsdemuxer', p);\n\n    return true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mpeg-ts-demux.processor.ts","import { InputSocket, SocketDescriptor, SocketEvent } from '../core/socket';\n\nimport { Packet } from '../core/packet';\nimport { concatArrayBuffers, makeTemplate } from '../common-utils';\nimport { UNKNOWN_MIMETYPE } from '../core/payload-description';\nimport { getLogger } from '../logger';\n\nimport * as FileSaver from 'file-saver';\n\nexport const DEFAULT_FILENAME_TEMPLATE = makeTemplate('buffer${counter}-${Date.now()}.data');\nexport const DEFAULT_HTML_TEMPLATE = makeTemplate('<p>Download ${filename}</p>');\n\nconst {log, debug} = getLogger('WebFileDownloadSocket');\n\nexport class WebFileDownloadSocket extends InputSocket {\n\n  private _accuBuffer: ArrayBuffer = null;\n  private _bufferDownloadCnt = 0;\n\n  /**\n   *\n   * @param _downloadLinkContainer an HTML element to create a link in with the given templates or `null` and then FileSaver will spawn a dialog @see https://github.com/eligrey/FileSaver.js\n   * @param _fileNameTemplate can contain the local var `counter` as well as access public and private members via `this`, see default\n   * @param _htmlTemplate can contain the local var `filename` which will be whatever the respective template string has eval'd to, see default\n   * @param _mimeType mime-type string for the blob object to be created (this sometimes matters for platforms to understand what file-type it is), @see https://developer.mozilla.org/en-US/docs/Web/API/Blob\n   * @param _fallbackToSaveAs when no downloadLinkContainer set, we can call the `saveAs` function to trigger a download dialog (if running in a web-like window context)\n   */\n  constructor (private _downloadLinkContainer: HTMLElement | null,\n    private _mimeType: string = UNKNOWN_MIMETYPE, // FIXME: this can be a default when packet has no mime-type but we should read the mime-type from the defaultPayload info of the packet\n    private _fileNameTemplate: string = DEFAULT_FILENAME_TEMPLATE,\n    private _htmlTemplate = DEFAULT_HTML_TEMPLATE,\n    private _fallbackToSaveAs: boolean = true) {\n\n    super((p: Packet) => this._onPacketReceived(p), new SocketDescriptor());\n\n    /// *\n    this.on(SocketEvent.DATA_PACKET_RECEIVED, () => {\n      console.warn('data packet received event', this)\n    })\n    // */\n  }\n\n  private _onPacketReceived(p: Packet): boolean {\n\n    debug('received:', p.toString(), 'total bytes:', p.getTotalBytes());\n\n    p.forEachBufferSlice((bs) => {\n\n      debug('accumulating slice data', bs.size());\n\n      this._accuBuffer = concatArrayBuffers(this._accuBuffer, bs.newArrayBuffer());\n\n      const blob = new Blob([this._accuBuffer], { type: this._mimeType });\n      const objectUrl = URL.createObjectURL(blob);\n\n      // local template eval vars\n      const counter = this._bufferDownloadCnt++;\n      // tslint:disable-next-line: no-eval\n      const filename = eval(this._fileNameTemplate);\n\n      if (!this._downloadLinkContainer && this._fallbackToSaveAs) {\n\n        log('invoking save-as function with blob/filename', blob, filename)\n\n        FileSaver.saveAs(blob, filename);\n\n      } else {\n\n        const link = document.createElement('a');\n        link.href = objectUrl;\n        link.download = filename;\n        // tslint:disable-next-line: no-eval\n        link.innerHTML = eval(this._htmlTemplate);\n        this._downloadLinkContainer.appendChild(link);\n\n      }\n    });\n\n    return true;\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/io-sockets/web-file-download.socket.ts","import { Processor } from './processor';\nimport { Processors } from '../../index';\nimport { ProcessorProxy } from './processor-proxy';\nimport { VoidCallback } from '../common-types';\nimport { noop } from '../common-utils';\n\n/*\nexport abstract class FactorizableProcessor extends Processor {\n  private constructor() {\n    super() // TODO: have protected signal handler setter\n  }\n\n  static create(): FactorizableProcessor {\n    const name = this.getName();\n    return new Processors[name]();\n  }\n}\n*/\n\n/*\nexport class FactorizableProcessorImpl extends FactorizableProcessor {\n\n  get name() { return null; }\n\n  protected processTransfer_(inS: import(\"/Users/stephan/Code/emliri/es-libs/multimedia.js/src/core/socket\").InputSocket, p: import(\"/Users/stephan/Code/emliri/es-libs/multimedia.js/src/core/packet\").Packet, inputIndex: number): boolean {\n    throw new Error(\"Method not implemented.\");\n  }\n}\n\nexport interface FactorizableProcessorImpl extends FactorizableProcessor {\n\n}\n*/\n\nexport function getProcessorConstructorByName(factoryName: string): typeof Processor {\n  return Processors[factoryName];\n}\n\nexport function createProcessorFromConstructor(ProcessorConstructor: typeof Processor, args: any[] = []): Processor {\n  return new (<any> ProcessorConstructor)(...args);\n}\n\nexport function createProcessorFromShellName(factoryName: string, args?: any[]): Processor {\n  return createProcessorFromConstructor(getProcessorConstructorByName(factoryName), args);\n}\n\nexport function newProcessorWorkerShell(\n  procConstructor: typeof Processor,\n  args?: any[],\n  importScriptPaths?: string[],\n  onReady: VoidCallback = noop): ProcessorProxy {\n\n  const name = procConstructor.getName();\n  if (!name) {\n    throw new Error('Can not use factory, static name is not defined');\n  }\n  return new ProcessorProxy(name, onReady, args, importScriptPaths);\n};\n\nexport const newProc = newProcessorWorkerShell; // shorthand\n\nexport function createProcessorWorkerShellAsync(factoryName: string, args: any[] = [], timeoutMs: number = 1000): Promise<ProcessorProxy> {\n  return new Promise<ProcessorProxy>((resolve, reject) => {\n    const proc = new ProcessorProxy(factoryName, () => {\n      const timeout = setTimeout(() => {\n        reject(new Error('Timeout creating processor proxy'));\n      }, timeoutMs)\n      clearTimeout(timeout);\n      resolve(proc);\n    }, args);\n  });\n}\n\nexport function checkProcessorType(procType: any) {\n  return typeof procType.getName === 'function' && procType.getName() !== null\n};\n\nexport function unsafeProcessorType(procType: any) {\n  return <typeof Processor> procType;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/processor-factory.ts","/**\n * @module\n *\n * Signals allow us to implement an asynchroneous chain-of-resp pattern\n * along the data-path. This should allow to \"cast\" queries or an acknowledgable information\n * to components up or down the path. The direction of propagation has to be chosen when creating a signal.\n *\n * Signals can be emitted to a group of SignalReceivers. The receivers return a Promise<boolean> which can\n * be resolved or rejected asynchroneously (but must not). A receiver MUST resolve or reject the promise,\n * and also return some valid Promise in the first place (the return value is not nullable).\n *\n * See the SignalReceiver interface and `cast` method.\n *\n * Delegation within receiver implementation can be eased using the SignalHandler type.\n *\n * When casting one signal to many receivers (using the `emit` method) the results of all `cast`\n * calls, the Promise<boolean> aka SignalReceiverCastResult, are collected as an array of results.\n * The results are collected and resolved as all Promises of the receiver group are resolved,\n * and applied an OR logic, meaning if one of the receivers result Promise resolved true, then\n * the result of that cast call will be true. In any other case it will be false.\n *\n * In order to handle failures of components not resolving/rejecting Promises at all,\n * either the components implementing SignalReceiver can wrap their Promise with a timeout,\n * so that they will get automatically rejected. Alternatively, a Signal can be subclassed\n * so that it's emit method, and the subsequent result collector method incorporate such a timeout,\n * and then only aggregate the Promises which have rejected/resolved within that time.\n *\n * The fact a Promise can be resolved/rejected and the result flag (boolean) on the Promise template type\n * allow for exactly four possible \"characters\" of results to a `cast` call on a receiver. As we will see,\n * this collapses to three effective cases that are meaningful to implement.\n *\n * The idea of a Signal usually is to be able to query something from components within a hiearchical chain,\n * or graph, while trying to make sure that some component in the chain will be able to handle the query\n * or acknowledge the information. When a the result promise gets rejected, we assume that no component CANT\n * handle the signal. When it get's resolved, the respective receiver is assumed that it CAN handle it.\n *\n * Only in the resolve case, the result value (boolean) is actually useful. It indicates, given that\n * a component can handle the signal, wether it actually will do that. This is useful if upon emitting a Signal\n * we want to establish wether for example a resource driver that might respond to the signal \"could\" actually\n * handle it but is currently busy (result is \"false\") or wether the resource is not capable or inexistent.\n *\n * For example think of a RTSP receiver that is asked to seek to a position, and is sent a relevant Signal.\n * Of course it will resolve the Promise because it CAN do that in principle. Let's say the receiver just lost\n * it's connection to the server and is unable to re-establish that after several retries. Eventually it will\n * resolve the Promise with `false`.\n *\n * Wether the Signal class itself is actually used as such is completely up the implementation\n * of the SignalReceiver. The class here only defines how the interface is, its async-ness, how the receiver\n * is being called, and how its results are collected and aggregated.\n *\n * The chain-of-resp is in the end formed from the receivers themselves encapsulating references or some sort\n * of loose coupling to each others that defines their hiearchy or graph relationships.\n *\n * When Signal.emit is called, the signal only can know about the first direct group of receivers which\n * are all on the same level.\n *\n * Alike, the cast result does not give any information as to which component(s) have actually resolved\n * the Promise (the results get collected and aggregated anyway). Also note that in principle many\n * components can resolve positively/negatively within one call. Signals are, by default, not a \"race\",\n * they ideally let every receiver an equal chance (a given timeout for example). However, it is not impossible\n * to implement Signal subclasses which will decide to actually race receivers against each others\n * (and receivers may encapsulate each others in such way when handling signals, or having several internal\n * signal handlers racing).\n *\n * We are not returning references back from the chain-of-resp of the receivers, because a) that would\n * break the encapsulation and loose coupling across receivers, and b) it would actually not be useful\n * for the emitter of the Signals to receive references under the SignalReceiver type anyway.\n *\n */\n\nexport enum SignalDirection {\n  UP = -1, // should be passed up data direction\n  DOWN = +1, // should be passed down data direction\n  ZERO = 0 // no propagation\n}\n\nexport type SignalReceiverCastResult = Promise<boolean>;\n\nexport type SignalHandler = (sig: Signal) => SignalReceiverCastResult;\n\nexport interface SignalReceiver {\n  cast(signal: Signal): SignalReceiverCastResult;\n}\n\nexport function collectSignalReceiverCastResults (results: SignalReceiverCastResult[]): SignalReceiverCastResult {\n  if (results.length === 0) {\n    return Promise.resolve(false);\n  }\n  return Promise.all(results).then((results) => {\n    return results.some((res) => res === true);\n  });\n}\n\nexport class Signal {\n  constructor (\n    private _direction: SignalDirection\n  ) {}\n\n  direction (): SignalDirection {\n    return this._direction;\n  }\n\n  isDirectionUp () {\n    return this._direction === SignalDirection.UP;\n  }\n\n  isDirectionDown () {\n    return this._direction === SignalDirection.DOWN;\n  }\n\n  isDirectionZero () {\n    return this._direction === SignalDirection.ZERO;\n  }\n\n  /**\n   * Broadcast method\n   */\n  emit (receivers: SignalReceiver[]): SignalReceiverCastResult {\n    return collectSignalReceiverCastResults(\n      receivers.map((receiver: SignalReceiver) => receiver.cast(this))\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/signal.ts","export class NALU {\n  static get NDR () {\n    return 1;\n  }\n  static get IDR () {\n    return 5;\n  }\n  static get SEI () {\n    return 6;\n  }\n  static get SPS () {\n    return 7;\n  }\n  static get PPS () {\n    return 8;\n  }\n  static get AUD () {\n    return 9;\n  }\n\n  static get TYPES () {\n    return {\n      [NALU.IDR]: 'IDR',\n      [NALU.SEI]: 'SEI',\n      [NALU.SPS]: 'SPS',\n      [NALU.PPS]: 'PPS',\n      [NALU.NDR]: 'NDR',\n      [NALU.AUD]: 'AUD'\n    };\n  }\n\n  static type (nalu: NALU): string {\n    if (nalu.ntype in NALU.TYPES) {\n      return NALU.TYPES[nalu.ntype];\n    } else {\n      return 'UNKNOWN';\n    }\n  }\n\n  payload: Uint8Array;\n  nri: number;\n  ntype: number;\n\n  constructor (data: Uint8Array) {\n    this.payload = data;\n    this.nri = (this.payload[0] & 0x60) >> 5;\n    this.ntype = this.payload[0] & 0x1f;\n  }\n\n  toString (): string {\n    return `${NALU.type(this)}: NRI: ${this.getNri()}`;\n  }\n\n  getNri () {\n    return this.nri >> 6;\n  }\n\n  type (): number {\n    return this.ntype;\n  }\n\n  isKeyframe () {\n    // tslint:disable-next-line: triple-equals\n    return this.ntype == NALU.IDR;\n  }\n\n  getSize () {\n    return 4 + this.payload.byteLength;\n  }\n\n  getData () {\n    const result = new Uint8Array(this.getSize());\n    const view = new DataView(result.buffer);\n    view.setUint32(0, this.getSize() - 4);\n\n    result.set(this.payload, 4);\n    return result;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/h264/nalu.ts","// would be nice but webpack takes looong to compile this :)\n\n// import ffmpegMp4Toolchain from 'ffmpeg.js/ffmpeg-mp4';\n/*\nimport ffmpegWebmToolchain from 'ffmpeg.js/ffmpeg-webm';\n*/\n// for now let's try to rely on a global install or some other delegation of the problem to the user by dependency injection\n\nimport { getLogger } from '../../logger';\nimport { noop, lastOfArray } from '../../common-utils';\n\nconst {debug, log, warn, error} = getLogger('ffmpeg-tool');\n\nexport type FFmpegToolchainExeWrapper = any; // FIXME: any as placeholder (need to create type-definitions or wrapper of ffmpeg.js API)\n\nexport type FFmpegFileItem = {name: string, data: Uint8Array};\n\nexport type FFmpegConversionTargetInfo = {targetCodec: string, targetFiletypeExt, targetBitrateKbps: number}\n\n// TODO: ...\nexport class FFmpegStdPipeBuffer {\n/**\n    let stdErrBytesCount = 0;\n    const stderrData: number[] = [];\n    const onStdErrChar = (byte: number) => {\n      stdErrBytesCount++;\n      stderrData.push(byte);\n\n      //debug(`wrote ${stdErrBytesCount} bytes to stderr`);\n      if (this._onStdErrPipeByte) {\n        this._onStdErrPipeByte(byte, stdErrBytesCount);\n      }\n    }\n\n */\n}\n\nexport class FFmpegTool {\n\n  /*\n  static get MP4Toolchain(): FFmpegToolchainExeWrapper {\n    return ffmpegMp4Toolchain;\n  }\n\n  static get WEBMToolchain(): FFmpegToolchainBuild {\n    return ffmpegWebmToolchain;\n  }\n  */\n\n  constructor(\n    public ffmpeg: FFmpegToolchainExeWrapper,\n    private _onStdErrPipeByte: (newByte: number, bytesCount: number) => void = null,\n    private _onStdOutPipeByte: (newByte: number, bytesCount: number) => void = null\n    ) {}\n\n  /**\n   * Slightly low-level method, better use a more convenient wrapper if it can fit your purpose.\n   *\n   * Usage example:\n   *\n   *  // notice the redundant inputfile pathname information passed here, reason why is somewhere\n   *  // inside ffmpeg.s\n   *  const args = ['-i', 'input.mp3', '-c:a', 'aac', '-b:a', '128k', 'output.mp4'];\n   *  const outData = ffmpegWrapper.runWithOneInputFile(new Uint8Array(data), 'input.mp3', args);\n   *\n   * @param fileData\n   * @param fileName\n   * @param ffmpegArguments\n   */\n  runWithOneInputFile(inputFile: FFmpegFileItem, ffmpegArguments: string[]): FFmpegFileItem {\n\n    // TODO: use FFmpegStdPipeBuffer class\n\n    let stdErrBytesCount = 0;\n    const stderrData: number[] = [];\n    const onStdErrChar = (byte: number) => {\n      stdErrBytesCount++;\n      stderrData.push(byte);\n\n      // debug(`wrote ${stdErrBytesCount} bytes to stderr`);\n      if (this._onStdErrPipeByte) {\n        this._onStdErrPipeByte(byte, stdErrBytesCount);\n      }\n    }\n\n    let stdOutBytesCount = 0;\n    const stdoutData: number[] = [];\n    const onStdOutChar = (byte: number) => {\n      stdOutBytesCount++;\n      stdoutData.push(byte);\n\n      debug(`wrote ${stdOutBytesCount} bytes to stdout`);\n      if (this._onStdOutPipeByte) {\n        this._onStdOutPipeByte(byte, stdErrBytesCount);\n      }\n    }\n\n    const {ffmpeg} = this;\n    let out = null;\n    try {\n      const result = ffmpeg({\n        MEMFS: [inputFile],\n        arguments: ffmpegArguments,\n        // Ignore stdin read requests\n        stdin: noop,\n        stdout: onStdOutChar,\n        stderr: onStdErrChar\n      });\n      out = result.MEMFS[0];\n    } catch(err) {\n      error('Running FFmpeg conversion tool failed with an error:', err);\n    }\n\n    debug('dumping stderr temp-buffer:', String.fromCharCode(...stderrData))\n\n    if (!out) {\n      // FIXME: this seems to happen with certain x-wav files for some reason\n\n      warn('no memfs item returned, using temp-buffer on stdout to pass out result data (working around known issue with wav files)');\n\n      error('no stdout bytes captured (this is a ffmpeg.js issue most likely)');\n\n      // the approach below would work if we would actually get some data\n      /*\n      if (bytesCount === 0) {\n        error('no bytes written; maybe bad input data, aborting');\n        return null;\n      }\n      out = {\n        name: lastOfArray(ffmpegArguments),\n        data: new Uint8Array(outputData)\n      }\n      */\n    }\n\n    return out;\n  }\n\n  /**\n   * see https://www.ffmpeg.org/ffmpeg-codecs.html#Codec-Options\n   * @param inputFileData\n   * @param inputExtension\n   * @param audioConfig\n   * @param videoConfig\n   * @param extraArgs\n   */\n  convertAVFile(\n    inputFileData: Uint8Array,\n    inputExtension: string,\n    audioConfig: FFmpegConversionTargetInfo | null,\n    videoConfig: FFmpegConversionTargetInfo | null,\n    extraArgs: string[] = []): Uint8Array {\n\n    const inputFile: FFmpegFileItem = {name: `input.${inputExtension}`, data: inputFileData};\n\n    let outputFileExt = null;\n    if (videoConfig) {\n      outputFileExt = videoConfig.targetFiletypeExt;\n    } else if (audioConfig) {\n      outputFileExt = audioConfig.targetFiletypeExt;\n    } else {\n      throw new Error('both audio/video config inexistent');\n    }\n\n    const outFilename = `output.${outputFileExt}`;\n\n    let args: string[] = ['-i', inputFile.name];\n\n    if (audioConfig) {\n      args = args.concat(['-c:a', audioConfig.targetCodec, '-b:a', `${audioConfig.targetBitrateKbps}k`])\n    }\n\n    if (videoConfig) {\n      args = args.concat(['-c:v', videoConfig.targetCodec, '-b:v', `${videoConfig.targetBitrateKbps}k`]);\n    }\n\n    args = args.concat([outFilename], extraArgs);\n\n    log(`calling main with args: \"${args.join(' ')}\"`);\n\n    const outFile = this.runWithOneInputFile(inputFile, args);\n    if (!outFile) {\n      warn('no output file created');\n      return null;\n    }\n    return outFile.data;\n  }\n\n  /**\n   *\n   * @param inputFileData\n   * @param inputExtension without dot\n   * @param targetCodec ffmpeg codec identifier, defaults to 'aac'\n   * @param targetFiletypeExt without dot, defaults to 'mp4'\n   */\n  convertAudioFile(inputFileData: Uint8Array, inputExtension: string,\n    targetCodec: string = 'aac', targetFiletypeExt: string = 'mp4', targetBitrateKbps: number = 128): Uint8Array {\n    const inputFile: FFmpegFileItem = {name: `input.${inputExtension}`, data: inputFileData};\n    const outFilename = `output.${targetFiletypeExt}`;\n    const args = ['-i', inputFile.name, '-c:a', targetCodec, '-b:a', `${targetBitrateKbps}k`, outFilename]\n    const outFile = this.runWithOneInputFile(inputFile, args);\n    return outFile.data;\n  }\n\n  getVersion(): Promise<string> {\n    let stdout = '';\n    let stderr = '';\n    const {ffmpeg} = this;\n    return new Promise<string>((resolve, reject) => {\n      // Print FFmpeg's version\n      ffmpeg({\n        arguments: ['-version'],\n        print(data) {\n          stdout += data + '\\n';\n          debug (data);\n        },\n        printErr(data) {\n          stderr += data + '\\n';\n          error(data);\n        },\n        onExit(code) {\n          log('Virtual process exited with code ' + code);\n          if (code === 0) {\n            resolve(stdout);\n          } else {\n            reject(stderr);\n          }\n        },\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/ffmpeg/ffmpeg-tool.ts","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  concatArrays, writeUint32, writeInt32, decodeInt32,\n  encodeDate, encodeFloat_16_16, encodeFloat_8_8,\n  encodeFloat_2_30, encodeLang, utf8decode\n} from '../../common-utils';\n\nimport { Box, BoxContainerBox, FullBox } from './mp4iso-base';\n\nexport let START_DATE = -2082844800000; /* midnight after Jan. 1, 1904 */\nexport let DEFAULT_MOVIE_MATRIX: number[] = [1.0, 0, 0, 0, 1.0, 0, 0, 0, 1.0];\nexport let DEFAULT_OP_COLOR: number[] = [0, 0, 0];\n\nexport class FileTypeBox extends Box {\n    public majorBrand: string;\n    public minorVersion: number;\n    public compatibleBrands: string[];\n\n    constructor (majorBrand: string, minorVersion: number, compatibleBrands: string[]) {\n      super('ftype');\n      this.majorBrand = majorBrand;\n      this.minorVersion = minorVersion;\n      this.compatibleBrands = compatibleBrands;\n    }\n\n    public layout (offset: number): number {\n      this.size = super.layout(offset) + 8 + (4 * this.compatibleBrands.length);\n      return this.size;\n    }\n\n    public write (data: Uint8Array): number {\n      let offset = super.write(data);\n      offset += writeInt32(data, this.offset + offset, decodeInt32(this.majorBrand));\n      offset += writeInt32(data, this.offset + offset, this.minorVersion);\n      this.compatibleBrands.forEach((brand: string) => {\n        offset += writeInt32(data, this.offset + offset, decodeInt32(brand));\n      });\n      return offset;\n    }\n}\n\nexport class MovieBox extends BoxContainerBox {\n  constructor (public header: MovieHeaderBox,\n                public tracks: Box[],\n                public extendsBox: MovieExtendsBox,\n                public userData: Box) {\n\n    super('moov', concatArrays<Box>(\n      [header],\n      tracks,\n      extendsBox ? [extendsBox] : [],\n      userData ? [userData]: []));\n  }\n}\n\nexport class MovieHeaderBox extends FullBox {\n  constructor (public timescale: number,\n                public duration: number,\n                public nextTrackId: number,\n                public rate: number = 1.0,\n                public volume: number = 1.0,\n                public matrix: number[] = DEFAULT_MOVIE_MATRIX,\n                public creationTime: number = START_DATE,\n                public modificationTime: number = START_DATE) {\n    super('mvhd', 0, 0);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 16 + 4 + 2 + 2 + 8 + 36 + 24 + 4;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    // Only version 0\n    writeInt32(data, this.offset + offset, encodeDate(this.creationTime));\n    writeInt32(data, this.offset + offset + 4, encodeDate(this.modificationTime));\n    writeInt32(data, this.offset + offset + 8, this.timescale);\n    writeInt32(data, this.offset + offset + 12, this.duration);\n    offset += 16;\n    writeInt32(data, this.offset + offset, encodeFloat_16_16(this.rate));\n    writeInt32(data, this.offset + offset + 4, encodeFloat_8_8(this.volume) << 16);\n    writeInt32(data, this.offset + offset + 8, 0);\n    writeInt32(data, this.offset + offset + 12, 0);\n    offset += 16;\n    writeInt32(data, this.offset + offset, encodeFloat_16_16(this.matrix[0]));\n    writeInt32(data, this.offset + offset + 4, encodeFloat_16_16(this.matrix[1]));\n    writeInt32(data, this.offset + offset + 8, encodeFloat_16_16(this.matrix[2]));\n    writeInt32(data, this.offset + offset + 12, encodeFloat_16_16(this.matrix[3]));\n    writeInt32(data, this.offset + offset + 16, encodeFloat_16_16(this.matrix[4]));\n    writeInt32(data, this.offset + offset + 20, encodeFloat_16_16(this.matrix[5]));\n    writeInt32(data, this.offset + offset + 24, encodeFloat_2_30(this.matrix[6]));\n    writeInt32(data, this.offset + offset + 28, encodeFloat_2_30(this.matrix[7]));\n    writeInt32(data, this.offset + offset + 32, encodeFloat_2_30(this.matrix[8]));\n    offset += 36;\n    writeInt32(data, this.offset + offset, 0);\n    writeInt32(data, this.offset + offset + 4, 0);\n    writeInt32(data, this.offset + offset + 8, 0);\n    writeInt32(data, this.offset + offset + 12, 0);\n    writeInt32(data, this.offset + offset + 16, 0);\n    writeInt32(data, this.offset + offset + 20, 0);\n    offset += 24;\n    writeInt32(data, this.offset + offset, this.nextTrackId);\n    offset += 4;\n    return offset;\n  }\n}\n\nexport enum TrackHeaderFlags {\n    TRACK_ENABLED = 0x000001,\n    TRACK_IN_MOVIE = 0x000002,\n    TRACK_IN_PREVIEW = 0x000004,\n  }\n\nexport class TrackHeaderBox extends FullBox {\n  constructor (flags: number,\n                public trackId: number,\n                public duration: number,\n                public width: number,\n                public height: number,\n                public volume: number,\n                public alternateGroup: number = 0,\n                public layer: number = 0,\n                public matrix: number[] = DEFAULT_MOVIE_MATRIX,\n                public creationTime: number = START_DATE,\n                public modificationTime: number = START_DATE) {\n    super('tkhd', 0, flags);\n  }\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 20 + 8 + 6 + 2 + 36 + 8;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    // Only version 0\n    writeInt32(data, this.offset + offset, encodeDate(this.creationTime));\n    writeInt32(data, this.offset + offset + 4, encodeDate(this.modificationTime));\n    writeInt32(data, this.offset + offset + 8, this.trackId);\n    writeInt32(data, this.offset + offset + 12, 0);\n    writeInt32(data, this.offset + offset + 16, this.duration);\n    offset += 20;\n    writeInt32(data, this.offset + offset, 0);\n    writeInt32(data, this.offset + offset + 4, 0);\n    writeInt32(data, this.offset + offset + 8, (this.layer << 16) | this.alternateGroup);\n    writeInt32(data, this.offset + offset + 12, encodeFloat_8_8(this.volume) << 16);\n    offset += 16;\n    writeInt32(data, this.offset + offset, encodeFloat_16_16(this.matrix[0]));\n    writeInt32(data, this.offset + offset + 4, encodeFloat_16_16(this.matrix[1]));\n    writeInt32(data, this.offset + offset + 8, encodeFloat_16_16(this.matrix[2]));\n    writeInt32(data, this.offset + offset + 12, encodeFloat_16_16(this.matrix[3]));\n    writeInt32(data, this.offset + offset + 16, encodeFloat_16_16(this.matrix[4]));\n    writeInt32(data, this.offset + offset + 20, encodeFloat_16_16(this.matrix[5]));\n    writeInt32(data, this.offset + offset + 24, encodeFloat_2_30(this.matrix[6]));\n    writeInt32(data, this.offset + offset + 28, encodeFloat_2_30(this.matrix[7]));\n    writeInt32(data, this.offset + offset + 32, encodeFloat_2_30(this.matrix[8]));\n    offset += 36;\n    writeInt32(data, this.offset + offset, encodeFloat_16_16(this.width));\n    writeInt32(data, this.offset + offset + 4, encodeFloat_16_16(this.height));\n    offset += 8;\n    return offset;\n  }\n}\n\nexport class MediaHeaderBox extends FullBox {\n  constructor (public timescale: number,\n                public duration: number,\n                public language: string = 'unk',\n                public creationTime: number = START_DATE,\n                public modificationTime: number = START_DATE) {\n    super('mdhd', 0, 0);\n  }\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 16 + 4;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    // Only version 0\n    writeInt32(data, this.offset + offset, encodeDate(this.creationTime));\n    writeInt32(data, this.offset + offset + 4, encodeDate(this.modificationTime));\n    writeInt32(data, this.offset + offset + 8, this.timescale);\n    writeInt32(data, this.offset + offset + 12, this.duration);\n    writeInt32(data, this.offset + offset + 16, encodeLang(this.language) << 16);\n    return offset + 20;\n  }\n}\n\nexport class HandlerBox extends FullBox {\n    private _encodedName: Uint8Array;\n\n    constructor (public handlerType: string,\n                public name: string) {\n      super('hdlr', 0, 0);\n      this._encodedName = utf8decode(this.name);\n    }\n    public layout (offset: number): number {\n      this.size = super.layout(offset) + 8 + 12 + (this._encodedName.length + 1);\n      return this.size;\n    }\n\n    public write (data: Uint8Array): number {\n      let offset = super.write(data);\n      writeInt32(data, this.offset + offset, 0);\n      writeInt32(data, this.offset + offset + 4, decodeInt32(this.handlerType));\n      writeInt32(data, this.offset + offset + 8, 0);\n      writeInt32(data, this.offset + offset + 12, 0);\n      writeInt32(data, this.offset + offset + 16, 0);\n      offset += 20;\n      data.set(this._encodedName, this.offset + offset);\n      data[this.offset + offset + this._encodedName.length] = 0;\n      offset += this._encodedName.length + 1;\n      return offset;\n    }\n}\n\nexport class SoundMediaHeaderBox extends FullBox {\n  constructor (public balance: number = 0.0) {\n    super('smhd', 0, 0);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 4;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, encodeFloat_8_8(this.balance) << 16);\n    return offset + 4;\n  }\n}\n\nexport class VideoMediaHeaderBox extends FullBox {\n  constructor (public graphicsMode: number = 0,\n                public opColor: number[] = DEFAULT_OP_COLOR) {\n    super('vmhd', 0, 0);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 8;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, (this.graphicsMode << 16) | this.opColor[0]);\n    writeInt32(data, this.offset + offset + 4, (this.opColor[1] << 16) | this.opColor[2]);\n    return offset + 8;\n  }\n}\n\nexport let SELF_CONTAINED_DATA_REFERENCE_FLAG = 0x000001;\n\nexport class DataEntryUrlBox extends FullBox {\n    private _encodedLocation: Uint8Array;\n\n    constructor (flags: number,\n                public location: string = null) {\n      super('url ', 0, flags);\n      if (!(flags & SELF_CONTAINED_DATA_REFERENCE_FLAG)) {\n        this._encodedLocation = utf8decode(location);\n      }\n    }\n\n    public layout (offset: number): number {\n      let size = super.layout(offset);\n      if (this._encodedLocation) {\n        size += this._encodedLocation.length + 1;\n      }\n      return (this.size = size);\n    }\n\n    public write (data: Uint8Array): number {\n      let offset = super.write(data);\n      if (this._encodedLocation) {\n        data.set(this._encodedLocation, this.offset + offset);\n        data[this.offset + offset + this._encodedLocation.length] = 0;\n        offset += this._encodedLocation.length;\n      }\n      return offset;\n    }\n}\n\nexport class DataReferenceBox extends FullBox {\n  constructor (public entries: Box[]) {\n    super('dref', 0, 0);\n  }\n\n  public layout (offset: number): number {\n    let size = super.layout(offset) + 4;\n    this.entries.forEach((entry) => {\n      size += entry.layout(offset + size);\n    });\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, this.entries.length);\n    this.entries.forEach((entry) => {\n      offset += entry.write(data);\n    });\n    return offset;\n  }\n}\n\nexport class DataInformationBox extends BoxContainerBox {\n  constructor (public dataReference: Box) {\n    super('dinf', [dataReference]);\n  }\n}\n\nexport class SampleDescriptionBox extends FullBox {\n  constructor (public entries: Box[]) {\n    super('stsd', 0, 0);\n  }\n\n  public layout (offset: number): number {\n    let size = super.layout(offset);\n    size += 4;\n    this.entries.forEach((entry) => {\n      size += entry.layout(offset + size);\n    });\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, this.entries.length);\n    offset += 4;\n    this.entries.forEach((entry) => {\n      offset += entry.write(data);\n    });\n    return offset;\n  }\n}\n\nexport type DecodingTimeToSampleEntry = {\n  sampleCount: number\n  sampleDelta: number\n}\n\nexport class DecodingTimeToSampleBox extends FullBox {\n\n  constructor (flags: number, public entries: DecodingTimeToSampleEntry[]) {\n    super('stts', 0, flags);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 4 + (this.entries.length * 2 * 4);\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    offset += writeUint32(data, this.offset + offset, this.entries.length);\n    for (let i = 0; i < this.entries.length; i++) {\n      offset += writeUint32(data, this.offset + offset, this.entries[i].sampleCount);\n      offset += writeUint32(data, this.offset + offset, this.entries[i].sampleDelta);\n    }\n    return offset;\n  }\n\n}\n\n/**\n * This box provides the offset between decoding time and composition time.\n *\n * Since decoding time must be less than  the  composition  time,\n * the  offsets  are  expressed  as  unsigned  numbers  such  that CT(n)  =  DT(n)  +  CTTS(n)\n * where CTTS(n) is the (uncompressed) table entry for sample n.\n *\n * The composition time to sample table is optional and must only be present if DT and CT differ for any samples.\n */\n\nexport type CompositionTimeToSampleEntry = {\n  sampleCount: number\n  sampleOffset: number\n}\n\nexport class CompositionTimeToSampleBox extends FullBox {\n\n  constructor (flags: number, public entries: CompositionTimeToSampleEntry[]) {\n    super('ctts', 0, flags);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 4 + (this.entries.length * 2 * 4);\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    offset += writeUint32(data, this.offset + offset, this.entries.length);\n    for (let i = 0; i < this.entries.length; i++) {\n      offset += writeUint32(data, this.offset + offset, this.entries[i].sampleCount);\n      offset += writeUint32(data, this.offset + offset, this.entries[i].sampleOffset);\n    }\n    return offset;\n  }\n\n}\n\n/**\n * This box contains the sample count and a table giving the size in bytes of each sample.\n * This allows the media data itself to be unframed.\n * The total number of samples in the media is always indicated in the sample count.\n */\n\nexport class SampleSizeBox extends FullBox {\n  constructor(\n    public sampleSizes: number[] = [],\n    public sampleCount: number = sampleSizes.length,\n    public defaultSampleSize: number = 0) {\n\n    super('stsz', 0, 0);\n\n    if (sampleSizes.length > 0 && defaultSampleSize !== 0) {\n      throw new Error('Should not have default sample size unequal zero but sample-size list length > 0')\n    }\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 2 * 4 + (this.sampleSizes.length * 4);\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    offset += writeUint32(data, this.offset + offset, this.defaultSampleSize);\n    offset += writeUint32(data, this.offset + offset, this.sampleCount);\n    if (this.defaultSampleSize === 0) {\n      for (let i = 0; i < this.sampleSizes.length; i++) {\n        offset += writeUint32(data, this.offset + offset, this.sampleSizes[i]);\n      }\n    }\n    return offset;\n  }\n\n}\n\n/**\n * first_chunk is an integer that gives the index of the first chunk\n * in this run of chunks that share the same samples-per-chunk and sample-description-index;\n * the index of the first chunk in a track has the value 1\n * (the first_chunk field in the first record of this box has the value 1,\n * identifying that the first sample maps to the first chunk).\n *\n * samples_per_chunk is an integer that gives the number of samples in each of these chunks.\n *\n * sample_description_index is an integer that gives the index of the sample entry that describes the samples\n * in  this  chunk.  The  index  ranges  from  1  to  the  number  of  sample  entries  in  the  Sample  Description Box.\n */\n\nexport type SampleToChunkEntry = {\n  firstChunk: number;\n  samplesPerChunk: number;\n  sampleDescriptionIndex: number\n};\n\nexport class SampleToChunkBox extends FullBox {\n  constructor(public entries: SampleToChunkEntry[]) {\n    super('stsc', 0, 0);\n  }\n\n  public layout (offset): number {\n    this.size = super.layout(offset) + 4 + (this.entries.length * 3 * 4);\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n\n    offset += writeUint32(data, this.offset + offset, this.entries.length);\n    for (let i = 0; i < this.entries.length; i++) {\n      offset += writeUint32(data, this.offset + offset, this.entries[i].firstChunk);\n      offset += writeUint32(data, this.offset + offset, this.entries[i].samplesPerChunk);\n      offset += writeUint32(data, this.offset + offset, this.entries[i].sampleDescriptionIndex);\n    }\n\n    return offset;\n  }\n\n}\n\n/**\n * The chunk offset table gives the index of each chunk into the containing file.\n *\n * There are two variants, permitting the use of 32-bit or 64-bit offsets.\n *\n * The latter is useful when managing very large presentations.\n * At most one of these variants will occur in any single instance of a sample table.\n * Offsets are file offsets, not the offset into any box within the file (e.g. Media Data Box).\n * This permits referring to media data in files without any box structure.\n * It does also mean that care must be taken when constructing a self-contained ISO file with its metadata (Movie Box) at the front,\n * as the size of the Movie Box will affect the chunk offsets to the media data.\n */\n\nexport class ChunkOffsetBox extends FullBox {\n\n  constructor(public chunkOffsets: number[]) {\n    super('stco', 0, 0);\n  }\n\n  public layout (offset): number {\n    this.size = super.layout(offset) + 4 + this.chunkOffsets.length * 4;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n\n    offset += writeUint32(data, this.offset + offset, this.chunkOffsets.length);\n    for (let i = 0; i < this.chunkOffsets.length; i++) {\n      offset += writeUint32(data, this.offset + offset, this.chunkOffsets[i]);\n    }\n\n    return offset;\n  }\n}\n\nexport class SyncSampleBox extends FullBox {\n\n  constructor(public syncSampleNumbers: number[]) {\n    super('stss', 0, 0);\n  }\n\n  public layout (offset): number {\n    this.size = super.layout(offset) + 4 + this.syncSampleNumbers.length * 4;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    offset += writeUint32(data, this.offset + offset, this.syncSampleNumbers.length);\n    for (let i = 0; i < this.syncSampleNumbers.length; i++) {\n      offset += writeUint32(data, this.offset + offset, this.syncSampleNumbers[i]);\n    }\n    return offset;\n  }\n}\n\nexport type StblSample = {\n  size: number\n  dts: number\n  cts: number\n  isRap: boolean // \"random access point\" -> appears in sync-samples box\n}\n\n/**\n * This box provides a compact marking of the random access points within the stream.\n *\n * The table is arranged in strictly increasing order of sample number.\n *\n * If the sync sample box is not present, every sample is a random access point.\n *\n * entry_count is an integer that gives the number of entries in the following table.\n *\n * If entry_count is zero, there are no random access points within the stream and the following table is empty.\n *\n * sample_number gives the numbers of the samples that are random access points in the stream.\n */\nexport class SampleTableBox extends BoxContainerBox {\n\n  constructor (public sampleDescriptions: SampleDescriptionBox,\n                public timeToSample: Box,\n                public compositionOffsetBox: Box,\n                public sampleToChunk: Box,\n                public sampleSizes: Box,\n                public chunkOffset: Box,\n                public syncSamples?: Box) {\n\n    super('stbl',\n      syncSamples ?\n        [sampleDescriptions, timeToSample, compositionOffsetBox, sampleToChunk, sampleSizes, chunkOffset, syncSamples]\n        : [sampleDescriptions, timeToSample, compositionOffsetBox, sampleToChunk, sampleSizes, chunkOffset]);\n  }\n}\n\nexport class MediaInformationBox extends BoxContainerBox {\n  constructor (public header: Box, // SoundMediaHeaderBox|VideoMediaHeaderBox\n                public info: DataInformationBox,\n                public sampleTable: SampleTableBox) {\n    super('minf', [header, info, sampleTable]);\n  }\n}\n\nexport class MediaBox extends BoxContainerBox {\n  constructor (public header: MediaHeaderBox,\n                public handler: HandlerBox,\n                public info: MediaInformationBox) {\n    super('mdia', [header, handler, info]);\n  }\n}\n\nexport class TrackBox extends BoxContainerBox {\n  constructor (public header: TrackHeaderBox,\n                public media: Box) {\n    super('trak', [header, media]);\n  }\n}\n\nexport class TrackExtendsBox extends FullBox {\n  constructor (public trackId: number,\n                public defaultSampleDescriptionIndex: number,\n                public defaultSampleDuration: number,\n                public defaultSampleSize: number,\n                public defaultSampleFlags: number) {\n    super('trex', 0, 0);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 20;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, this.trackId);\n    writeInt32(data, this.offset + offset + 4, this.defaultSampleDescriptionIndex);\n    writeInt32(data, this.offset + offset + 8, this.defaultSampleDuration);\n    writeInt32(data, this.offset + offset + 12, this.defaultSampleSize);\n    writeInt32(data, this.offset + offset + 16, this.defaultSampleFlags);\n    return offset + 20;\n  }\n}\n\nexport class MovieExtendsBox extends BoxContainerBox {\n  constructor (public header: Box,\n                public tracDefaults: TrackExtendsBox[],\n                public levels: Box) {\n    super('mvex', concatArrays<Box>([header], tracDefaults, [levels]));\n  }\n}\n\nexport class MetaBox extends FullBox {\n  constructor (public handler: Box,\n                public otherBoxes: Box[]) {\n    super('meta', 0, 0);\n  }\n  public layout (offset: number): number {\n    let size = super.layout(offset);\n    size += this.handler.layout(offset + size);\n    this.otherBoxes.forEach((box) => {\n      size += box.layout(offset + size);\n    });\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    offset += this.handler.write(data);\n    this.otherBoxes.forEach((box) => {\n      offset += box.write(data);\n    });\n    return offset;\n  }\n}\n\nexport class MovieFragmentHeaderBox extends FullBox {\n  constructor (public sequenceNumber: number) {\n    super('mfhd', 0, 0);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 4;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, this.sequenceNumber);\n    return offset + 4;\n  }\n}\n\nexport enum TrackFragmentFlags {\n    BASE_DATA_OFFSET_PRESENT = 0x000001,\n    SAMPLE_DESCRIPTION_INDEX_PRESENT = 0x000002,\n    DEFAULT_SAMPLE_DURATION_PRESENT = 0x000008,\n    DEFAULT_SAMPLE_SIZE_PRESENT = 0x0000010,\n    DEFAULT_SAMPLE_FLAGS_PRESENT = 0x000020,\n  }\n\nexport class TrackFragmentHeaderBox extends FullBox {\n  constructor (flags: number,\n                public trackId: number,\n                public baseDataOffset: number,\n                public sampleDescriptionIndex: number,\n                public defaultSampleDuration: number,\n                public defaultSampleSize: number,\n                public defaultSampleFlags: number) {\n    super('tfhd', 0, flags);\n  }\n\n  public layout (offset: number): number {\n    let size = super.layout(offset) + 4;\n    let flags = this.flags;\n    if (flags & TrackFragmentFlags.BASE_DATA_OFFSET_PRESENT) {\n      size += 8;\n    }\n    if (flags & TrackFragmentFlags.SAMPLE_DESCRIPTION_INDEX_PRESENT) {\n      size += 4;\n    }\n    if (flags & TrackFragmentFlags.DEFAULT_SAMPLE_DURATION_PRESENT) {\n      size += 4;\n    }\n    if (flags & TrackFragmentFlags.DEFAULT_SAMPLE_SIZE_PRESENT) {\n      size += 4;\n    }\n    if (flags & TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT) {\n      size += 4;\n    }\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    let flags = this.flags;\n    writeInt32(data, this.offset + offset, this.trackId);\n    offset += 4;\n    if (flags & TrackFragmentFlags.BASE_DATA_OFFSET_PRESENT) {\n      writeInt32(data, this.offset + offset, 0);\n      writeInt32(data, this.offset + offset + 4, this.baseDataOffset);\n      offset += 8;\n    }\n    if (flags & TrackFragmentFlags.SAMPLE_DESCRIPTION_INDEX_PRESENT) {\n      writeInt32(data, this.offset + offset, this.sampleDescriptionIndex);\n      offset += 4;\n    }\n    if (flags & TrackFragmentFlags.DEFAULT_SAMPLE_DURATION_PRESENT) {\n      writeInt32(data, this.offset + offset, this.defaultSampleDuration);\n      offset += 4;\n    }\n    if (flags & TrackFragmentFlags.DEFAULT_SAMPLE_SIZE_PRESENT) {\n      writeInt32(data, this.offset + offset, this.defaultSampleSize);\n      offset += 4;\n    }\n    if (flags & TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT) {\n      writeInt32(data, this.offset + offset, this.defaultSampleFlags);\n      offset += 4;\n    }\n    return offset;\n  }\n}\n\nexport class TrackFragmentBaseMediaDecodeTimeBox extends FullBox {\n  constructor (public baseMediaDecodeTime: number) {\n    super('tfdt', 0, 0);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 4;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, this.baseMediaDecodeTime);\n    return offset + 4;\n  }\n}\n\nexport class TrackFragmentBox extends BoxContainerBox {\n  constructor (public header: TrackFragmentHeaderBox,\n                public decodeTime: TrackFragmentBaseMediaDecodeTimeBox, // move after run?\n                public run: TrackRunBox) {\n    super('traf', [header, decodeTime, run]);\n  }\n}\n\nexport enum SampleFlags {\n    IS_LEADING_MASK = 0x0C000000,\n    SAMPLE_DEPENDS_ON_MASK = 0x03000000,\n    SAMPLE_DEPENDS_ON_OTHER = 0x01000000,\n    SAMPLE_DEPENDS_ON_NO_OTHERS = 0x02000000,\n    SAMPLE_IS_DEPENDED_ON_MASK = 0x00C00000,\n    SAMPLE_HAS_REDUNDANCY_MASK = 0x00300000,\n    SAMPLE_PADDING_VALUE_MASK = 0x000E0000,\n    SAMPLE_IS_NOT_SYNC = 0x00010000,\n    SAMPLE_DEGRADATION_PRIORITY_MASK = 0x0000FFFF,\n  }\n\nexport enum TrackRunFlags {\n    DATA_OFFSET_PRESENT = 0x000001,\n    FIRST_SAMPLE_FLAGS_PRESENT = 0x000004,\n    SAMPLE_DURATION_PRESENT = 0x000100,\n    SAMPLE_SIZE_PRESENT = 0x000200,\n    SAMPLE_FLAGS_PRESENT = 0x000400,\n    SAMPLE_COMPOSITION_TIME_OFFSET = 0x000800,\n  }\n\nexport type TrackRunSample = {\n    duration?: number;\n    size?: number;\n    flags?: number;\n    compositionTimeOffset?: number;\n  }\n\nexport class TrackRunBox extends FullBox {\n  constructor (flags: number,\n                public samples: TrackRunSample[],\n                public dataOffset?: number,\n                public firstSampleFlags?: number) {\n    super('trun', 1, flags);\n  }\n\n  public layout (offset: number): number {\n    let size = super.layout(offset) + 4;\n    let samplesCount = this.samples.length;\n    let flags = this.flags;\n    if (flags & TrackRunFlags.DATA_OFFSET_PRESENT) {\n      size += 4;\n    }\n    if (flags & TrackRunFlags.FIRST_SAMPLE_FLAGS_PRESENT) {\n      size += 4;\n    }\n    if (flags & TrackRunFlags.SAMPLE_DURATION_PRESENT) {\n      size += 4 * samplesCount;\n    }\n    if (flags & TrackRunFlags.SAMPLE_SIZE_PRESENT) {\n      size += 4 * samplesCount;\n    }\n    if (flags & TrackRunFlags.SAMPLE_FLAGS_PRESENT) {\n      size += 4 * samplesCount;\n    }\n    if (flags & TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET) {\n      size += 4 * samplesCount;\n    }\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    let samplesCount = this.samples.length;\n    let flags = this.flags;\n    writeInt32(data, this.offset + offset, samplesCount);\n    offset += 4;\n    if (flags & TrackRunFlags.DATA_OFFSET_PRESENT) {\n      writeInt32(data, this.offset + offset, this.dataOffset);\n      offset += 4;\n    }\n    if (flags & TrackRunFlags.FIRST_SAMPLE_FLAGS_PRESENT) {\n      writeInt32(data, this.offset + offset, this.firstSampleFlags);\n      offset += 4;\n    }\n    for (let i = 0; i < samplesCount; i++) {\n      let sample = this.samples[i];\n      if (flags & TrackRunFlags.SAMPLE_DURATION_PRESENT) {\n        writeInt32(data, this.offset + offset, sample.duration);\n        offset += 4;\n      }\n      if (flags & TrackRunFlags.SAMPLE_SIZE_PRESENT) {\n        writeInt32(data, this.offset + offset, sample.size);\n        offset += 4;\n      }\n      if (flags & TrackRunFlags.SAMPLE_FLAGS_PRESENT) {\n        writeInt32(data, this.offset + offset, sample.flags);\n        offset += 4;\n      }\n      if (flags & TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET) {\n        writeInt32(data, this.offset + offset, sample.compositionTimeOffset);\n        offset += 4;\n      }\n    }\n    return offset;\n  }\n}\n\nexport class MovieFragmentBox extends BoxContainerBox {\n  constructor (public header: MovieFragmentHeaderBox,\n                public trafs: TrackFragmentBox[]) {\n    super('moof', concatArrays<Box>([header], trafs));\n  }\n}\n\nexport class MediaDataBox extends Box {\n  constructor (public chunks: Uint8Array[]) {\n    super('mdat');\n  }\n\n  public layout (offset: number): number {\n    let size = super.layout(offset);\n    this.chunks.forEach((chunk) => {\n      size += chunk.length;\n    });\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    this.chunks.forEach((chunk) => {\n      data.set(chunk, this.offset + offset);\n      offset += chunk.length;\n    }, this);\n    return offset;\n  }\n}\n\nexport class SampleEntry extends Box {\n  constructor (format: string,\n                public dataReferenceIndex: number) {\n    super(format);\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 8;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, 0);\n    writeInt32(data, this.offset + offset + 4, this.dataReferenceIndex);\n    return offset + 8;\n  }\n}\n\nexport class AudioSampleEntry extends SampleEntry {\n  constructor (codingName: string,\n    dataReferenceIndex: number,\n                public channelCount: number = 2,\n                public sampleSize: number = 16,\n                public sampleRate: number = 44100,\n                public otherBoxes: Box[] = null) {\n    super(codingName, dataReferenceIndex);\n  }\n\n  public layout (offset: number): number {\n    let size = super.layout(offset) + 20;\n    this.otherBoxes && this.otherBoxes.forEach((box) => {\n      size += box.layout(offset + size);\n    });\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, 0);\n    writeInt32(data, this.offset + offset + 4, 0);\n    writeInt32(data, this.offset + offset + 8, (this.channelCount << 16) | this.sampleSize);\n    writeInt32(data, this.offset + offset + 12, 0);\n    writeInt32(data, this.offset + offset + 16, (this.sampleRate << 16));\n    offset += 20;\n    this.otherBoxes && this.otherBoxes.forEach((box) => {\n      offset += box.write(data);\n    });\n    return offset;\n  }\n}\n\nexport let COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH = 0x0018;\n\nexport class VideoSampleEntry extends SampleEntry {\n  constructor (codingName: string,\n    dataReferenceIndex: number,\n                public width: number,\n                public height: number,\n                public compressorName: string = '',\n                public horizResolution: number = 72,\n                public vertResolution: number = 72,\n                public frameCount: number = 1,\n                public depth: number = COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH,\n                public otherBoxes: Box[] = null) {\n    super(codingName, dataReferenceIndex);\n    if (compressorName.length > 31) {\n      throw new Error('invalid compressor name');\n    }\n  }\n\n  public layout (offset: number): number {\n    let size = super.layout(offset) + 16 + 12 + 4 + 2 + 32 + 2 + 2;\n    this.otherBoxes && this.otherBoxes.forEach((box) => {\n      size += box.layout(offset + size);\n    });\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, 0);\n    writeInt32(data, this.offset + offset + 4, 0);\n    writeInt32(data, this.offset + offset + 8, 0);\n    writeInt32(data, this.offset + offset + 12, 0);\n    offset += 16;\n    writeInt32(data, this.offset + offset, (this.width << 16) | this.height);\n    writeInt32(data, this.offset + offset + 4, encodeFloat_16_16(this.horizResolution));\n    writeInt32(data, this.offset + offset + 8, encodeFloat_16_16(this.vertResolution));\n    offset += 12;\n    writeInt32(data, this.offset + offset, 0);\n    writeInt32(data, this.offset + offset + 4, (this.frameCount << 16));\n    offset += 6; // weird offset\n    data[this.offset + offset] = this.compressorName.length;\n    for (let i = 0; i < 31; i++) {\n      data[this.offset + offset + i + 1] = i < this.compressorName.length ? (this.compressorName.charCodeAt(i) & 127) : 0;\n    }\n    offset += 32;\n    writeInt32(data, this.offset + offset, (this.depth << 16) | 0xFFFF);\n    offset += 4;\n    this.otherBoxes && this.otherBoxes.forEach((box) => {\n      offset += box.write(data);\n    });\n    return offset;\n  }\n}\n\nexport class RawTag extends Box {\n    public data: Uint8Array;\n\n    constructor (type: string, data: Uint8Array) {\n      super(type);\n      this.data = data;\n    }\n    public layout (offset: number): number {\n      this.size = super.layout(offset) + this.data.length;\n      return this.size;\n    }\n\n    public write (data: Uint8Array): number {\n      let offset = super.write(data);\n      data.set(this.data, this.offset + offset);\n      return offset + this.data.length;\n    }\n}\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mozilla-rtmpjs/mp4iso-boxes.ts","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { writeInt32, decodeInt32 } from '../../common-utils';\n\nexport class Box {\n  public offset: number;\n  public size: number;\n\n  public boxtype: string;\n  public userType: Uint8Array;\n\n  public constructor (boxtype: string, extendedType?: Uint8Array) {\n    this.boxtype = boxtype;\n    if (boxtype === 'uuid') {\n      this.userType = extendedType;\n    }\n  }\n\n  /**\n  offset Position where writing will start in the output array\n  {number} Size of the written data\n   */\n  public layout (offset: number): number {\n    this.offset = offset;\n    let size = 8;\n    if (this.userType) {\n      size += 16;\n    }\n    this.size = size;\n    return size;\n  }\n\n  /**\n  data Output array\n  {number} Amount of written bytes by this Box and its children only.\n   */\n  public write (data: Uint8Array): number {\n    writeInt32(data, this.offset, this.size);\n    writeInt32(data, this.offset + 4, decodeInt32(this.boxtype));\n    if (!this.userType) {\n      return 8;\n    }\n    data.set(this.userType, this.offset + 8);\n    return 24;\n  }\n\n  public toUint8Array (): Uint8Array {\n    let size = this.layout(0);\n    let data = new Uint8Array(size);\n    this.write(data);\n    return data;\n  }\n}\n\nexport class BoxContainerBox extends Box {\n  public children: Box[];\n  constructor (type: string, children: Box[]) {\n    super(type);\n    this.children = children;\n  }\n\n  public layout (offset: number): number {\n    let size = super.layout(offset);\n    this.children.forEach((child) => {\n      if (!child) {\n        return; // skipping undefined <- FIXME: weird\n      }\n      size += child.layout(offset + size);\n    });\n    return (this.size = size);\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    this.children.forEach((child) => {\n      if (!child) {\n        return; // skipping undefined <- FIXME: weird\n      }\n      offset += child.write(data);\n    });\n    return offset;\n  }\n}\n\nexport class FullBox extends Box {\n  public version: number;\n  public flags: number;\n\n  constructor (boxtype: string, version: number = 0, flags: number = 0) {\n    super(boxtype);\n    this.version = version;\n    this.flags = flags;\n  }\n\n  public layout (offset: number): number {\n    this.size = super.layout(offset) + 4;\n    return this.size;\n  }\n\n  public write (data: Uint8Array): number {\n    let offset = super.write(data);\n    writeInt32(data, this.offset + offset, (this.version << 24) | this.flags);\n    return offset + 4;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mozilla-rtmpjs/mp4iso-base.ts","import { Processor } from '../core/processor';\nimport { InputSocket, SocketDescriptor, SocketType, SocketTemplateGenerator } from '../core/socket';\nimport { Packet, PacketSymbol } from '../core/packet';\n\nimport {\n  Fmp4Remuxer,\n  Fmp4RemuxerEvent,\n  Fmp4RemuxerConfig,\n  Fmp4RemuxerAudioTrack,\n  Fmp4RemuxerVideoTrack,\n  Fmp4RemuxerTrackState,\n  Fmp4RemuxerPayloadSegmentData\n} from './hlsjs-fmp4-mux/mp4-remuxer';\n\nimport { BufferSlice } from '../core/buffer';\nimport { getLogger } from '../logger';\nimport { PayloadCodec } from '../core/payload-description';\nimport { dispatchAsyncTask } from '../common-utils';\nimport { BufferProperties } from '../core/buffer-props';\n\nconst { log } = getLogger('MP4MuxHlsjsProcessor');\n\nconst config: Fmp4RemuxerConfig = {\n  maxBufferHole: 1.5,\n  maxAudioFramesDrift: 2,\n  stretchShortVideoTrack: false\n};\n\nconst getSocketDescriptor: SocketTemplateGenerator =\n  SocketDescriptor.createTemplateGenerator(\n      SocketDescriptor.fromMimeTypes('audio/mpeg', 'audio/aac', 'video/aac'), // valid inputs\n      SocketDescriptor.fromMimeTypes('audio/mp4', 'video/mp4')); // possible output\n\nexport class MP4MuxHlsjsProcessor extends Processor {\n\n  static getName(): string { return 'MP4MuxHlsjsProcessor' }\n\n  private _fmp4Remux: Fmp4Remuxer = new Fmp4Remuxer(\n    this._onFmp4RemuxerEvent.bind(this),\n    config\n  );\n\n  private _videoTrack: Fmp4RemuxerVideoTrack = {\n    type: 'video',\n    id: 1,\n    duration: 10,\n    samples: [],\n    inputTimeScale: 90000,\n    timescale: 90000,\n    sps: null,\n    pps: null,\n    codec: null,\n    width: 0,\n    height: 0,\n    dropped: 0,\n    sequenceNumber: 0,\n    pixelRatio: [1, 1],\n\n    len: 0,\n    nbNalu: 0\n  };\n\n  private _audioTrack: Fmp4RemuxerAudioTrack = {\n    type: 'audio',\n    id: 2,\n    duration: 10,\n    codec: null,\n    timescale: 90000,\n    samples: [],\n    config: null,\n    samplerate: 44100,\n    isAAC: true,\n    channelCount: 2,\n    inputTimeScale: 90000,\n    sequenceNumber: 0,\n    manifestCodec: null,\n\n    len: 0,\n    nbNalu: 0\n  }\n\n  private _videoTrackPacketIndex: number = 0;\n  private _audioTrackPacketIndex: number = 0;\n\n  private _flushSymbolCnt: number = 0;\n\n  private _firstVideoDts: number = null;\n  private _firstAudioDts: number = null;\n\n  constructor () {\n    super();\n    this.createOutput();\n  }\n\n  templateSocketDescriptor (st: SocketType): SocketDescriptor {\n    return getSocketDescriptor(st);\n  }\n\n  protected processTransfer_ (inS: InputSocket, p: Packet) {\n\n    p.forEachBufferSlice((bufferSlice: BufferSlice) => {\n\n      const {codec} = bufferSlice.props;\n\n      if (PayloadCodec.isAvc(codec)) {\n\n        if (bufferSlice.props.isBitstreamHeader) {\n          // note: per spec, sps/pps can be several buffers\n          if (bufferSlice.props.tags.has('sps')) {\n            this._videoTrack.sps = [bufferSlice.getUint8Array()];\n          } else if (bufferSlice.props.tags.has('pps')) {\n            this._videoTrack.pps = [bufferSlice.getUint8Array()];\n          }\n\n          this._videoTrack.width = bufferSlice.props.details.width;\n          this._videoTrack.height = bufferSlice.props.details.height;\n          this._videoTrack.codec = bufferSlice.props.codec;\n\n          // outside of setting codec/metadata on our track model\n          // we don't need to do anything with this\n          return;\n        }\n\n        if (this._firstVideoDts === null) {\n          log('first video dts:', p.getNormalizedDts(), p.presentationTimeOffset)\n          this._firstVideoDts = p.timestamp;\n        }\n\n        this._videoTrack.samples.push({\n          pts: p.getPresentationTimestamp(),\n          dts: p.timestamp,\n          length: 1,\n          id: this._videoTrackPacketIndex,\n          units: [{ data: bufferSlice.getUint8Array() }],\n          key: bufferSlice.props.isKeyframe\n        });\n        // this._videoTrack.len++; // FIXME\n\n        this._videoTrackPacketIndex++;\n\n      } else if (PayloadCodec.isAac(codec)) {\n\n        // log(p, bufferSlice);\n\n        // FIXME: we are resetting this on every sample, once would be enough\n        //\n        this._audioTrack.codec = codec;\n        this._audioTrack.manifestCodec = codec;\n        this._audioTrack.config = <number[]> bufferSlice.props.details.codecConfigurationData;\n\n        if (this._firstAudioDts === null) {\n          log('first audio dts:', p.getNormalizedDts(), p.presentationTimeOffset)\n          this._firstAudioDts = p.timestamp;\n        }\n\n        this._audioTrack.samples.push({\n          pts: p.getPresentationTimestamp(),\n          dts: p.timestamp,\n          length: 1,\n          id: this._audioTrackPacketIndex,\n          units: [{ data: bufferSlice.getUint8Array() }],\n          key: bufferSlice.props.isKeyframe\n        });\n        this._audioTrack.len += bufferSlice.length; // FIXME\n\n        this._audioTrackPacketIndex++;\n\n      } else if (true /* TODO: support mp3/mpegaudio */) {\n\n        this._audioTrack.isAAC = false;\n\n      }\n\n    });\n\n    return true;\n  }\n\n  /**\n   * @override\n  symbol\n   */\n  protected handleSymbolicPacket_ (symbol: PacketSymbol): boolean {\n\n    if (symbol === PacketSymbol.FLUSH) {\n\n      this._flushSymbolCnt++;\n\n      log('received flush symbol');\n\n      if (this._flushSymbolCnt === this.in.length) {\n        this._flushSymbolCnt = 0;\n        this._flush();\n      }\n    }\n\n    return false;\n    // return super.handleSymbolicPacket_(symbol);\n  }\n\n  private _onFmp4RemuxerEvent (event: Fmp4RemuxerEvent, data) {\n    switch (event) {\n      case Fmp4RemuxerEvent.GOT_INIT_PTS_VALUE:\n        log('got init-pts value:', data)\n        break;\n      case Fmp4RemuxerEvent.WROTE_INIT_SEGMENT: {\n        const tracks: Fmp4RemuxerTrackState = data.tracks;\n\n        if (tracks.audio) {\n          log('got init data for a new audio track')\n\n          const bs: BufferSlice = BufferSlice.fromTypedArray(tracks.audio.initSegment);\n\n          const props = new BufferProperties(tracks.audio.container);\n          props.codec = tracks.audio.codec;\n          props.details.numChannels = tracks.audio.metadata.channelCount;\n\n          bs.props = props;\n\n          const p: Packet = Packet.fromSlice(bs);\n          p.timestamp = 0;\n\n          log('transferring init-data mp4 audio packet of', p.getTotalBytes(), 'bytes');\n\n          this.out[0].transfer(p);\n        }\n\n        if (tracks.video) {\n          log('got init data for a new video track')\n\n          const bs: BufferSlice = BufferSlice.fromTypedArray(tracks.video.initSegment);\n\n          const props = new BufferProperties(tracks.video.container);\n          props.codec = tracks.video.codec;\n          props.details.width = tracks.video.metadata.width;\n          props.details.height = tracks.video.metadata.height;\n\n          bs.props = props;\n\n          const p: Packet = Packet.fromSlice(bs);\n          p.timestamp = 0;\n\n          log('transferring init-data mp4 video packet of', p.getTotalBytes(), 'bytes');\n\n          this.out[0].transfer(p);\n        }\n\n        break;\n      }\n      case Fmp4RemuxerEvent.WROTE_PAYLOAD_SEGMENT: {\n        const payloadData: Fmp4RemuxerPayloadSegmentData = data;\n\n        log('got mp4 fragment-data with payload-type:', payloadData.payloadType);\n\n        const props: BufferProperties = new BufferProperties(payloadData.payloadType + '/mp4');\n\n        props.codec = payloadData.codec;\n        props.samplesCount = payloadData.nbOfSamples;\n\n        const moof: BufferSlice = BufferSlice.fromTypedArray(payloadData.fragmentHeader, props);\n        const mdat: BufferSlice = BufferSlice.fromTypedArray(payloadData.fragmentData, props);\n\n        const p: Packet = Packet.fromSlices(0, 0, moof, mdat);\n\n        log('transferring payload-data mp4 packet of', p.getTotalBytes(), 'bytes, type:', payloadData.payloadType);\n\n        this.out[0].transfer(p);\n        break;\n      }\n    }\n  }\n\n  private _flush () {\n    if (this._videoTrackPacketIndex === 0) {\n      return;\n    }\n    log('flushing at a/v packets:', this._videoTrackPacketIndex, this._audioTrackPacketIndex);\n\n    dispatchAsyncTask(() => this._fmp4Remux.process(this._audioTrack, this._videoTrack, null, null, 0, true, true));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mp4-mux-hlsjs.processor.ts","import { MpegTSDemuxer } from './demuxer/ts/mpegts-demuxer';\nimport { Mp4Demuxer } from './demuxer/mp4/mp4-demuxer';\nimport { WebMDemuxer } from './demuxer/webm/webm-demuxer';\nimport { WebWorker } from './utils/web-worker';\n\nexport { MpegTSDemuxer } from './demuxer/ts/mpegts-demuxer';\nexport { Mp4Demuxer } from './demuxer/mp4/mp4-demuxer';\nexport { WebMDemuxer } from './demuxer/webm/webm-demuxer';\nexport { FrameRate, Size } from './codecs/video-types';\nexport { IDemuxer, TracksHash } from './demuxer/demuxer';\nexport { Track } from './demuxer/track';\nexport { Frame } from './demuxer/frame';\nexport { Atom, ContainerAtom } from './demuxer/mp4/atoms/atom';\nexport { TSTrack } from './demuxer/ts/ts-track';\n\nexport function createMpegTSDemuxer(): MpegTSDemuxer { // Q: these methods should return IDemuxer to maintain abstraction solid?\n    return new MpegTSDemuxer();\n}\n\nexport function createMp4Demuxer(): Mp4Demuxer {\n    return new Mp4Demuxer();\n}\n\nexport function createWebMDemuxer(): WebMDemuxer {\n    return new WebMDemuxer();\n}\n\nexport enum InspectorActionType {\n    CREATE_MP4_DEMUX_JOB = 'CREATE_MP4_DEMUX_JOB',\n    CREATE_MP4_DEMUX_JOB_RESPONSE = 'CREATE_MP4_DEMUX_JOB_RESPONSE',\n    CREATE_MPEGTS_DEMUX_JOB = 'CREATE_MPEGTS_DEMUX_JOB',\n    CREATE_MPEGTS_DEMUX_JOB_RESPONSE = 'CREATE_MPEGTS_DEMUX_JOB_RESPONSE',\n    CREATE_WEBM_DEMUX_JOB = 'CREATE_WEBM_DEMUX_JOB',\n    CREATE_WEBM_DEMUX_JOB_RESPONSE = 'CREATE_WEBM_DEMUX_JOB_RESPONSE',\n    EXECUTE_JOB_APPEND = 'EXECUTE_JOB_APPEND',\n    EXECUTE_JOB_APPEND_RESPONSE = 'EXECUTE_JOB_APPEND_RESPONSE',\n    END_JOB = 'END_JOB',\n    END_JOB_RESPONSE = 'END_JOB_RESPONSE',\n}\n\nexport interface InspectorAction {\n    type: InspectorActionType;\n    job: string;\n    data: any;\n}\n\ndeclare var global: any;\nglobal.onmessage = WebWorker.onMessage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/index.ts","import { BitReader } from '../../utils/bit-reader';\nimport { PESReader } from './pes-reader';\nimport { TSTrack } from './ts-track';\nimport { Track } from '../track';\nimport { IDemuxer } from '../demuxer';\n\nenum CONTAINER_TYPE {\n    UNKNOWN = 1,\n    MPEG_TS,\n    RAW_AAC,\n    RAW_MPEG_AUDIO\n}\n\nexport class MpegTSDemuxer implements IDemuxer {\n    private static MPEGTS_SYNC: number = 0x47;\n    private static MPEGTS_PACKET_SIZE: number = 187;\n\n    public tracks: { [id: number] : TSTrack; };\n\n    private data: Uint8Array;\n    private dataOffset: number;\n    private containerType: number;\n    private pmtParsed: boolean;\n    private packetsCount: number;\n    private pmtId: number;\n\n    constructor () {\n        this.containerType = CONTAINER_TYPE.UNKNOWN;\n        this.pmtParsed = false;\n        this.packetsCount = 0;\n        this.pmtId = -1;\n        this.tracks = {};\n    }\n\n    public append(data: Uint8Array): void {\n        if (!this.data || this.data.byteLength === 0 || this.dataOffset >= this.data.byteLength) {\n            this.data = data;\n            this.dataOffset = 0;\n        } else {\n            const newLen: number = this.data.byteLength + data.byteLength;\n            const temp: Uint8Array = new Uint8Array(newLen);\n            temp.set(this.data, 0);\n            temp.set(data, this.data.byteLength);\n            this.data = temp;\n        }\n\n        this.parse();\n\n        if (this.dataOffset > 0) {\n            this.data = this.data.subarray(this.dataOffset);\n            this.dataOffset = 0;\n        }\n\n        this.updateTracks();\n    }\n\n    public end(): void {\n        for (const trackId in this.tracks) {\n            if (this.tracks.hasOwnProperty(trackId)) {\n                (this.tracks[trackId] as TSTrack).pes.flush();\n                this.tracks[trackId].update();\n            }\n        }\n        this.data = null;\n    }\n\n    private parse(): void {\n        this.findContainerType();\n\n        if (this.containerType === CONTAINER_TYPE.MPEG_TS) {\n            this.readHeader();\n            this.readSamples();\n        } else { // FIXME: support raw mpeg audio\n            const dataParser: BitReader = new BitReader(this.data);\n            this.tracks[0] = new TSTrack(0, Track.TYPE_AUDIO, Track.MIME_TYPE_AAC,\n                new PESReader(0, PESReader.TS_STREAM_TYPE_AAC));\n            (this.tracks[0] as TSTrack).pes.appendData(false, dataParser);\n        }\n    }\n\n    private updateTracks(): void {\n        for (const trackId in this.tracks) {\n            if (this.tracks.hasOwnProperty(trackId)) {\n                this.tracks[trackId].update();\n            }\n        }\n    }\n\n    private resetTracks(): void {\n        for (let id in this.tracks) {\n            if (this.tracks.hasOwnProperty(id)) {\n                (this.tracks[id] as TSTrack).pes.reset();\n            }\n        }\n    }\n\n    private findContainerType(): void {\n        while (this.dataOffset < this.data.byteLength) {\n            if (this.data[this.dataOffset] === MpegTSDemuxer.MPEGTS_SYNC) {\n                this.containerType = CONTAINER_TYPE.MPEG_TS;\n                break;\n            } else if ((this.data.byteLength - this.dataOffset) >= 4) {\n                const dataRead: number = (this.data[this.dataOffset] << 8) | (this.data[this.dataOffset + 1]);\n                if (dataRead === 0x4944 || (dataRead & 0xfff6) === 0xfff0) {\n                    this.containerType = CONTAINER_TYPE.RAW_AAC;\n                    break;\n                }\n            }\n            this.dataOffset++;\n        }\n\n        if (this.containerType === CONTAINER_TYPE.UNKNOWN) {\n            throw new Error('Format not supported');\n        }\n    }\n\n    private readHeader(): void {\n        while (this.dataOffset < this.data.byteLength - 1) {\n            const byteRead: number = this.data[this.dataOffset];\n            this.dataOffset++;\n\n            if (byteRead === MpegTSDemuxer.MPEGTS_SYNC\n                && (this.data.byteLength - this.dataOffset) >= MpegTSDemuxer.MPEGTS_PACKET_SIZE) {\n\n                const packet: Uint8Array = this.data.subarray(this.dataOffset,\n                    this.dataOffset + MpegTSDemuxer.MPEGTS_PACKET_SIZE);\n                this.dataOffset += MpegTSDemuxer.MPEGTS_PACKET_SIZE;\n\n                this.processTSPacket(packet);\n\n                if (this.pmtParsed) {\n                    break;\n                }\n            }\n        }\n    }\n\n    private readSamples(): void {\n        while (this.dataOffset < this.data.byteLength - 1) {\n            const byteRead: number = this.data[this.dataOffset++];\n\n            if (byteRead === MpegTSDemuxer.MPEGTS_SYNC\n                && (this.data.byteLength - this.dataOffset) >= MpegTSDemuxer.MPEGTS_PACKET_SIZE) {\n\n                const packet: Uint8Array = this.data.subarray(this.dataOffset, this.dataOffset\n                    + MpegTSDemuxer.MPEGTS_PACKET_SIZE);\n                this.dataOffset += MpegTSDemuxer.MPEGTS_PACKET_SIZE;\n\n                this.processTSPacket(packet);\n            }\n        }\n    }\n\n    private processTSPacket(packet: Uint8Array): void {\n\n        console.log('packet found at offset:', packet.byteOffset)\n\n        this.packetsCount++;\n\n        const packetParser: BitReader = new BitReader(packet);\n        packetParser.skipBits(1);\n\n        const payloadUnitStartIndicator: boolean = (packetParser.readBits(1) !== 0);\n        packetParser.skipBits(1);\n\n        const pid: number = packetParser.readBits(13);\n        const adaptationField: number = (packetParser.readByte() & 0x30) >> 4;\n        if (adaptationField > 1) {\n            const length: number = packetParser.readByte();\n            if (length > 0) {\n                packetParser.skipBytes(length);\n            }\n        }\n        if (adaptationField === 1 || adaptationField === 3) {\n            if (pid === 0) {\n                this.parseProgramId(payloadUnitStartIndicator, packetParser);\n            } else if (pid === this.pmtId) {\n                this.parseProgramTable(payloadUnitStartIndicator, packetParser);\n            } else {\n                const track: TSTrack = this.tracks[pid] as TSTrack;\n                if (track && track.pes) {\n                    track.pes.appendData(payloadUnitStartIndicator, packetParser);\n                }\n            }\n        }\n    }\n\n    private parseProgramId(payloadUnitStartIndicator: boolean, packetParser: BitReader): void {\n        if (payloadUnitStartIndicator) {\n            packetParser.skipBytes(packetParser.readByte());\n        }\n        packetParser.skipBits(27 + 7 * 8);\n        this.pmtId = packetParser.readBits(13);\n    }\n\n    private parseProgramTable(payloadUnitStartIndicator: boolean, packetParser: BitReader): void {\n        if (payloadUnitStartIndicator) {\n            packetParser.skipBytes(packetParser.readByte());\n        }\n\n        packetParser.skipBits(12);\n        const sectionLength: number = packetParser.readBits(12);\n        packetParser.skipBits(4 + 7 * 8);\n        const programInfoLength: number = packetParser.readBits(12);\n        packetParser.skipBytes(programInfoLength);\n        let bytesRemaining: number = sectionLength - 9 - programInfoLength - 4;\n\n        while (bytesRemaining > 0) {\n            const streamType: number = packetParser.readBits(8);\n            packetParser.skipBits(3);\n            const elementaryPid: number = packetParser.readBits(13);\n            packetParser.skipBits(4);\n            const infoLength: number = packetParser.readBits(12);\n            packetParser.skipBytes(infoLength);\n            bytesRemaining -= infoLength + 5;\n            if (!this.tracks[elementaryPid]) {\n                const pes: PESReader = new PESReader(elementaryPid, streamType);\n                let type: string;\n                let mimeType: string;\n                if (streamType === PESReader.TS_STREAM_TYPE_AAC) {\n                    type = Track.TYPE_AUDIO;\n                    mimeType = Track.MIME_TYPE_AAC;\n                } else if (streamType === PESReader.TS_STREAM_TYPE_H264) {\n                    type = Track.TYPE_VIDEO;\n                    mimeType = Track.MIME_TYPE_AVC;\n                } else if (streamType === PESReader.TS_STREAM_TYPE_ID3) {\n                    type = Track.TYPE_TEXT;\n                    mimeType = Track.MIME_TYPE_ID3;\n                } else if (streamType === PESReader.TS_STREAM_TYPE_MPA || streamType === PESReader.TS_STREAM_TYPE_MPA_LSF) {\n                    type = Track.TYPE_AUDIO;\n                    mimeType = Track.MIME_TYPE_MPEG;\n                } else if (streamType === PESReader.TS_STREAM_TYPE_METADATA) {\n                    // do nothing\n                } else {\n                    type = Track.TYPE_UNKNOWN;\n                    mimeType = Track.MIME_TYPE_UNKNOWN;\n                }\n                this.tracks[elementaryPid] = new TSTrack(elementaryPid, type, mimeType, pes);\n            }\n        }\n        this.pmtParsed = true;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/mpegts-demuxer.ts","import { BitReader } from '../../../utils/bit-reader';\nimport { PayloadReader } from './payload-reader';\nimport { Frame } from '../../frame';\nimport { Track } from '../../track';\n\nenum State {\n    FIND_SYNC = 1,\n    READ_HEADER = 2,\n    READ_FRAME = 3\n}\n\nexport class AdtsReader extends PayloadReader {\n    private static ADTS_HEADER_SIZE: number = 5;\n    private static ADTS_SYNC_SIZE: number = 2;\n    private static ADTS_CRC_SIZE: number = 2;\n\n    private static ADTS_SAMPLE_RATES: number[] = [96000, 88200, 64000, 48000,\n        44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\n    public channels: number;\n    public sampleRate: number;\n    public frameDuration: number;\n    public currentFrameSize: number;\n\n    private state: State;\n\n    constructor () {\n        super();\n        this.channels = 0;\n        this.sampleRate = 0;\n        this.frameDuration = 0;\n        this.currentFrameSize = 0;\n        this.state = State.FIND_SYNC;\n        this.dataOffset = 0;\n    }\n\n    public getMimeType(): string {\n        return Track.MIME_TYPE_AAC;\n    }\n\n    public consumeData(pts: number): void {\n        if (!this.dataBuffer) {\n            return;\n        }\n        if (pts >= 0) {\n            this.timeUs = pts;\n        }\n\n        if (this.firstTimestamp === -1) {\n            this.firstTimestamp = this.timeUs;\n        }\n\n        while (this.dataOffset < this.dataBuffer.byteLength) {\n            if (this.state === State.FIND_SYNC) {\n                this.findNextSync();\n            } else if (this.state === State.READ_HEADER) {\n                if (this.dataBuffer.byteLength - this.dataOffset < (AdtsReader.ADTS_HEADER_SIZE +\n                    AdtsReader.ADTS_SYNC_SIZE)) {\n                    break;\n                }\n                this.parseAACHeader();\n            } else if (this.state === State.READ_FRAME) {\n                if ((this.dataBuffer.byteLength - this.dataOffset) < (AdtsReader.ADTS_SYNC_SIZE +\n                    AdtsReader.ADTS_HEADER_SIZE + this.currentFrameSize)) {\n                    break;\n                }\n                this.frames.push(new Frame(Frame.IDR_FRAME, this.timeUs, this.currentFrameSize,\n                        this.frameDuration, this.dataOffset));\n                this.timeUs = this.timeUs + this.frameDuration;\n\n                this.dataOffset += (AdtsReader.ADTS_SYNC_SIZE + AdtsReader.ADTS_HEADER_SIZE +\n                    this.currentFrameSize);\n                this.state = State.FIND_SYNC;\n            }\n        }\n\n        this.dataBuffer = this.dataBuffer.subarray(this.dataOffset);\n        this.dataOffset = 0;\n    }\n\n    private findNextSync(): void {\n        const limit: number = this.dataBuffer.byteLength - 1;\n        for (let i: number = this.dataOffset; i < limit; i++) {\n            const dataRead: number = (((this.dataBuffer[i]) << 8) | (this.dataBuffer[i + 1]));\n            if ((dataRead & 0xfff6) === 0xfff0) {\n                this.dataOffset = i;\n                if (this.dataOffset < this.dataBuffer.byteLength) {\n                    this.state = State.READ_HEADER;\n                }\n                return;\n            }\n        }\n\n        this.dataOffset = this.dataBuffer.byteLength;\n    }\n\n    private parseAACHeader(): void {\n        const aacHeaderParser: BitReader = new BitReader(this.dataBuffer.subarray(this.dataOffset,\n            this.dataOffset + AdtsReader.ADTS_SYNC_SIZE + AdtsReader.ADTS_HEADER_SIZE));\n\n        aacHeaderParser.skipBits(15);\n        const hasCrc: boolean = !aacHeaderParser.readBool();\n        aacHeaderParser.skipBits(2);\n        const sampleRateIndex: number = aacHeaderParser.readBits(4);\n        if (sampleRateIndex < AdtsReader.ADTS_SAMPLE_RATES.length) {\n            this.sampleRate = AdtsReader.ADTS_SAMPLE_RATES[sampleRateIndex];\n        } else {\n            this.sampleRate = sampleRateIndex;\n        }\n\n        this.frameDuration = (1000000 * 1024) / this.sampleRate;\n\n        aacHeaderParser.skipBits(1);\n        this.channels = aacHeaderParser.readBits(3);\n\n        aacHeaderParser.skipBits(4);\n        this.currentFrameSize = aacHeaderParser.readBits(13) - AdtsReader.ADTS_HEADER_SIZE\n            - AdtsReader.ADTS_SYNC_SIZE;\n\n        if (hasCrc) {\n            this.currentFrameSize -= AdtsReader.ADTS_CRC_SIZE;\n        }\n\n        this.state = State.READ_FRAME;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/payload/adts-reader.ts","import { BitReader } from '../../../utils/bit-reader';\nimport { PayloadReader } from './payload-reader';\nimport { Frame } from '../../frame';\nimport { Track } from '../../track';\nimport { SPSParser } from '../../../codecs/h264/sps-parser';\nimport { Sps } from '../../../codecs/h264/nal-units';\n\nenum NAL_UNIT_TYPE {\n    SLICE = 1,\n    DPA,\n    DPB,\n    DPC,\n    IDR,\n    SEI,\n    SPS,\n    PPS,\n    AUD,\n    END_SEQUENCE,\n    END_STREAM\n}\n\nenum SLICE_TYPE {\n    P = 0,\n    B,\n    I,\n    SP,\n    SI\n}\n\nexport class Fraction {\n    constructor(public num: number, public den: number) {\n        // do nothing\n    }\n}\n\nexport class H264Reader extends PayloadReader {\n    public sps: Sps;\n    public pps: boolean;\n    public pendingBytes: number;\n\n    private frameBytesOffset: number;\n\n    constructor() {\n        super();\n        this.pendingBytes = 0;\n    }\n\n    public getMimeType(): string {\n        return Track.MIME_TYPE_AVC;\n    }\n\n    public flush(pts: number): void {\n        if (this.dataBuffer.byteLength > 0) {\n            this.consumeData(pts);\n\n            if (this.dataBuffer.byteLength > 0) {\n                const offset: number = this.findNextNALUnit(0);\n                if (offset < this.dataBuffer.byteLength) {\n                    this.frameBytesOffset = this.getFirstPacketDataOffset() + this.dataOffset + offset;\n                    this.processNALUnit(offset, this.dataBuffer.byteLength, this.dataBuffer[offset + 3] & 0x1F);\n                }\n            }\n        }\n    }\n\n    public reset(): void {\n        super.reset();\n\n        this.sps = null;\n        this.pps = false;\n    }\n\n    public consumeData(pts: number): void {\n\n        console.log('consumeData');\n\n        if (!this.dataBuffer) {\n            return;\n        }\n        if (this.firstTimestamp === -1) {\n            this.timeUs = this.firstTimestamp = pts;\n        }\n\n        // process any possible remaining data\n        let nextNalUnit: number = 0;\n        let offset: number = 0;\n        if (this.pendingBytes > 0) {\n            nextNalUnit = this.findNextNALUnit(this.pendingBytes);\n            if (nextNalUnit < this.dataBuffer.byteLength) {\n                this.frameBytesOffset = this.getFirstPacketDataOffset() + this.dataOffset + 0;\n                this.processNALUnit(0, nextNalUnit, this.dataBuffer[offset + 3] & 0x1F);\n                offset = nextNalUnit;\n            }\n            this.pendingBytes = 0;\n        } else {\n            offset = this.findNextNALUnit(0);\n        }\n\n        // process next nal units in the buffer\n        if (pts !== -1) {\n            this.timeUs = pts;\n        }\n\n        if (this.dataBuffer.byteLength > 0) {\n            while (nextNalUnit < this.dataBuffer.byteLength) {\n                nextNalUnit = this.findNextNALUnit(offset + 3);\n                this.frameBytesOffset = this.getFirstPacketDataOffset() + this.dataOffset + offset;\n                this.processNALUnit(offset, nextNalUnit, this.dataBuffer[offset + 3] & 0x1F);\n                offset = nextNalUnit;\n            }\n\n            console.log('shifting buffer:', offset)\n\n            this.dataOffset += offset;\n            this.dataBuffer = this.dataBuffer.subarray(offset);\n            this.pendingBytes = this.dataBuffer.byteLength;\n        }\n    }\n\n    private findNextNALUnit(index: number): number {\n        const limit: number = this.dataBuffer.byteLength - 3;\n        for (let i: number = index; i < limit; i++) {\n            if (this.dataBuffer[i] === 0 && this.dataBuffer[i + 1] === 0 && this.dataBuffer[i + 2] === 1) {\n                return i;\n            }\n        }\n\n        return this.dataBuffer.byteLength;\n    }\n\n    private processNALUnit(start: number, limit: number, nalType: number): void {\n        if (nalType === NAL_UNIT_TYPE.SPS) {\n            this.parseSPSNALUnit(start, limit);\n        } else if (nalType === NAL_UNIT_TYPE.PPS) {\n            this.pps = true;\n        } else if (nalType === NAL_UNIT_TYPE.AUD) {\n            this.parseAUDNALUnit(start, limit);\n        } else if (nalType === NAL_UNIT_TYPE.IDR) {\n            this.addNewFrame(Frame.IDR_FRAME, limit - start, NaN);\n        } else if (nalType === NAL_UNIT_TYPE.SEI) {\n            this.parseSEINALUnit(start, limit);\n        } else if (nalType === NAL_UNIT_TYPE.SLICE) {\n            this.parseSliceNALUnit(start, limit);\n        }\n    }\n\n    private parseSPSNALUnit(start: number, limit: number): void {\n        this.sps = SPSParser.parseSPS(this.dataBuffer.subarray(start + 4, limit));\n    }\n\n    private skipScalingList(parser: BitReader, size: number): void {\n        let lastScale: number = 8;\n        let nextScale: number = 8;\n        for (let i: number = 0; i < size; i++) {\n            if (nextScale !== 0) {\n                const deltaScale: number = parser.readSEG();\n                nextScale = (lastScale + deltaScale + 256) % 256;\n            }\n            if (nextScale !== 0) {\n                lastScale = nextScale;\n            }\n        }\n    }\n\n    private parseSEINALUnit(start: number, limit: number): void {\n        let seiParser: BitReader = new BitReader(this.dataBuffer.subarray(start, limit));\n        seiParser.skipBytes(4);\n\n        while (seiParser.remainingBytes() > 0) {\n            const data: number = seiParser.readByte();\n            if (data !== 0xFF) {\n                break;\n            }\n        }\n\n        // parse payload size\n        while (seiParser.remainingBytes() > 0) {\n            const data: number = seiParser.readByte();\n            if (data !== 0xFF) {\n                break;\n            }\n        }\n\n        seiParser.destroy();\n        seiParser = null;\n    }\n\n    private parseSliceNALUnit(start: number, limit: number): void {\n        let sliceParser: BitReader = new BitReader(this.dataBuffer.subarray(start, limit));\n        sliceParser.skipBytes(4);\n        sliceParser.readUEG();\n        const sliceType: number = sliceParser.readUEG();\n        const type: string = this.getSliceTypeName(sliceType);\n        if (this.sps && this.pps) {\n            this.addNewFrame(type, limit - start, NaN);\n        } else {\n            // console.warn('Slice ' + type + ' received without sps/pps been set');\n        }\n        sliceParser.destroy();\n        sliceParser = null;\n    }\n\n    private parseAUDNALUnit(start: number, limit: number): void {\n        // const audParser: BitReader = new BitReader(this.dataBuffer.subarray(start, limit));\n        // audParser.skipBytes(4);\n    }\n\n    private getSliceTypeName(sliceType: number): string {\n        if (sliceType > 4) {\n            sliceType = sliceType - 5;\n        }\n        switch (sliceType) {\n            case SLICE_TYPE.B:\n                return Frame.B_FRAME;\n            case SLICE_TYPE.I:\n                return Frame.IDR_FRAME;\n            case SLICE_TYPE.P:\n                return Frame.P_FRAME;\n            case SLICE_TYPE.SI:\n                return 'SI';\n            case SLICE_TYPE.SP:\n                return 'SP';\n            default:\n                return 'Unknown';\n        }\n    }\n\n    private getNALUnitName(nalType: number): string {\n        switch (nalType) {\n            case NAL_UNIT_TYPE.SLICE:\n                return 'SLICE';\n            case NAL_UNIT_TYPE.SEI:\n                return 'SEI';\n            case NAL_UNIT_TYPE.PPS:\n                return 'PPS';\n            case NAL_UNIT_TYPE.SPS:\n                return 'SPS';\n            case NAL_UNIT_TYPE.AUD:\n                return 'AUD';\n            case NAL_UNIT_TYPE.IDR:\n                return 'IDR';\n            case NAL_UNIT_TYPE.END_SEQUENCE:\n                return 'END SEQUENCE';\n            case NAL_UNIT_TYPE.END_STREAM:\n                return 'END STREAM';\n            default:\n                return 'Unknown';\n        }\n    }\n\n    private addNewFrame(frameType: string, frameSize: number, duration: number): void {\n\n        console.log('frame bytes offset:', this.frameBytesOffset)\n\n        const frame = new Frame(frameType, this.timeUs, frameSize, duration, this.frameBytesOffset);\n        this.frames.push(frame);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/payload/h264-reader.ts","import { BitReader } from '../../utils/bit-reader';\nimport { Sps } from './nal-units';\nimport { Size, FrameRate } from '../video-types';\n\nexport class SPSParser {\n    public static parseSPS(data: Uint8Array): Sps {\n        let gb: BitReader = new BitReader(data);\n        const profile_idc: number = gb.readByte();\n        gb.readByte();\n        const level_idc: number = gb.readByte();\n        gb.readUEG();\n\n        const profile_string: string = SPSParser.getProfileString(profile_idc);\n        const level_string: string = SPSParser.getLevelString(level_idc);\n        let chroma_format_idc: number = 1;\n        let chroma_format: number = 420;\n        let chroma_format_table: number[] = [0, 420, 422, 444];\n        let bit_depth: number = 8;\n\n        if (profile_idc === 100 || profile_idc === 110 || profile_idc === 122 ||\n            profile_idc === 244 || profile_idc === 44 || profile_idc === 83 ||\n            profile_idc === 86 || profile_idc === 118 || profile_idc === 128 ||\n            profile_idc === 138 || profile_idc === 144) {\n\n            chroma_format_idc = gb.readUEG();\n            if (chroma_format_idc === 3) {\n                gb.readBits(1);\n            }\n            if (chroma_format_idc <= 3) {\n                chroma_format = chroma_format_table[chroma_format_idc];\n            }\n\n            bit_depth = gb.readUEG() + 8;\n            gb.readUEG();\n            gb.readBits(1);\n            if (gb.readBool()) {\n                const scaling_list_count: number = (chroma_format_idc !== 3) ? 8 : 12;\n                for (let i: number = 0; i < scaling_list_count; i++) {\n                    if (gb.readBool()) {\n                        if (i < 6) {\n                            SPSParser.skipScalingList(gb, 16);\n                        } else {\n                            SPSParser.skipScalingList(gb, 64);\n                        }\n                    }\n                }\n            }\n        }\n        gb.readUEG();\n        let pic_order_cnt_type: number = gb.readUEG();\n        if (pic_order_cnt_type === 0) {\n            gb.readUEG();\n        } else if (pic_order_cnt_type === 1) {\n            gb.readBits(1);\n            gb.readSEG();\n            gb.readSEG();\n            const num_ref_frames_in_pic_order_cnt_cycle: number = gb.readUEG();\n            for (let i: number = 0; i < num_ref_frames_in_pic_order_cnt_cycle; i++) {\n                gb.readSEG();\n            }\n        }\n        gb.readUEG();\n        gb.readBits(1);\n\n        const pic_width_in_mbs_minus1: number = gb.readUEG();\n        const pic_height_in_map_units_minus1: number = gb.readUEG();\n\n        const frame_mbs_only_flag: number = gb.readBits(1);\n        if (frame_mbs_only_flag === 0) {\n            gb.readBits(1);\n        }\n        gb.readBits(1);\n\n        let frame_crop_left_offset: number = 0;\n        let frame_crop_right_offset: number = 0;\n        let frame_crop_top_offset: number = 0;\n        let frame_crop_bottom_offset: number = 0;\n\n        const frame_cropping_flag: boolean = gb.readBool();\n        if (frame_cropping_flag) {\n            frame_crop_left_offset = gb.readUEG();\n            frame_crop_right_offset = gb.readUEG();\n            frame_crop_top_offset = gb.readUEG();\n            frame_crop_bottom_offset = gb.readUEG();\n        }\n\n        let sar_width: number = 1, sar_height: number = 1;\n        let fps: number = 0, fps_fixed: boolean = true, fps_num: number = 0, fps_den: number = 0;\n\n        let vui_parameters_present_flag: boolean = gb.readBool();\n        if (vui_parameters_present_flag) {\n            if (gb.readBool()) {  // aspect_ratio_info_present_flag\n                const aspect_ratio_idc: number = gb.readByte();\n                const sar_w_table: number[] = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2];\n                const sar_h_table: number[] = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33,  99, 3, 2, 1];\n\n                if (aspect_ratio_idc > 0 && aspect_ratio_idc < 16) {\n                    sar_width = sar_w_table[aspect_ratio_idc - 1];\n                    sar_height = sar_h_table[aspect_ratio_idc - 1];\n                } else if (aspect_ratio_idc === 255) {\n                    sar_width = gb.readByte() << 8 | gb.readByte();\n                    sar_height = gb.readByte() << 8 | gb.readByte();\n                }\n            }\n\n            if (gb.readBool()) {\n                gb.readBool();\n            }\n            if (gb.readBool()) {\n                gb.readBits(4);\n                if (gb.readBool()) {\n                    gb.readBits(24);\n                }\n            }\n            if (gb.readBool()) {\n                gb.readUEG();\n                gb.readUEG();\n            }\n            if (gb.readBool()) {\n                const num_units_in_tick: number = gb.readBits(32);\n                const time_scale: number = gb.readBits(32);\n                fps_fixed = gb.readBool();\n\n                fps_num = time_scale;\n                fps_den = num_units_in_tick * 2;\n                fps = fps_num / fps_den;\n            }\n        }\n\n        let sarScale: number = 1;\n        if (sar_width !== 1 || sar_height !== 1) {\n            sarScale = sar_width / sar_height;\n        }\n\n        let crop_unit_x: number = 0, crop_unit_y: number = 0;\n        if (chroma_format_idc === 0) {\n            crop_unit_x = 1;\n            crop_unit_y = 2 - frame_mbs_only_flag;\n        } else {\n            const sub_wc: number = (chroma_format_idc === 3) ? 1 : 2;\n            const sub_hc: number = (chroma_format_idc === 1) ? 2 : 1;\n            crop_unit_x = sub_wc;\n            crop_unit_y = sub_hc * (2 - frame_mbs_only_flag);\n        }\n\n        let codec_width: number = (pic_width_in_mbs_minus1 + 1) * 16;\n        let codec_height: number = (2 - frame_mbs_only_flag) * ((pic_height_in_map_units_minus1 + 1) * 16);\n\n        codec_width -= (frame_crop_left_offset + frame_crop_right_offset) * crop_unit_x;\n        codec_height -= (frame_crop_top_offset + frame_crop_bottom_offset) * crop_unit_y;\n\n        const present_width: number = Math.ceil(codec_width * sarScale);\n\n        gb.destroy();\n        gb = null;\n\n        return new Sps(profile_string, level_string, bit_depth, chroma_format,\n            SPSParser.getChromaFormatString(chroma_format), new FrameRate(fps_fixed, fps, fps_den, fps_num),\n            new Size(sar_width, sar_height), new Size(codec_width, codec_height), new Size(present_width, codec_height));\n    }\n\n    private static getProfileString(profile_idc: number): string {\n        switch (profile_idc) {\n            case 66:\n                return 'Baseline';\n            case 77:\n                return 'Main';\n            case 88:\n                return 'Extended';\n            case 100:\n                return 'High';\n            case 110:\n                return 'High10';\n            case 122:\n                return 'High422';\n            case 244:\n                return 'High444';\n            default:\n                return 'Unknown';\n        }\n    }\n\n    private static getLevelString(level_idc: number): string {\n        return (level_idc / 10).toFixed(1);\n    }\n\n    private static getChromaFormatString(chroma: number): string {\n        switch (chroma) {\n            case 420:\n                return '4:2:0';\n            case 422:\n                return '4:2:2';\n            case 444:\n                return '4:4:4';\n            default:\n                return 'Unknown';\n        }\n    }\n\n    private static skipScalingList(gb: BitReader, count: number): void {\n        let last_scale: number = 8, next_scale: number = 8;\n        let delta_scale: number = 0;\n        for (let i: number = 0; i < count; i++) {\n            if (next_scale !== 0) {\n                delta_scale = gb.readSEG();\n                next_scale = (last_scale + delta_scale + 256) % 256;\n            }\n            last_scale = (next_scale === 0) ? last_scale : next_scale;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/codecs/h264/sps-parser.ts","export class FrameRate {\n    constructor (public fixed: boolean, public fps: number,\n        public fpsDen: number, public fpsNum: number) {\n            // do nothing\n        }\n}\n\nexport class Size {\n    constructor (public width: number, public height: number) {\n        // do nothing\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/codecs/video-types.ts","import { Track } from '../track';\nimport { Frame } from '../frame';\nimport { PESReader } from './pes-reader';\nimport { H264Reader } from './payload/h264-reader';\nimport { AdtsReader } from './payload/adts-reader';\nimport { Sps } from '../../codecs/h264/nal-units';\n\nexport class TSTrack extends Track {\n    constructor(id: number, type: string, mimeType: string, public pes: PESReader) {\n        super(id, type, mimeType);\n    }\n\n    public getDuration(): number {\n        if (this.pes && this.pes.payloadReader) {\n            return this.pes.payloadReader.getDuration();\n        }\n        return 0;\n    }\n\n    public getFrames(): Frame[] {\n        if (this.pes && this.pes.payloadReader) {\n            return this.pes.payloadReader.frames;\n        }\n        return [];\n    }\n\n    public getMetadata(): {} {\n        if (this.pes && this.pes.payloadReader) {\n            if (this.pes.payloadReader instanceof H264Reader && (this.pes.payloadReader as H264Reader).sps) {\n                const sps: Sps = (this.pes.payloadReader as H264Reader).sps;\n                return {\n                    profile: sps.profile,\n                    level: sps.level,\n                    bitDepth: sps.bitDepth,\n                    chromaFormat: sps.chromaFormat,\n                    frameRate: sps.frameRate,\n                    sar: sps.sar,\n                    codecSize: sps.codecSize,\n                    presentSize:\n                    sps.presentSize,\n                };\n            } else if (this.pes.payloadReader instanceof AdtsReader) {\n                const adtsReader: AdtsReader = this.pes.payloadReader as AdtsReader;\n                return {\n                    channels: adtsReader.channels,\n                    sampleRate: adtsReader.sampleRate,\n                    frameDuration: adtsReader.frameDuration,\n                };\n            }\n        }\n        return {};\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/ts-track.ts","import ByteParserUtils from '../../utils/byte-parser-utils';\n\nimport { Track } from '../track';\nimport { Mp4Track } from './mp4-track';\n\nimport { IDemuxer, TracksHash } from '../demuxer';\n\nimport { AudioAtom } from './atoms/helpers/audio-atom';\nimport { VideoAtom } from './atoms/helpers/video-atom';\n\nimport { boxesParsers } from './atoms';\nimport { Atom, ContainerAtom } from './atoms/atom';\n\nimport { Tfhd } from './atoms/tfhd';\nimport { Tkhd } from './atoms/tkhd';\nimport { AvcC } from './atoms/avcC';\nimport { Hev1 } from './atoms/hev1';\nimport { Stts } from './atoms/stts';\nimport { Stsc } from './atoms/stsc';\nimport { Stsz } from './atoms/stsz';\nimport { Ctts } from './atoms/ctts';\nimport { Stss } from './atoms/stss';\nimport { Stco } from './atoms/stco';\nimport { Mdhd } from './atoms/mdhd';\n\nimport {getLogger, LoggerLevels} from '../../utils/logger';\n\nimport { Mp4SampleTable } from './mp4-sample-table';\nimport { Esds } from './atoms/esds';\n\nconst {log, warn} = getLogger('Mp4Demuxer', LoggerLevels.OFF);\n\nexport class Mp4Demuxer implements IDemuxer {\n    public tracks: TracksHash = {};\n\n    private atoms: Atom[] = [];\n\n    // track specific parsing stack\n    private lastTrackId: number;\n    private lastTrackDataOffset: number;\n    private lastAudioVideoAtom: AudioAtom | VideoAtom = null;\n    private lastCodecDataAtom: AvcC | Hev1 | Esds = null;\n    private lastSampleTable: Mp4SampleTable = null;\n    private lastTimescale: number = null;\n\n    constructor() {\n        this.atoms = [];\n        this.tracks = {};\n\n        this._resetLastTrackInfos();\n    }\n\n    public getAtoms(): Atom[] {\n      return this.atoms;\n    }\n\n    public append(data: Uint8Array): void {\n        this.atoms = this._parseAtoms(data);\n\n        // \"HACK\" digest any last sample-table\n        this._digestSampleTable();\n\n        this._updateTracks();\n    }\n\n    public end(): void {\n        this._updateTracks();\n    }\n\n    private _updateTracks(): void {\n        for (const trackId in this.tracks) {\n            if (this.tracks.hasOwnProperty(trackId)) {\n                this.tracks[trackId].update();\n            }\n        }\n    }\n\n    private _parseAtoms(data: Uint8Array, offset: number = 0): Atom[] {\n        const atoms: Atom[] = [];\n\n        let dataOffset: number = offset;\n        while (dataOffset < data.byteLength) {\n            const size: number = ByteParserUtils.parseUint32(data, dataOffset);\n            const type: string = ByteParserUtils.parseIsoBoxType(data, dataOffset + 4);\n            const end: number = size > 1 ? dataOffset + size : data.byteLength;\n            const boxData: Uint8Array = data.subarray(dataOffset + 8, end);\n\n            // parse\n            let atom: Atom;\n            if (boxesParsers[type]) {\n                atom = boxesParsers[type](boxData);\n            }\n\n            if (!atom) {\n                // don't know how to parse this box\n                // so let's just add it without parsing its content\n                if (Atom.isContainerBox(type)) {\n                    atom = new ContainerAtom(type, boxData.byteLength);\n                } else {\n                    atom = new Atom(type, boxData.byteLength);\n                }\n            }\n\n            atoms.push(atom);\n\n            this._processAtom(atom, dataOffset);\n\n            if (atom instanceof ContainerAtom) {\n                (atom as ContainerAtom).atoms = this._parseAtoms(boxData, (atom as ContainerAtom).containerDataOffset);\n            }\n\n            dataOffset = end;\n        }\n\n        return atoms;\n    }\n\n    private _processAtom(atom: Atom, dataOffset: number): void {\n        switch (atom.type) {\n\n            // FIXME !!! `trex` box can contain super based set of default sample-duration/flags/size ...\n            // (those are often repeated inside the tfhd when it is a fragmented file however, but still ... :)\n\n            case Atom.trak:\n\n                this._digestSampleTable();\n                this.lastTrackId = -1;\n                this.lastTimescale = null;\n                this.lastCodecDataAtom = null;\n                this.lastAudioVideoAtom = null;\n\n            case Atom.ftyp:\n            case Atom.moov:\n            case Atom.moof:\n                // (only) needed for fragmented mode\n                this.lastTrackDataOffset = dataOffset;\n\n                break;\n\n            // Moov box / \"initialization\"-data and SIDX\n\n            case Atom.sidx:\n                this._attemptCreateUnknownTrack();\n                this._getLastTrackCreated().setSidxAtom(atom);\n                break;\n\n            case Atom.tkhd:\n                this.lastTrackId = (atom as Tkhd).trackId;\n                break;\n\n            // Inside moov: Codec data -> create \"known\" tracks\n\n            // stsd-boxed codec identifying atoms\n\n            // AAC\n            case Atom.mp4a:\n                this.lastAudioVideoAtom = atom as AudioAtom | VideoAtom;\n                break;\n\n            // H264\n            case Atom.avc1:\n                this.lastAudioVideoAtom = atom as (AudioAtom | VideoAtom);\n                break;\n\n            // H265\n            case Atom.hev1:\n                this.lastAudioVideoAtom = atom as AudioAtom | VideoAtom;\n                break;\n\n            // AVC/HEVC -> H264/5\n            case Atom.hvcC:\n                this.lastCodecDataAtom = atom as Hev1;\n                this._attemptCreateTrack(Track.TYPE_VIDEO, Track.MIME_TYPE_HEVC, atom);\n                break;\n\n            case Atom.avcC:\n                this.lastCodecDataAtom = atom as AvcC;\n                this._attemptCreateTrack(Track.TYPE_VIDEO, Track.MIME_TYPE_AVC, atom);\n                break;\n\n            case Atom.esds:\n                this._attemptCreateTrack(Track.TYPE_AUDIO, Track.MIME_TYPE_AAC, atom);\n                this.lastCodecDataAtom = atom as Esds;\n\n            // Fragmented-mode ...\n\n            case Atom.tfhd:\n                // FIXME: should be handled differently by looking at other things inside fragments and mapping eventually to previously parsed moov\n                this._attemptCreateUnknownTrack();\n                const tfhd: Tfhd = atom as Tfhd;\n                this._getLastTrackCreated().setBaseDataOffset(tfhd.baseDataOffset);\n                this._getLastTrackCreated().setDefaults({\n                  sampleDuration: tfhd.defaultSampleDuration,\n                  sampleFlags: tfhd.defaultSampleFlags,\n                  sampleSize: tfhd.defaultSampleSize\n                });\n                break;\n\n            case Atom.trun:\n                // FIXME: should be handled differently by looking at other things inside fragments and mapping eventually to previously parsed moov\n                this._attemptCreateUnknownTrack();\n                this._getLastTrackCreated().addTrunAtom(atom);\n                break;\n\n            // Plain-old MOV ie unfragmented mode ...\n\n            case Atom.mdhd:\n                this.lastTimescale = (atom as Mdhd).timescale;\n                break;\n\n            case Atom.stbl:\n                if (this.lastSampleTable !== null) {\n                    throw new Error('Sample-table should not exist yet');\n                }\n                break;\n            case Atom.stts:\n                this._haveSampleTable();\n                this.lastSampleTable.decodingTimestamps = atom as Stts;\n                break;\n            case Atom.stss:\n                this._haveSampleTable();\n                this.lastSampleTable.syncSamples = atom as Stss;\n                break;\n            case Atom.ctts:\n                this._haveSampleTable();\n                this.lastSampleTable.compositionTimestampOffsets = atom as Ctts;\n                break;\n            case Atom.stsc:\n                this._haveSampleTable();\n                this.lastSampleTable.samplesToChunkBox = atom as Stsc;\n                break;\n            case Atom.stsz:\n                this._haveSampleTable();\n                this.lastSampleTable.sampleSizes = atom as Stsz;\n                break;\n            case Atom.stco:\n                this._haveSampleTable();\n                this.lastSampleTable.chunkOffsetBox = atom as Stco;\n                break;\n\n            // Sample data ...\n\n            case Atom.mdat:\n                // in plain old MOV the moov may be at the end of the file (and mdat before)\n                if (this._getLastTrackCreated()) {\n                    log('updating sample-data offset:', this.lastTrackDataOffset)\n                    this._getLastTrackCreated().updateInitialSampleDataOffset(this.lastTrackDataOffset);\n                    log('processing current track-run');\n                    this._getLastTrackCreated().processTrunAtoms();\n                }\n                break;\n        }\n    }\n\n    private _haveSampleTable() {\n        if (this.lastSampleTable) {\n            return;\n        }\n        this.lastSampleTable = new Mp4SampleTable(this._getLastTrackCreated());\n    }\n\n\n    private _digestSampleTable() {\n        if (this.lastSampleTable) {\n            this.lastSampleTable.digest();\n            this.lastSampleTable = null;\n        }\n    }\n\n    private _attemptCreateTrack(type: string, mime: string, ref: Atom) {\n        if (this.lastTrackId > 0) {\n            log('creating new track:', type, mime)\n            const track = new Mp4Track(\n                this.lastTrackId,\n                type,\n                mime,\n                ref,\n                this.lastAudioVideoAtom,\n                this.lastTrackDataOffset\n              );\n            if (this.lastTimescale !== null) {\n                log('got timescale:', this.lastTimescale);\n                track.setTimescale(this.lastTimescale);\n            }\n            this.tracks[this.lastTrackId] = track;\n        }\n    }\n\n    /**\n     * Creates a track in case we haven't found a codec box\n     */\n    private _attemptCreateUnknownTrack(): void {\n        if (!this.lastTrackId || !this.tracks[this.lastTrackId]) {\n            warn('creating unknown-typed track');\n            this.lastTrackId = 1;\n            this.tracks[this.lastTrackId] = new Mp4Track(\n                this.lastTrackId,\n                Track.TYPE_UNKNOWN,\n                Track.MIME_TYPE_UNKNOWN,\n                null,\n                null,\n                this.lastTrackDataOffset > 0 ? this.lastTrackDataOffset : 0\n              );\n        }\n    }\n\n    /**\n     * Should be called everytime we create a track\n     */\n    private _resetLastTrackInfos() {\n        this.lastTrackId = 0;\n        this.lastTrackDataOffset = -1;\n    }\n\n    private _getLastTrackCreated(): Mp4Track {\n      return (this.tracks[this.lastTrackId] as Mp4Track) || null;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/mp4-demuxer.ts","import { Track } from '../track';\n\nimport { Frame } from '../frame';\n\nimport { Atom } from './atoms/atom';\n\nimport { AudioAtom } from './atoms/helpers/audio-atom';\nimport { VideoAtom } from './atoms/helpers/video-atom';\n\nimport { Sidx } from './atoms/sidx';\nimport { Trun, SampleFlags } from './atoms/trun';\nimport { Avc1 } from './atoms/avc1';\n\nimport {getLogger} from '../../utils/logger';\nimport { toMicroseconds } from '../../utils/timescale';\n\nconst {log, debug, warn} = getLogger('Mp4Track', 0);\n\nexport type Mp4TrackDefaults = {\n  sampleDuration: number;\n  sampleSize: number;\n  sampleFlags: number;\n}\n\nexport class Mp4Track extends Track {\n    private sidx: Sidx = null;\n    private trunInfo: Trun[] = [];\n    private trunInfoReadIndex: number = 0;\n    private lastPts: number = null;\n    private lastPtsUnscaledUint: number = null;\n    private timescale: number = null;\n    private defaults: Mp4TrackDefaults = null;\n    private defaultSampleFlagsParsed: SampleFlags = null;\n    private baseDataOffset: number = 0;\n\n    constructor(\n        id: number,\n        type: string,\n        mimeType: string,\n        public referenceAtom: Atom,\n        public metadataAtom: AudioAtom | VideoAtom,\n        public dataOffset: number\n    ) {\n\n        super(id, type, mimeType);\n        this.lastPts = 0;\n        this.lastPtsUnscaledUint = 0;\n        this.duration = 0;\n\n        if (this.dataOffset < 0) {\n          throw new Error('Invalid file, no sample-data base-offset can be determined');\n        }\n    }\n\n    // TODO: make this abstract on Track class\n    public getResolution(): [number, number] {\n        if (!this.isVideo()) {\n            throw new Error('Can not get resolution of non-video track');\n        }\n        const avc1 = this.metadataAtom as Avc1;\n        return [avc1.width, avc1.height];\n    }\n\n    public getSegmentIndex(): Sidx {\n      return this.sidx;\n    }\n\n    public getTrackFragmentsRunInfo(): Trun[] {\n      return this.trunInfo;\n    }\n\n    public getReferenceAtom(): Atom {\n      return this.referenceAtom;\n    }\n\n    public getMetadataAtom(): VideoAtom | AudioAtom {\n        return this.metadataAtom;\n    }\n\n    public getLastPts(): number {\n      return this.lastPts;\n    }\n\n    public getTimescale(): number {\n        return this.timescale;\n    }\n\n    public setTimescale(timescale: number) {\n        this.timescale = timescale;\n    }\n\n    public setDefaults(defaults: Mp4TrackDefaults) {\n        this.defaults = defaults;\n        if (defaults.sampleFlags) {\n            this.defaultSampleFlagsParsed = Trun.parseFlags(new Uint8Array([\n                defaults.sampleFlags & 0xff000000,\n                defaults.sampleFlags & 0x00ff0000,\n                defaults.sampleFlags & 0x0000ff00,\n                defaults.sampleFlags & 0x000000ff,\n            ]));\n        }\n    }\n\n    public getDefaults() {\n        return this.defaults;\n    }\n\n    /**\n     * @param offset value from `tfhd` box\n     */\n    public setBaseDataOffset(offset: number) {\n        this.baseDataOffset = offset || 0;\n    }\n\n    /**\n     * @param dataOffset absolute bytes offset inside file to resolve actual sample data\n     *\n     * As we are adding different `trun`s that are not contiguous boxes (say in multiple fragments)\n     * this needs to be called in order to update the internal base offset.\n     *\n     * Not to be confused with the base offset which maybe be present for each track fragment inside the `tfhd`.\n     * That value will be shared for each `trun`.\n     */\n    public updateInitialSampleDataOffset(dataOffset: number) {\n        this.dataOffset = dataOffset;\n    }\n\n    /**\n     * Returns the total offset for where to find samples (track-fragment base + file context bytes).\n     * Note that this will only lead to the current movie fragment parent box most likely (or to the moov box if unfragmented).\n     *\n     * Each trun box has it's own offset, which refers to this offset here in order to resolve the absolute position\n     * of sample runs.\n     */\n    public getFinalSampleDataOffset(): number {\n        return this.dataOffset + this.baseDataOffset;\n    }\n\n    public setSidxAtom(atom: Atom): void {\n        this.sidx = atom as Sidx;\n        this.lastPtsUnscaledUint = this.sidx.earliestPresentationTime;\n        this.lastPts = 1000000 * this.sidx.earliestPresentationTime / this.sidx.timescale;\n        this.timescale = this.sidx.timescale;\n    }\n\n    public appendFrame(frame: Frame) {\n        if (!frame.hasUnnormalizedIntegerTiming()) {\n            throw new Error('Frame must have unscaled-int sample timing');\n        }\n        this.lastPtsUnscaledUint += frame.scaledDuration;\n        this.lastPts += frame.duration;\n        this.duration += frame.duration;\n        this.frames.push(frame);\n    }\n\n    // TODO: move the truns array and processTrunAtoms to a own container class (like sample-table)\n    public addTrunAtom(atom: Atom): void {\n        const trun = atom as Trun;\n\n        this.trunInfo.push(trun);\n    }\n\n    public processTrunAtoms() {\n        this.trunInfo.forEach((trun: Trun, index) => {\n\n            if (index < this.trunInfoReadIndex) {\n              return;\n            }\n\n            const timescale: number = this.sidx ? this.sidx.timescale : 1;\n\n            const sampleRunDataOffset: number = trun.dataOffset + this.getFinalSampleDataOffset();\n\n            let bytesOffset: number = sampleRunDataOffset;\n\n            for (const sample of trun.samples) {\n                const sampleDuration = sample.duration || this.defaults.sampleDuration;\n                if (!sampleDuration) {\n                    throw new Error('Invalid file, samples have no duration');\n                }\n\n                const duration: number = toMicroseconds(sampleDuration, timescale);\n\n                const flags = sample.flags || this.defaultSampleFlagsParsed;\n                if (!flags) {\n                    warn('no default sample flags in track sample-run');\n                    // in fact the trun box parser should provide a fallback instance of flags in this case\n                    //throw new Error('Invalid file, sample has no flags');\n                }\n\n                const cto: number = toMicroseconds((sample.compositionTimeOffset || 0), timescale);\n\n                const timeUs = this.lastPts;\n\n                const newFrame = new Frame(\n                    flags ? (flags.isSyncFrame ? Frame.IDR_FRAME : Frame.P_FRAME) : Frame.UNFLAGGED_FRAME,\n                    timeUs,\n                    sample.size,\n                    duration,\n                    bytesOffset,\n                    cto\n                );\n\n                newFrame.scaledDuration = sampleDuration;\n                newFrame.scaledDecodingTime = this.lastPtsUnscaledUint;\n                newFrame.scaledPresentationTimeOffset = sample.compositionTimeOffset || 0;\n                newFrame.timescale = timescale;\n\n                this.appendFrame(newFrame);\n\n                debug(`frame: @ ${newFrame.timeUs} [us] -> ${newFrame.bytesOffset} / ${newFrame.size}`)\n\n                bytesOffset += sample.size;\n            }\n        })\n\n        this.trunInfoReadIndex = this.trunInfo.length;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/mp4-track.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class SampleFlags {\n    constructor(\n        public isLeading: number,\n        public dependsOn: number,\n        public isDependedOn: number,\n        public hasRedundancy: number,\n        public paddingValue: number,\n        public isSyncFrame: boolean,\n        public degradationPriority: number\n      ) {\n    }\n}\n\nexport class Sample {\n    public flags: SampleFlags;\n    public duration: number;\n    public size: number;\n    public compositionTimeOffset: number;\n\n    public toString(): string {\n        return `[duration: ${this.duration}, size: ${this.size}]`;\n    }\n}\n\nexport class Trun extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public trackId: number;\n    public dataOffset: number;\n    public samples: Sample[];\n\n    public static parse(data: Uint8Array): Atom {\n        const trun: Trun = new Trun(Atom.trun, data.byteLength);\n        trun.version = data[0];\n        trun.flags = data.subarray(1, 4);\n\n        const dataOffsetPresent: boolean = !!(trun.flags[2] & 0x01);\n        const firstSampleFlagsPresent: boolean = !!(trun.flags[2] & 0x04);\n        const sampleDurationPresent: boolean = !!(trun.flags[1] & 0x01);\n        const sampleSizePresent: boolean = !!(trun.flags[1] & 0x02);\n        const sampleFlagsPresent: boolean = !!(trun.flags[1] & 0x04);\n        const sampleCompositionTimeOffsetPresent: boolean = !!(trun.flags[1] & 0x08);\n\n        let sampleCount: number = ByteParserUtils.parseUint32(data, 4);\n        let offset: number = 8;\n        trun.samples = [];\n        let totalSize: number = 0;\n        if (dataOffsetPresent) {\n            trun.dataOffset = ByteParserUtils.parseUint32(data, offset);\n            offset += 4;\n        }\n        if (firstSampleFlagsPresent && sampleCount) {\n            const sample: Sample = new Sample();\n            sample.flags = Trun.parseFlags(data.subarray(offset, offset + 4));\n            offset += 4;\n            if (sampleDurationPresent) {\n                sample.duration = ByteParserUtils.parseUint32(data, offset);\n                offset += 4;\n            }\n            if (sampleSizePresent) {\n                sample.size = ByteParserUtils.parseUint32(data, offset);\n                totalSize += sample.size;\n                offset += 4;\n            }\n            if (sampleCompositionTimeOffsetPresent) {\n                sample.compositionTimeOffset = ByteParserUtils.parseUint32(data, offset);\n                offset += 4;\n            }\n            trun.samples.push(sample);\n            sampleCount--;\n        }\n        while (sampleCount--) {\n            const sample: Sample = new Sample();\n            if (sampleDurationPresent) {\n                sample.duration = ByteParserUtils.parseUint32(data, offset);\n                offset += 4;\n            }\n            if (sampleSizePresent) {\n                sample.size = ByteParserUtils.parseUint32(data, offset);\n                totalSize += sample.size;\n                offset += 4;\n            }\n            if (sampleFlagsPresent) {\n                sample.flags = Trun.parseFlags(data.subarray(offset, offset + 4));\n                offset += 4;\n            }\n            if (sampleCompositionTimeOffsetPresent) {\n                sample.compositionTimeOffset = ByteParserUtils.parseUint32(data, offset);\n                offset += 4;\n            }\n            trun.samples.push(sample);\n        }\n        return trun;\n    }\n\n    static parseFlags(data: Uint8Array): SampleFlags {\n        return new SampleFlags(\n            (data[0] & 0x0c) >>> 2,\n            (data[0] & 0x03),\n            (data[1] & 0xc0) >>> 6,\n            (data[1] & 0x30) >>> 4,\n            (data[1] & 0x0e) >>> 1,\n            (data[1] & 0x01) === 0,\n            (data[2] << 8) | data[3]\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/trun.ts","import ByteParserUtils from '../../utils/byte-parser-utils';\nimport { Track } from '../track';\nimport { IDemuxer } from '../demuxer';\nimport { Frame } from '../frame';\n\nimport { Vint, EbmlElement, IEbmlElementInfo } from './ebml/ebml-types';\nimport { getEbmlElementInfo } from './ebml/schema';\nimport { EbmlParser } from './ebml/ebml-parser';\nimport { WebMTrack } from './webm-track';\nimport { IEBMLInfo } from './elements/ebml-info';\nimport { ITrackInfo } from './elements/track-info';\nimport { ISegmentInfo } from './elements/segment-info';\n\nexport class WebMDemuxer implements IDemuxer {\n    public tracks: { [id: number] : Track; };\n\n    private data: Uint8Array;\n    private dataOffset: number;\n    private elements: EbmlElement[];\n    private ebmlInfo: IEBMLInfo;\n    private segmentInfo: ISegmentInfo;\n\n    constructor() {\n        this.tracks = {};\n    }\n\n    public append(data: Uint8Array): void {\n        this.elements = [];\n        if (!this.data || this.data.byteLength === 0 || this.dataOffset >= this.data.byteLength) {\n            this.data = data;\n            this.dataOffset = 0;\n        } else {\n            const newLen: number = this.data.byteLength + data.byteLength;\n            const temp: Uint8Array = new Uint8Array(newLen);\n            temp.set(this.data, 0);\n            temp.set(data, this.data.byteLength);\n            this.data = temp;\n        }\n\n        this.elements = this.parseElements(this.data.byteLength);\n        console.log(this.elements);\n\n        if (this.dataOffset > 0) {\n            this.data = this.data.subarray(this.dataOffset);\n            this.dataOffset = 0;\n        }\n\n        this.updateTracks();\n    }\n\n    public end(): void {\n        this.updateTracks();\n    }\n\n    private parseElements(end: number): EbmlElement[] {\n        const elements: EbmlElement[] = [];\n\n        while (this.dataOffset < end) {\n            const element: EbmlElement = this.readElement();\n            if (element === null) {\n                console.error('There was an issue demuxing a webm file: incorrect format');\n                return;\n            }\n\n            if (element.type === 'm') {\n                element.childs = this.parseElements(element.end);\n            }\n\n            elements.push(element);\n            this.processElement(element);\n        }\n        return elements;\n    }\n\n    private readElement(): EbmlElement {\n        const id: Vint = EbmlParser.readVint(this.data, this.dataOffset);\n        if (!id) {\n            return null;\n        }\n\n        var idStr: string = ByteParserUtils.parseBufferToHex(this.data, this.dataOffset, this.dataOffset + id.length);\n        const elementInfo: IEbmlElementInfo = getEbmlElementInfo(idStr);\n        const element: EbmlElement = new EbmlElement(idStr, elementInfo.type, elementInfo.name, this.dataOffset, this.dataOffset + id.length);\n        this.dataOffset += id.length;\n\n        const size: Vint = EbmlParser.readVint(this.data, this.dataOffset);\n        this.dataOffset += size.length;\n        if (size !== null) {\n            element.size = size.value;\n\n            // Manage unknown size case\n            if (size.value === -1) {\n                element.end = -1;\n            } else {\n                element.end += size.value + size.length;\n            }\n\n            // If type is m, we are in a container element\n            if (element.type !== 'm') {\n                if (element.end !== -1) {\n                    const data: Uint8Array = this.data.subarray(this.dataOffset, this.dataOffset + element.size);\n                    this.parseElementData(element, data);\n                }\n                this.dataOffset += element.size;\n            }\n        }\n\n        return element;\n    }\n\n    private parseElementData(element: EbmlElement, data: Uint8Array): void {\n        switch (element.type) {\n            case 'u':\n            element.data = ByteParserUtils.parseUint(data, 0, data.byteLength);\n            break;\n\n            case 'i':\n            element.data = ByteParserUtils.parseInt(data, 0, data.byteLength);\n            break;\n\n            case 's':\n            element.data = ByteParserUtils.parseString(data, 0, data.byteLength);\n            break;\n\n            case '8':\n            element.data = ByteParserUtils.parseUTF8String(data, 0, data.byteLength);\n            break;\n\n            case 'b':\n            element.data = data;\n            break;\n\n            case 'f':\n            element.data = ByteParserUtils.parseFloat(data, 0, data.byteLength);\n            break;\n\n            case 'd':\n            const ns: number = ByteParserUtils.parseUint(data, 0, 8);\n            const d: Date = new Date(2001, 0, 1, 0, 0, 0, 0);\n            d.setSeconds(d.getSeconds() + ns / (1000 * 1000));\n            element.data = d;\n            break;\n        }\n    }\n\n    private processElement(element: EbmlElement): void {\n        if (element.name === 'EBML') {\n            this.ebmlInfo = this.flatChilds(element);\n            if (this.ebmlInfo.DocType !== 'webm') {\n                console.warn('WebM document doesnt have the right doc type (webm != ' + this.ebmlInfo.DocType + ')');\n            }\n        } else if (element.name === 'Tracks') {\n            this.processTracksElement(element);\n        } else if (element.name === 'Info') {\n            this.segmentInfo = this.flatChilds(element);\n        } else if (element.name === 'Cluster') {\n            this.processCluster(element);\n        }\n    }\n\n    private processTracksElement(element: EbmlElement): void {\n        for (const child of element.childs) {\n            const trackInfo: ITrackInfo = this.flatChilds(child);\n            const metadataEl: any = trackInfo.hasOwnProperty('Video') ? this.getChild(child, 'Video') :\n                trackInfo.hasOwnProperty('Audio') ? this.getChild(child, 'Audio') : null;\n            const metadata: any = metadataEl ? this.flatChilds(metadataEl) : null;\n            const track: WebMTrack = new WebMTrack(trackInfo, metadata);\n            this.tracks[track.id] = track;\n        }\n    }\n\n    private processCluster(element: EbmlElement): void {\n        for (const child of element.childs) {\n            if (child.name === 'SimpleBlock' || child.name === 'Block') {\n                const trackId: Vint = EbmlParser.readVint(child.data as Uint8Array, 0);\n                if (this.tracks[trackId.value]) {\n                    (this.tracks[trackId.value] as WebMTrack).processBlock(trackId, child);\n                }\n            } else if (child.name === 'Timecode') {\n                for (const id in this.tracks) {\n                    if (this.tracks.hasOwnProperty(id)) {\n                        (this.tracks[id] as WebMTrack).setTimecode(child.data as number);\n                    }\n                }\n            }\n        }\n    }\n\n    private flatChilds(element: EbmlElement): any {\n        const obj: any = {};\n        for (const child of element.childs) {\n            obj[child.name] = child.data;\n        }\n        return obj;\n    }\n\n    private getChild(element: EbmlElement, name: string): EbmlElement {\n        if (!element.childs) {\n            return null;\n        }\n        for (const e of element.childs) {\n            if (e.name === name) {\n                return e;\n            }\n        }\n        return null;\n    }\n\n    private updateTracks(): void {\n        for (const trackId in this.tracks) {\n            if (this.tracks.hasOwnProperty(trackId)) {\n                this.tracks[trackId].update();\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/webm/webm-demuxer.ts","export class Vint {\n    constructor(public value: number, public length: number) {\n\n    }\n}\n\nexport class EbmlElement {\n    public size: number;\n    public data: String | number | Date | Uint8Array;\n    public childs: EbmlElement[];\n\n    constructor(public id: string, public type: string, public name: string, public start: number, public end: number) {\n        this.childs = [];\n    }\n}\n\nexport interface IEbmlElementInfo {\n    name: string;\n    type: string;\n    cppname?: string;\n    level?: number;\n    mandatory?: boolean;\n    recursive?: boolean;\n    multiple?: boolean;\n    default?: string;\n    maxver?: number;\n    minver?: number;\n    range?: string;\n    webm?: boolean;\n    br?: string[] | string;\n    del?: string[];\n    bytesize?: number;\n    divx?: boolean;\n    strong?: string;\n    i?: string;\n    description?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/webm/ebml/ebml-types.ts","/**\n * @author Stephan Hesse <disparat@gmail.com>\n * @module xhr An improvement over the standard XMLHttpRequest API (and with type-safety :)\n *\n * For usage in a Node.js base env (like ts-node) @see https://www.npmjs.com/package/node-http-xhr\n *\n */\n\nimport { ByteRange } from './byte-range';\n\nimport { getLogger } from '../../logger';\n\nconst {\n  log\n} = getLogger('xhr');\n\nconst PROGRESS_UPDATES_ENABLED = true;\n\nconst createXHRHeadersMapFromString = function (rawHeaders: string): object {\n  const arr = rawHeaders.trim().split(/[\\r\\n]+/);\n  // create an object without a prototype (a plain vanilla \"dictionary\")\n  const map = Object.create(null);\n  arr.forEach(function (line) {\n    const parts = line.split(': ');\n    const header = parts.shift();\n    const value = parts.join(': ');\n    map[header] = value;\n  });\n  return map;\n};\n\nexport type XHRHeader = [string, string];\n\nexport type XHRHeaders = XHRHeader[];\n\nexport type XHRData = ArrayBuffer | Blob | Document | string | FormData | null;\n\nexport enum XHRMethod {\n  GET = 'GET',\n  POST = 'POST',\n  PUT = 'PUT',\n  DELETE = 'DELETE',\n  OPTIONS = 'OPTIONS',\n  HEAD = 'HEAD'\n}\n\nexport enum XHRResponseType {\n  VOID = '', // \tDOMString (this is the default value)\n  ARRAY_BUFFER = 'arraybuffer', // \tArrayBuffer\n  BLOB = 'blob', // \tBlob\n  DOCUMENT = 'document', // \tDocument\n  JSON = 'json', // \tJSON\n  TEXT = 'text' // \tDOMString\n}\n\nexport enum XHRState {\n  UNSENT = XMLHttpRequest.UNSENT,\n  OPENED = XMLHttpRequest.OPENED,\n  HEADERS_RECEIVED = XMLHttpRequest.HEADERS_RECEIVED,\n  LOADING = XMLHttpRequest.LOADING,\n  DONE = XMLHttpRequest.DONE\n}\n\nexport enum XHRStatusCategory {\n  VOID = 'void',\n  INFO = 'info',\n  SUCCESS = 'success',\n  REDIRECT = 'redirect',\n  REQUEST_ERROR = 'request_error',\n  SERVER_ERROR = 'server_error',\n  CUSTOME_SERVER_ERROR = 'custom_server_error'\n}\n\nexport type XHRCallbackFunction = (xhr: XHR, isProgressUpdate: boolean) => void;\n\n/**\n *\n * Thin wrapper to keep state of one XHR.\n *\n * This class allows to perform requests, deal with their outcome and intermediate states.\n *\n * Requests are being sent out directly on construction (there is no state in between creating and sending a request).\n *\n * Any state change is signaled via the one callback function passed on construction.\n *\n * Request `xhrState` and HTTP `status` can be read via the respective instance properties.\n *\n * Check the values from within your callback.\n *\n * Same goes for response headers and body data, or eventual errors or abortion flags.\n *\n * The object is not recycleable (lives only for one single request, does not care about retrying and such).\n *\n * @class\n * @constructor\n */\nexport class XHR {\n  private _xhrCallback: XHRCallbackFunction\n  private _xhr: XMLHttpRequest\n  private _responseHeadersMap: object = null\n  private _error: Error = null\n  private _state: XHRState = XHRState.UNSENT\n  private _aborted: boolean = false\n  private _loadedBytes: number = 0\n  private _totalBytes: number = 0\n  private _progressUpdatesEnabled: boolean = PROGRESS_UPDATES_ENABLED\n\n  private _createdAt: Date;\n  private _timeUntilHeaders: number = NaN;\n  private _timeUntilLoading: number = NaN;\n  private _timeUntilDone: number = NaN;\n\n  /**\n   * Enables \"Content-Range\" request header from given `ByteRange` object in constructor\n   */\n  public enableContentRange: boolean = false;\n\n  constructor (\n    url: string,\n    xhrCallback: XHRCallbackFunction = () => {},\n    method: XHRMethod = XHRMethod.GET,\n    responseType: XHRResponseType = XHRResponseType.VOID,\n    byteRange: ByteRange = null,\n    headers: XHRHeaders = null,\n    data: XHRData = null,\n    withCredentials: boolean = false,\n    timeout: number = 0,\n    forceXMLMimeType: boolean = false\n  ) {\n    this._createdAt = new Date();\n    this._xhrCallback = xhrCallback;\n\n    const xhr = this._xhr = new XMLHttpRequest();\n\n    xhr.open(method, url, true);\n    xhr.responseType = responseType;\n    xhr.onreadystatechange = this.onReadyStateChange.bind(this);\n    xhr.onerror = this.onError.bind(this);\n    xhr.onabort = this.onAbort.bind(this);\n    xhr.onprogress = this.onProgress.bind(this);\n\n    if (byteRange) {\n      // log('set byte-range:', byteRange.toHttpHeaderValue(), byteRange.toString())\n      if (this.enableContentRange) {\n        xhr.setRequestHeader('Content-Range', byteRange.toHttpHeaderValue(true));\n      }\n      xhr.setRequestHeader('Range', byteRange.toHttpHeaderValue(false));\n    }\n\n    if (headers) {\n      headers.forEach(([header, value]) => {\n        xhr.setRequestHeader(header, value);\n      });\n    }\n\n    if (data === null) {\n      data = undefined;\n    }\n\n    xhr.timeout = timeout;\n\n    xhr.withCredentials = withCredentials;\n\n    if (forceXMLMimeType) {\n      xhr.overrideMimeType('text/xml');\n    }\n\n    xhr.send(data);\n  }\n\n  setProgressUpdatesEnabled (enabled: boolean) {\n    this._progressUpdatesEnabled = enabled;\n  }\n\n  get isInfo (): boolean {\n    return this._xhr.status >= 100 && this._xhr.status <= 199;\n  }\n\n  /**\n  {boolean} Returns `true` when request status code is in range [200-299] (success)\n   */\n  get isSuccess (): boolean {\n    return this._xhr.status >= 200 && this._xhr.status <= 299;\n  }\n\n  /**\n  {boolean} Returns `true` when request status code is signaling redirection\n   */\n  get isRedirect (): boolean {\n    return this._xhr.status >= 300 && this._xhr.status <= 399;\n  }\n\n  get isRequestError (): boolean {\n    return this._xhr.status >= 400 && this._xhr.status <= 499;\n  }\n\n  get isServerError (): boolean {\n    return this._xhr.status >= 500 && this._xhr.status <= 599;\n  }\n\n  get isCustomServerError (): boolean {\n    return this._xhr.status >= 900 && this._xhr.status <= 999;\n  }\n\n  get isContentRange (): boolean {\n    return this._xhr.status === 206;\n  }\n\n  get isVoidStatus (): boolean {\n    return this._xhr.status === 0;\n  }\n\n  getStatusCategory (): XHRStatusCategory {\n    if (this.isInfo) {\n      return XHRStatusCategory.INFO;\n    }\n    if (this.isSuccess) {\n      return XHRStatusCategory.SUCCESS;\n    }\n    if (this.isRedirect) {\n      return XHRStatusCategory.REDIRECT;\n    }\n    if (this.isRequestError) {\n      return XHRStatusCategory.REQUEST_ERROR;\n    }\n    if (this.isServerError) {\n      return XHRStatusCategory.SERVER_ERROR;\n    }\n    if (this.isCustomServerError) {\n      return XHRStatusCategory.SERVER_ERROR;\n    }\n    return XHRStatusCategory.VOID;\n  }\n\n  get error (): Error {\n    return this._error;\n  }\n\n  /**\n   * Native Upload object\n   * @readonly\n   */\n  get upload (): XMLHttpRequestUpload {\n    return this._xhr.upload;\n  }\n\n  /**\n   * Native XHR object\n   * @readonly\n   */\n  get xhr (): XMLHttpRequest {\n    return this._xhr;\n  }\n\n  get xhrState (): XHRState {\n    return this._state;\n  }\n\n  get status (): number {\n    return this._xhr.status;\n  }\n\n  get statusText (): string {\n    return this._xhr.statusText;\n  }\n\n  get responseHeaders (): object {\n    return this._responseHeadersMap;\n  }\n\n  get responseData (): XHRData {\n    return this._xhr.response;\n  }\n\n  get responseText (): string {\n    return this._xhr.responseText;\n  }\n\n  get responseDocument (): Document {\n    return this._xhr.responseXML;\n  }\n\n  get responseURL (): string {\n    return this._xhr.responseURL;\n  }\n\n  get hasBeenAborted (): boolean {\n    return this._aborted;\n  }\n\n  get hasErrored (): boolean {\n    return !!this._error;\n  }\n\n  get loadedBytes () {\n    return this._loadedBytes;\n  }\n\n  get totalBytes () {\n    return this._totalBytes;\n  }\n\n  get secondsUntilHeaders () {\n    return this._timeUntilHeaders;\n  }\n\n  get secondsUntilLoading () {\n    return this._timeUntilLoading;\n  }\n\n  get secondsUntilDone () {\n    return this._timeUntilDone;\n  }\n\n  /**\n  {number}\n   */\n  get loadedFraction () {\n    return this._loadedBytes / this._totalBytes;\n  }\n\n  abort () {\n    this._xhr.abort();\n  }\n\n  onReadyStateChange () {\n    const xhr = this._xhr;\n\n    this._state = xhr.readyState;\n\n    switch (xhr.readyState) {\n    case XMLHttpRequest.UNSENT:\n      break;\n    case XMLHttpRequest.OPENED:\n      break;\n    case XMLHttpRequest.HEADERS_RECEIVED:\n      this._timeUntilHeaders = this.getSecondsSinceCreated();\n\n      const headers = xhr.getAllResponseHeaders();\n      this._responseHeadersMap = createXHRHeadersMapFromString(headers);\n      break;\n    case XMLHttpRequest.LOADING:\n      this._timeUntilLoading = this.getSecondsSinceCreated();\n      break;\n    case XMLHttpRequest.DONE:\n      this._timeUntilDone = this.getSecondsSinceCreated();\n      break;\n    }\n\n    this._xhrCallback(this, false);\n  }\n\n  onError (event: ErrorEvent) {\n    this._error = event.error;\n\n    this._xhrCallback(this, false);\n  }\n\n  onAbort (event: Event) {\n    this._aborted = true;\n\n    this._xhrCallback(this, false);\n  }\n\n  onProgress (event: ProgressEvent) {\n    this._loadedBytes = event.loaded;\n    this._totalBytes = event.total;\n\n    if (this._progressUpdatesEnabled) {\n      this._xhrCallback(this, true);\n    }\n  }\n\n  getSecondsSinceCreated () {\n    return (new Date().getTime() - this._createdAt.getTime()) / 1000;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/io-sockets/xhr/xhr.ts","import { InputSocket, SocketDescriptor } from '../core/socket';\nimport { Packet } from '../core/packet';\nimport { MediaSourceController } from './html5-media-source/media-source-controller';\nimport { getLogger } from '../logger';\n\nconst { log, warn, error } = getLogger('HTML5MediaSourceBufferSocket');\n\nconst MEDIA_SOURCE_OPEN_FAILURE_TIMEOUT_MS = 4000;\n\nexport class HTML5MediaSourceBufferSocket extends InputSocket {\n\n  private mediaSourceController: MediaSourceController;\n\n  private _readyPromise: Promise<void>;\n\n  constructor (mediaSource: MediaSource, defaultFullMimetype?: string) {\n    super((p: Packet) => this._onPacketReceived(p), new SocketDescriptor());\n\n    this._readyPromise = new Promise((resolve, reject) => {\n\n      if (mediaSource.readyState === 'open') {\n\n        resolve();\n\n      } else {\n\n        const mediaSourceFailureTimeout = setTimeout(() => {\n          reject('MediaSource open-failure timeout');\n        }, MEDIA_SOURCE_OPEN_FAILURE_TIMEOUT_MS);\n\n        mediaSource.addEventListener('sourceopen', () => {\n          clearTimeout(mediaSourceFailureTimeout);\n          resolve();\n        });\n\n      }\n    });\n\n    this._readyPromise.then(() => {\n\n      this.mediaSourceController = new MediaSourceController(mediaSource);\n      this.mediaSourceController.setMediaDuration(60, true); // HACK !!\n\n      if (defaultFullMimetype) {\n        this._enableOneSourceBufferForFullMimetype(defaultFullMimetype);\n      }\n\n    });\n\n  }\n\n  whenReady(): Promise<void> {\n    return this._readyPromise;\n  }\n\n  private _enableOneSourceBufferForFullMimetype(fullMimeType: string): boolean {\n    if (this.mediaSourceController.hasSourceBufferQueuesForMimeType(fullMimeType)) {\n      return false;\n    }\n\n    if (!MediaSource.isTypeSupported(fullMimeType)) {\n      error(`MSE API says requested mime-type (${fullMimeType}) is not supported, aborting.`);\n      return false;\n    }\n\n    log('attempting to create an MSE source-buffer for fully-qualified mime-type:', fullMimeType)\n\n    if (!this.mediaSourceController.addSourceBufferQueue(fullMimeType)) {\n      throw new Error('Failed to create SourceBuffer for mime-type: ' + fullMimeType);\n    }\n\n    return true;\n  }\n\n  private _onPacketReceived (p: Packet): boolean {\n\n    const defaultBufferProps = p.defaultPayloadInfo;\n\n    // TODO: add default handling for this in base-class for easing impl these kind of subclasses\n    if (p.isSymbolic()) {\n      log('got symbolic packet:', p.symbol);\n      return true;\n    }\n\n    // TODO: have socket probe check this\n    if (!defaultBufferProps) {\n      warn('no default buffer props:', p);\n      return;\n    }\n\n    const fullMimeType = defaultBufferProps.getFullMimeType();\n\n    log('received packet with fully-qualified mime-type:', fullMimeType)\n\n    this._enableOneSourceBufferForFullMimetype(fullMimeType);\n\n    p.forEachBufferSlice((bs) => {\n\n      const buffer = bs.arrayBuffer;\n\n      const sourceBufferQueue = this.mediaSourceController.getSourceBufferQueuesByMimeType(fullMimeType)[0];\n      if (!sourceBufferQueue) {\n        warn('must previously have created surce-buffer for mime-type: ' + fullMimeType);\n        warn('ignoring one packet received');\n        return;\n      }\n      sourceBufferQueue.appendBuffer(buffer, 0);\n\n    })\n\n    return true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/io-sockets/html5-media-source-buffer.socket.ts","import { Flow, FlowStateChangeCallback, FlowCompletionResult, FlowState, FlowCompletionResultCode } from '../core/flow';\nimport { XhrSocket } from '../io-sockets/xhr.socket';\nimport { MP4DemuxProcessor } from '../processors/mp4-demux.processor';\nimport { H264ParseProcessor } from '../processors/h264-parse.processor';\nimport { MP4MuxProcessor } from '../processors/mp4-mux-mozilla.processor';\nimport { ProcessorEvent, ProcessorEventData } from '../core/processor';\nimport { OutputSocket, SocketEvent } from '../core/socket';\nimport { MP3ParseProcessor } from '../processors/mp3-parse.processor';\nimport { WebFileDownloadSocket } from '../io-sockets/web-file-download.socket';\nimport { newProcessorWorkerShell, unsafeProcessorType } from '../core/processor-factory';\nimport { getLogger } from '../logger';\nimport { FFmpegConversionTargetInfo } from '../processors/ffmpeg/ffmpeg-tool';\nimport { FFmpegConvertProcessor } from '../processors/ffmpeg-convert.processor';\nimport { makeTemplate } from '../common-utils';\nimport { EnvironmentVars } from '../core/env';\nimport { VoidCallback } from '../common-types';\nimport { AppInputSocket, AppInputCallback } from '../io-sockets/app-input-socket';\n\nconst { log } = getLogger('CombineMp4sToMovFlow');\n\nexport class CombineMp4sToMovFlow extends Flow {\n\n  /**\n   *\n   * @param _videoMp4Url\n   * @param _audioUrl\n   * @param _appInputCallback\n   * @param _useFileDonwloadSocket\n   * @param _downloadLinkContainer\n   * @param _isMp3Audio\n   */\n  constructor (\n    private _videoMp4Url: string,\n    private _audioUrl: string,\n    private _useFileDonwloadSocket: boolean = false,\n    private _downloadLinkContainer: HTMLElement = null,\n    private _isMp3Audio: boolean = false\n    ) {\n\n    super(\n      (prevState, newState) => {\n        console.log('previous state:', prevState, 'new state:', newState);\n      },\n      (reason) => {\n        console.log('state change aborted. reason:', reason);\n      }\n    );\n\n  }\n\n  private _setup() {\n    {\n      let ffmpegAacTranscodeProc = null;\n      if (this._isMp3Audio) { // the url might point to a blob so the file extension is not a criteria\n\n        const audioConfig: FFmpegConversionTargetInfo = {\n          targetBitrateKbps: 256,\n          targetCodec: 'aac',\n          targetFiletypeExt: 'mp4'\n        }\n\n        log('using ffmpeg.js bin path:', EnvironmentVars.FFMPEG_BIN_PATH)\n\n        ffmpegAacTranscodeProc = newProcessorWorkerShell(\n          unsafeProcessorType(FFmpegConvertProcessor),\n          [audioConfig, null],\n          [EnvironmentVars.FFMPEG_BIN_PATH]\n        );\n\n      }\n\n      const mp4DemuxProcVideo = newProcessorWorkerShell(MP4DemuxProcessor)\n      const h264ParseProc = newProcessorWorkerShell(H264ParseProcessor);\n      const mp3ParseProc = newProcessorWorkerShell(MP3ParseProcessor);\n\n      const mp4MuxProc = newProcessorWorkerShell(MP4MuxProcessor);\n\n      const muxerVideoInput = mp4MuxProc.createInput();\n      const muxerAudioInput = mp4MuxProc.createInput();\n\n      const xhrSocketMovFile = new XhrSocket(this._videoMp4Url);\n      const xhrSocketAudioFile = new XhrSocket(this._audioUrl);\n\n      /*\n      const mediaSourceSocket: HTML5MediaSourceBufferSocket\n          = new HTML5MediaSourceBufferSocket(new MediaSource()); // avc1.4d401f 'video/mp4; codecs=avc1.64001f'\n      */\n\n      const downloadSocket: WebFileDownloadSocket\n        = new WebFileDownloadSocket(this._downloadLinkContainer, 'video/quicktime', makeTemplate('buffer${counter}-${Date.now()}.mp4'));\n\n      const appInputSocket: AppInputSocket\n        = new AppInputSocket((blob: Blob) => {\n\n          this.setCompleted({code: FlowCompletionResultCode.OK, data: blob});\n\n      }, true, true, 'video/quicktime')\n\n      let mp4DemuxProcAudio = newProcessorWorkerShell(MP4DemuxProcessor);\n\n      // hook up transcoding stage\n      let mp4AudioOutSocket = xhrSocketAudioFile;\n      if (ffmpegAacTranscodeProc) {\n        xhrSocketAudioFile.connect(ffmpegAacTranscodeProc.in[0]);\n        mp4AudioOutSocket = ffmpegAacTranscodeProc.out[0];\n      }\n      mp4AudioOutSocket.connect(mp4DemuxProcAudio.in[0]);\n\n      // DEPRECATED: support for mp3 ES in MP4 file (untranscoded)\n      // wire up audio data source\n      /*\n      if (audioUrl.endsWith('.mp3')) {\n        xhrSocketAudioFile.connect(mp3ParseProc.in[0]);\n        mp3ParseProc.out[0].connect(muxerAudioInput);\n      } else { // TODO: check using mimetypes from XHR\n        // assuming mp4a\n        mp4DemuxProcAudio = newProcessorWorkerShell(MP4DemuxProcessor);\n        xhrSocketAudioFile.connect(mp4DemuxProcAudio.in[0]);\n      }\n      */\n\n      // wire up video\n      xhrSocketMovFile.connect(mp4DemuxProcVideo.in[0]);\n\n      // set up\n\n      mp4DemuxProcVideo.on(ProcessorEvent.OUTPUT_SOCKET_CREATED, (eventData: ProcessorEventData) => {\n\n        // FIXME: check the socket-descriptor actually is video\n        log('mp4 video demux output socket created');\n\n        // FIXME: avoid the unsafe cast here somehow?\n        OutputSocket.fromUnsafe(eventData.socket).connect(h264ParseProc.in[0]);\n\n        h264ParseProc.out[0].connect(muxerVideoInput);\n      });\n\n      mp4DemuxProcAudio.on(ProcessorEvent.OUTPUT_SOCKET_CREATED, (eventData: ProcessorEventData) => {\n\n        log('mp4 video demux output socket created');\n\n        OutputSocket.fromUnsafe(eventData.socket).connect(muxerAudioInput);\n\n      });\n\n      mp4MuxProc.out[0].connect(appInputSocket);\n\n      if (this._useFileDonwloadSocket) {\n        mp4MuxProc.out[0].connect(downloadSocket);\n      }\n\n      this.getExternalSockets().add(appInputSocket)\n\n    }\n  }\n\n  protected onVoidToWaiting_ (cb: VoidCallback) {\n    cb();\n  }\n\n  protected onWaitingToVoid_ (cb: VoidCallback) {\n    cb();\n  }\n\n  protected onWaitingToFlowing_ (cb: VoidCallback) {\n    this._setup();\n    cb();\n  }\n\n  protected onFlowingToWaiting_ (cb: VoidCallback) {\n    cb();\n  }\n\n  protected onCompleted_(cb: VoidCallback) {\n    cb();\n  }\n\n  protected onStateChangeAborted_ (reason: string) {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/flows/combine-mp4s-to-mov.flow.ts","import { ChunkToMediaSource } from './chunk-to-media-source'\nimport { RemixMovieSoundtrack } from './remix-movie-soundtrack'\nimport { TsToMp3 } from './ts-to-mp3'\nimport { FFmpegBasic } from './ffmpeg-basic';\nimport { FFmpegFlow } from './ffmpeg-flow';\n\nimport * as mmjs from '../../index';\n\nexport {\n  mmjs,\n\n  // effective order of test-cases in loader/runner\n  ChunkToMediaSource,\n  RemixMovieSoundtrack,\n  TsToMp3,\n  FFmpegBasic,\n  FFmpegFlow\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test-cases/web/index.ts","import * as Multimedia from '../../index';\nimport { MmjsTestCase } from '../mmjs-test-case';\nimport { Flow, FlowState } from '../../src/core/flow';\nimport { getLogger } from '../../src/logger';\n\nconst URLs = [\n  \"/test-data/193039199_mp4_h264_aac_hd_7.ts\",\n  '/test-data/mp4/v-0576p-1400k-libx264.mp4'\n];\n\nconst {log, error} = getLogger('ChunkToMediaSource');\n\nexport class ChunkToMediaSource extends MmjsTestCase {\n\n  private _fmp4ToMediaSource: Flow;\n  private _videoEl: HTMLVideoElement;\n  private _mediaSource: MediaSource;\n\n  setup() {\n    this._videoEl = document.createElement('video');\n    this._videoEl.controls = true;\n    this._videoEl.addEventListener('error', () => {\n      error(this._videoEl.error);\n    })\n\n    this.domMountPoint.appendChild(this._videoEl);\n\n    this._mediaSource = new MediaSource();\n\n    log('MediaSource created');\n\n    this._videoEl.src = URL.createObjectURL(this._mediaSource);\n\n    log('MediaSource opened');\n\n    this._fmp4ToMediaSource\n      = new Multimedia.Flows.HttpToMediaSourceFlow(\n      URLs[0],\n      this._mediaSource\n    );\n\n  }\n\n  run() {\n    this._fmp4ToMediaSource.state = FlowState.WAITING;\n    this._fmp4ToMediaSource.state = FlowState.FLOWING;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test-cases/web/chunk-to-media-source.ts","import { Packet } from '../core/packet';\nimport { Processor } from '../core/processor';\nimport { SocketDescriptor, SocketType, InputSocket, OutputSocket } from '../core/socket';\n\nexport type LambdaTransferFunction = (inS: InputSocket, p: Packet) => boolean;\nexport type LambdaSocketDescriptorProvider = (socketType: SocketType) => SocketDescriptor;\n\nconst defaultLsdProvider: LambdaSocketDescriptorProvider = () => new SocketDescriptor();\n\nexport const defaultLambdaSocketDescriptorProvider = defaultLsdProvider;\n\nexport class LambdaProcessor extends Processor {\n\n  static getName(): string { return 'LambdaProcessor' }\n\n  private transferFunc_: LambdaTransferFunction;\n  private lsd_: LambdaSocketDescriptorProvider;\n\n  constructor (\n    tf: LambdaTransferFunction,\n    lsd: LambdaSocketDescriptorProvider = defaultLsdProvider\n  ) {\n    super();\n    this.transferFunc_ = tf;\n    this.lsd_ = lsd;\n  }\n\n  templateSocketDescriptor (st: SocketType): SocketDescriptor {\n    return this.lsd_(st);\n  }\n\n  protected processTransfer_ (inS: InputSocket, p: Packet): boolean {\n    return this.transferFunc_(inS, p);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/lambda.processor.ts","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/buffer/index.js\n// module id = 56\n// module chunks = 0","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/base64-js/index.js\n// module id = 57\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ieee754/index.js\n// module id = 58\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/isarray/index.js\n// module id = 59\n// module chunks = 0","/**\n * MP3 demuxer\n */\nimport { ID3Parser } from './id3-parser';\nimport { MPEGAudioParser, MPEGAudioFrame } from './mpeg-audio-parser';\n\nexport const ID3_TIMESCALE = 90;\n\nexport type ID3Sample = {\n  pts: number,\n  dts: number,\n  data: Uint8Array\n};\n\nexport type MP3ParserResult = {\n  endOffset: number,\n  mp3Frames: MPEGAudioFrame[]\n  id3Samples: ID3Sample[]\n};\n\nexport class MP3Parser {\n  static probe (data) {\n    // check if data contains ID3 timestamp and MPEG sync word\n    let offset; let length;\n    let id3Data = ID3Parser.getID3Data(data, 0);\n    if (id3Data && ID3Parser.getTimeStamp(id3Data) !== undefined) {\n      // Look for MPEG header | 1111 1111 | 111X XYZX | where X can be either 0 or 1 and Y or Z should be 1\n      // Layer bits (position 14 and 15) in header should be always different from 0 (Layer I or Layer II or Layer III)\n      // More info http://www.mp3-tech.org/programmer/frame_header.html\n      for (offset = id3Data.length, length = Math.min(data.length - 1, offset + 100); offset < length; offset++) {\n        if (MPEGAudioParser.probe(data, offset)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  static parse (data: Uint8Array, offset: number = 0, onlyNext: boolean = false): MP3ParserResult {\n    const mp3Frames: MPEGAudioFrame[] = [];\n    const id3Samples: ID3Sample[] = [];\n    const length = data.length;\n\n    let pts;\n    let id3Data;\n\n    while (offset < length) {\n      if (MPEGAudioParser.isHeader(data, offset)) {\n        const frame = MPEGAudioParser.parseFrame(data, offset);\n        if (frame) {\n          mp3Frames.push(frame);\n\n          offset += frame.data.length;\n\n          if (onlyNext) {\n            return {\n              endOffset: offset,\n              mp3Frames,\n              id3Samples\n            };\n          }\n        } else {\n          break;\n        }\n      } else if (ID3Parser.isHeader(data, offset)) {\n        id3Data = ID3Parser.getID3Data(data, offset);\n        pts = ID3_TIMESCALE * ID3Parser.getTimeStamp(id3Data);\n        id3Samples.push({ pts, dts: pts, data: id3Data });\n\n        offset += id3Data.length;\n\n        if (onlyNext) {\n          return {\n            endOffset: offset,\n            mp3Frames,\n            id3Samples\n          };\n        }\n      } else {\n        // nothing found, keep looking\n        offset++;\n      }\n    }\n\n    return {\n      endOffset: offset,\n      mp3Frames,\n      id3Samples\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mp3/mp3-parser.ts","export class ID3Parser {\n  /**\n   * Returns true if an ID3 header can be found at offset in data\n  {Uint8Array} data - The data to search in\n  {number} offset - The offset at which to start searching\n  {boolean} - True if an ID3 header is found\n   */\n  static isHeader (data, offset): boolean {\n    /*\n    * http://ID3Parser.org/id3v2.3.0\n    * [0]     = 'I'\n    * [1]     = 'D'\n    * [2]     = '3'\n    * [3,4]   = {Version}\n    * [5]     = {Flags}\n    * [6-9]   = {ID3 Size}\n    *\n    * An ID3v2 tag can be detected with the following pattern:\n    *  $49 44 33 yy yy xx zz zz zz zz\n    * Where yy is less than $FF, xx is the 'flags' byte and zz is less than $80\n    */\n    if (offset + 10 <= data.length) {\n      // look for 'ID3' identifier\n      if (data[offset] === 0x49 && data[offset + 1] === 0x44 && data[offset + 2] === 0x33) {\n        // check version is within range\n        if (data[offset + 3] < 0xFF && data[offset + 4] < 0xFF) {\n          // check size is within range\n          if (data[offset + 6] < 0x80 && data[offset + 7] < 0x80 && data[offset + 8] < 0x80 && data[offset + 9] < 0x80) {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Returns true if an ID3 footer can be found at offset in data\n  {Uint8Array} data - The data to search in\n  {number} offset - The offset at which to start searching\n  {boolean} - True if an ID3 footer is found\n   */\n  static isFooter (data, offset): boolean {\n    /*\n    * The footer is a copy of the header, but with a different identifier\n    */\n    if (offset + 10 <= data.length) {\n      // look for '3DI' identifier\n      if (data[offset] === 0x33 && data[offset + 1] === 0x44 && data[offset + 2] === 0x49) {\n        // check version is within range\n        if (data[offset + 3] < 0xFF && data[offset + 4] < 0xFF) {\n          // check size is within range\n          if (data[offset + 6] < 0x80 && data[offset + 7] < 0x80 && data[offset + 8] < 0x80 && data[offset + 9] < 0x80) {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Returns any adjacent ID3 tags found in data starting at offset, as one block of data\n  {Uint8Array} data - The data to search in\n  {number} offset - The offset at which to start searching\n  {Uint8Array} - The block of data containing any ID3 tags found\n   */\n  static getID3Data (data, offset): Uint8Array {\n    const front = offset;\n    let length = 0;\n\n    while (ID3Parser.isHeader(data, offset)) {\n      // ID3 header is 10 bytes\n      length += 10;\n\n      const size = ID3Parser._readSize(data, offset + 6);\n      length += size;\n\n      if (ID3Parser.isFooter(data, offset + 10)) {\n        // ID3 footer is 10 bytes\n        length += 10;\n      }\n\n      offset += length;\n    }\n\n    if (length > 0) {\n      return data.subarray(front, front + length);\n    }\n\n    return undefined;\n  }\n\n  static _readSize (data, offset) {\n    let size = 0;\n    size = ((data[offset] & 0x7f) << 21);\n    size |= ((data[offset + 1] & 0x7f) << 14);\n    size |= ((data[offset + 2] & 0x7f) << 7);\n    size |= (data[offset + 3] & 0x7f);\n    return size;\n  }\n\n  /**\n   * Searches for the Elementary Stream timestamp found in the ID3 data chunk\n  {Uint8Array} data - Block of data containing one or more ID3 tags\n  {number} - The timestamp\n   */\n  static getTimeStamp (data: Uint8Array): number {\n    const frames = ID3Parser.getID3Frames(data);\n    // tslint:disable-next-line: prefer-for-of\n    for (let i = 0; i < frames.length; i++) {\n      const frame = frames[i];\n      if (ID3Parser.isTimeStampFrame(frame)) {\n        return ID3Parser._readTimeStamp(frame);\n      }\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Returns true if the ID3 frame is an Elementary Stream timestamp frame\n  {ID3 frame} frame\n   */\n  static isTimeStampFrame (frame) {\n    return (frame && frame.key === 'PRIV' && frame.info === 'com.apple.streaming.transportStreamTimestamp');\n  }\n\n  static _getFrameData (data) {\n    /*\n    Frame ID       $xx xx xx xx (four characters)\n    Size           $xx xx xx xx\n    Flags          $xx xx\n    */\n    const type = String.fromCharCode(data[0], data[1], data[2], data[3]);\n    const size = ID3Parser._readSize(data, 4);\n\n    // skip frame id, size, and flags\n    let offset = 10;\n\n    return { type, size, data: data.subarray(offset, offset + size) };\n  }\n\n  /**\n   * Returns an array of ID3 frames found in all the ID3 tags in the id3Data\n  {Uint8Array} id3Data - The ID3 data containing one or more ID3 tags\n  {ID3 frame[]} - Array of ID3 frame objects\n   */\n  static getID3Frames (id3Data) {\n    let offset = 0;\n    const frames = [];\n\n    while (ID3Parser.isHeader(id3Data, offset)) {\n      const size = ID3Parser._readSize(id3Data, offset + 6);\n      // skip past ID3 header\n      offset += 10;\n      const end = offset + size;\n      // loop through frames in the ID3 tag\n      while (offset + 8 < end) {\n        const frameData = ID3Parser._getFrameData(id3Data.subarray(offset));\n        const frame = ID3Parser._decodeFrame(frameData);\n        if (frame) {\n          frames.push(frame);\n        }\n        // skip frame header and frame data\n        offset += frameData.size + 10;\n      }\n\n      if (ID3Parser.isFooter(id3Data, offset)) {\n        offset += 10;\n      }\n    }\n\n    return frames;\n  }\n\n  static _decodeFrame (frame) {\n    if (frame.type === 'PRIV') {\n      return ID3Parser._decodePrivFrame(frame);\n    } else if (frame.type[0] === 'T') {\n      return ID3Parser._decodeTextFrame(frame);\n    } else if (frame.type[0] === 'W') {\n      return ID3Parser._decodeURLFrame(frame);\n    }\n\n    return undefined;\n  }\n\n  static _readTimeStamp (timeStampFrame) {\n    if (timeStampFrame.data.byteLength === 8) {\n      const data = new Uint8Array(timeStampFrame.data);\n      // timestamp is 33 bit expressed as a big-endian eight-octet number,\n      // with the upper 31 bits set to zero.\n      const pts33Bit = data[3] & 0x1;\n      let timestamp = (data[4] << 23) +\n                      (data[5] << 15) +\n                      (data[6] << 7) +\n                        data[7];\n      timestamp /= 45;\n\n      if (pts33Bit) {\n        timestamp += 47721858.84; // 2^32 / 90\n      }\n\n      return Math.round(timestamp);\n    }\n\n    return undefined;\n  }\n\n  static _decodePrivFrame (frame) {\n    /*\n    Format: <text string>\\0<binary data>\n    */\n    if (frame.size < 2) {\n      return undefined;\n    }\n\n    const owner = ID3Parser._utf8ArrayToStr(frame.data);\n    const privateData = new Uint8Array(frame.data.subarray(owner.length + 1));\n\n    return { key: frame.type, info: owner, data: privateData.buffer };\n  }\n\n  static _decodeTextFrame (frame) {\n    if (frame.size < 2) {\n      return undefined;\n    }\n\n    if (frame.type === 'TXXX') {\n      /*\n      Format:\n      [0]   = {Text Encoding}\n      [1-?] = {Description}\\0{Value}\n      */\n      let index = 1;\n      const description = ID3Parser._utf8ArrayToStr(frame.data.subarray(index));\n\n      index += description.length + 1;\n      const value = ID3Parser._utf8ArrayToStr(frame.data.subarray(index));\n\n      return { key: frame.type, info: description, data: value };\n    } else {\n      /*\n      Format:\n      [0]   = {Text Encoding}\n      [1-?] = {Value}\n      */\n      const text = ID3Parser._utf8ArrayToStr(frame.data.subarray(1));\n      return { key: frame.type, data: text };\n    }\n  }\n\n  static _decodeURLFrame (frame) {\n    if (frame.type === 'WXXX') {\n      /*\n      Format:\n      [0]   = {Text Encoding}\n      [1-?] = {Description}\\0{URL}\n      */\n      if (frame.size < 2) {\n        return undefined;\n      }\n\n      let index = 1;\n      const description = ID3Parser._utf8ArrayToStr(frame.data.subarray(index));\n\n      index += description.length + 1;\n      const value = ID3Parser._utf8ArrayToStr(frame.data.subarray(index));\n\n      return { key: frame.type, info: description, data: value };\n    } else {\n      /*\n      Format:\n      [0-?] = {URL}\n      */\n      const url = ID3Parser._utf8ArrayToStr(frame.data);\n      return { key: frame.type, data: url };\n    }\n  }\n\n  // http://stackoverflow.com/questions/8936984/uint8array-to-string-in-javascript/22373197\n  // http://www.onicos.com/staff/iz/amuse/javascript/expert/utf.txt\n  /* utf.js - UTF-8 <=> UTF-16 convertion\n    *\n    * Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp>\n    * Version: 1.0\n    * LastModified: Dec 25 1999\n    * This library is free.  You can redistribute it and/or modify it.\n    */\n  static _utf8ArrayToStr (array) {\n    let char2;\n    let char3;\n    let out = '';\n    let i = 0;\n    let length = array.length;\n\n    while (i < length) {\n      let c = array[i++];\n      switch (c >> 4) {\n      case 0:\n        return out;\n      case 1: case 2: case 3: case 4: case 5: case 6: case 7:\n        // 0xxxxxxx\n        out += String.fromCharCode(c);\n        break;\n      case 12: case 13:\n        // 110x xxxx   10xx xxxx\n        char2 = array[i++];\n        out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));\n        break;\n      case 14:\n        // 1110 xxxx  10xx xxxx  10xx xxxx\n        char2 = array[i++];\n        char3 = array[i++];\n        out += String.fromCharCode(((c & 0x0F) << 12) |\n            ((char2 & 0x3F) << 6) |\n            ((char3 & 0x3F) << 0));\n        break;\n      }\n    }\n\n    return out;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mp3/id3-parser.ts","/**\n * @module\n * MPEG-Audio parser\n */\n\nexport const MPEGAudioSamplingRates: number[] = [44100, 48000, 32000, 22050, 24000, 16000, 11025, 12000, 8000];\n\nexport const MPEGAudioBitratesTable: number[] = [ 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448,\n  32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384,\n  32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320,\n  32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256,\n  8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160 ];\n\nexport type MPEGAudioHeader = {\n    sampleRate: number\n    channelCount: number\n    frameLength: number\n};\n\nexport type MPEGAudioFrame = {\n    headerRef: MPEGAudioHeader,\n    data: Uint8Array\n    frameDuration: number\n    sampleDuration: number\n};\n\nexport const SAMPLES_PER_FRAME = 1152;\n\nexport class MPEGAudioParser {\n  static parseFrame (data: Uint8Array, offset: number): MPEGAudioFrame {\n    // Using http://www.datavoyage.com/mpgscript/mpeghdr.htm as a reference\n    if (offset + 24 > data.length) {\n      return null;\n    }\n\n    const header = MPEGAudioParser.parseHeader(data, offset);\n\n    if (header && offset + header.frameLength <= data.length) {\n      const sampleDuration = 1 / header.sampleRate;\n      const frameDuration = SAMPLES_PER_FRAME * sampleDuration;\n\n      return {\n        headerRef: header,\n        data: data.subarray(offset, offset + header.frameLength),\n        frameDuration,\n        sampleDuration\n      };\n    }\n\n    return null;\n  }\n\n  static parseHeader (data: Uint8Array, offset: number): MPEGAudioHeader {\n    let headerB = (data[offset + 1] >> 3) & 3;\n    let headerC = (data[offset + 1] >> 1) & 3;\n    let headerE = (data[offset + 2] >> 4) & 15;\n    let headerF = (data[offset + 2] >> 2) & 3;\n    let headerG = !!(data[offset + 2] & 2);\n\n    if (headerB !== 1 && headerE !== 0 && headerE !== 15 && headerF !== 3) {\n      let columnInBitrates = headerB === 3 ? (3 - headerC) : (headerC === 3 ? 3 : 4);\n      let bitRate = MPEGAudioBitratesTable[columnInBitrates * 14 + headerE - 1] * 1000;\n      let columnInSampleRates = headerB === 3 ? 0 : headerB === 2 ? 1 : 2;\n      let sampleRate = MPEGAudioSamplingRates[columnInSampleRates * 3 + headerF];\n      let padding = headerG ? 1 : 0;\n      let channelCount = data[offset + 3] >> 6 === 3 ? 1 : 2; // If bits of channel mode are `11` then it is a single channel (Mono)\n      let frameLength = headerC === 3\n        ? ((headerB === 3 ? 12 : 6) * bitRate / sampleRate + padding) << 2\n        : ((headerB === 3 ? 144 : 72) * bitRate / sampleRate + padding) | 0;\n\n      return { sampleRate, channelCount, frameLength };\n    }\n\n    return null;\n  }\n\n  static isHeaderPattern (data: Uint8Array, offset: number): boolean {\n    return data[offset] === 0xff &&\n            (data[offset + 1] & 0xe0) === 0xe0 &&\n            (data[offset + 1] & 0x06) !== 0x00;\n  }\n\n  static isHeader (data: Uint8Array, offset): boolean {\n    // Look for MPEG header | 1111 1111 | 111X XYZX | where X can be either 0 or 1 and Y or Z should be 1\n    // Layer bits (position 14 and 15) in header should be always different from 0 (Layer I or Layer II or Layer III)\n    // More info http://www.mp3-tech.org/programmer/frame_header.html\n    if (offset + 1 < data.length && MPEGAudioParser.isHeaderPattern(data, offset)) {\n      return true;\n    }\n    return false;\n  }\n\n  static probe (data: Uint8Array, offset: number): boolean {\n    // same as isHeader but we also check that MPEG frame follows last MPEG frame\n    // or end of data is reached\n    if (offset + 1 < data.length && MPEGAudioParser.isHeaderPattern(data, offset)) {\n      // MPEG header Length\n      let headerLength = 4;\n      // MPEG frame Length\n      let header = MPEGAudioParser.parseHeader(data, offset);\n      let frameLength = headerLength;\n      if (header && header.frameLength) {\n        frameLength = header.frameLength;\n      }\n      let newOffset = offset + frameLength;\n      if (newOffset === data.length || (newOffset + 1 < data.length && MPEGAudioParser.isHeaderPattern(data, newOffset))) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mp3/mpeg-audio-parser.ts","import { ExpGolomb } from './exp-golomb';\nimport { NALU } from './nalu';\n\nexport class H264Parser {\n  static extractNALu (buffer: Uint8Array): Uint8Array[] {\n    let i: number = 0;\n    let length: number = buffer.byteLength;\n    let value: number;\n    let state: number = 0;\n    const result: Uint8Array[] = [];\n    let lastIndex: number;\n\n    while (i < length) {\n      value = buffer[i++];\n      // finding 3 or 4-byte start codes (00 00 01 OR 00 00 00 01)\n      switch (state) {\n      case 0:\n        if (value === 0) {\n          state = 1;\n        }\n        break;\n      case 1:\n        if (value === 0) {\n          state = 2;\n        } else {\n          state = 0;\n        }\n        break;\n      case 2:\n      case 3:\n        if (value === 0) {\n          state = 3;\n        } else if (value === 1 && i < length) {\n          if (lastIndex) {\n            result.push(buffer.subarray(lastIndex, i - state - 1));\n          }\n          lastIndex = i;\n          state = 0;\n        } else {\n          state = 0;\n        }\n        break;\n      default:\n        break;\n      }\n    }\n\n    if (lastIndex) {\n      result.push(buffer.subarray(lastIndex, length));\n    }\n    return result;\n  }\n\n  /**\n     * Advance the ExpGolomb decoder past a scaling list. The scaling\n     * list is optionally transmitted as part of a sequence parameter\n     * set and is not relevant to transmuxing.\n  decoder {ExpGolomb} exp golomb decoder\n  count {number} the number of entries in this scaling list\n     * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n     */\n  static skipScalingList (decoder, count) {\n    let lastScale = 8;\n\n    let nextScale = 8;\n\n    let deltaScale;\n    for (let j = 0; j < count; j++) {\n      if (nextScale !== 0) {\n        deltaScale = decoder.readEG();\n        nextScale = (lastScale + deltaScale + 256) % 256;\n      }\n      lastScale = (nextScale === 0) ? lastScale : nextScale;\n    }\n  }\n\n  /**\n     * Read a sequence parameter set and return some interesting video\n     * properties. A sequence parameter set is the H264 metadata that\n     * describes the properties of upcoming video frames.\n  data {Uint8Array} the bytes of a sequence parameter set\n  {object} an object with configuration parsed from the\n     * sequence parameter set, including the dimensions of the\n     * associated video frames.\n     */\n  static readSPS (data) {\n    let decoder = new ExpGolomb(data);\n    let frameCropLeftOffset = 0;\n\n    let frameCropRightOffset = 0;\n\n    let frameCropTopOffset = 0;\n\n    let frameCropBottomOffset = 0;\n\n    let sarScale = 1;\n\n    let profileIdc;\n\n    let profileCompat;\n\n    let levelIdc;\n\n    let numRefFramesInPicOrderCntCycle;\n\n    let picWidthInMbsMinus1;\n\n    let picHeightInMapUnitsMinus1;\n\n    let frameMbsOnlyFlag;\n\n    let scalingListCount;\n    decoder.readUByte();\n    profileIdc = decoder.readUByte(); // profile_idc\n    profileCompat = decoder.readBits(5); // constraint_set[0-4]_flag, u(5)\n    decoder.skipBits(3); // reserved_zero_3bits u(3),\n    levelIdc = decoder.readUByte(); // level_idc u(8)\n    decoder.skipUEG(); // seq_parameter_set_id\n    // some profiles have more optional data we don't need\n    if (profileIdc === 100 ||\n            profileIdc === 110 ||\n            profileIdc === 122 ||\n            profileIdc === 244 ||\n            profileIdc === 44 ||\n            profileIdc === 83 ||\n            profileIdc === 86 ||\n            profileIdc === 118 ||\n            profileIdc === 128) {\n      let chromaFormatIdc = decoder.readUEG();\n      if (chromaFormatIdc === 3) {\n        decoder.skipBits(1); // separate_colour_plane_flag\n      }\n      decoder.skipUEG(); // bit_depth_luma_minus8\n      decoder.skipUEG(); // bit_depth_chroma_minus8\n      decoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n      if (decoder.readBoolean()) { // seq_scaling_matrix_present_flag\n        scalingListCount = (chromaFormatIdc !== 3) ? 8 : 12;\n        for (let i = 0; i < scalingListCount; ++i) {\n          if (decoder.readBoolean()) { // seq_scaling_list_present_flag[ i ]\n            if (i < 6) {\n              H264Parser.skipScalingList(decoder, 16);\n            } else {\n              H264Parser.skipScalingList(decoder, 64);\n            }\n          }\n        }\n      }\n    }\n    decoder.skipUEG(); // log2_max_frame_num_minus4\n    let picOrderCntType = decoder.readUEG();\n    if (picOrderCntType === 0) {\n      decoder.readUEG(); // log2_max_pic_order_cnt_lsb_minus4\n    } else if (picOrderCntType === 1) {\n      decoder.skipBits(1); // delta_pic_order_always_zero_flag\n      decoder.skipEG(); // offset_for_non_ref_pic\n      decoder.skipEG(); // offset_for_top_to_bottom_field\n      numRefFramesInPicOrderCntCycle = decoder.readUEG();\n      for (let i = 0; i < numRefFramesInPicOrderCntCycle; ++i) {\n        decoder.skipEG(); // offset_for_ref_frame[ i ]\n      }\n    }\n    decoder.skipUEG(); // max_num_ref_frames\n    decoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n    picWidthInMbsMinus1 = decoder.readUEG();\n    picHeightInMapUnitsMinus1 = decoder.readUEG();\n    frameMbsOnlyFlag = decoder.readBits(1);\n    if (frameMbsOnlyFlag === 0) {\n      decoder.skipBits(1); // mb_adaptive_frame_field_flag\n    }\n    decoder.skipBits(1); // direct_8x8_inference_flag\n    if (decoder.readBoolean()) { // frame_cropping_flag\n      frameCropLeftOffset = decoder.readUEG();\n      frameCropRightOffset = decoder.readUEG();\n      frameCropTopOffset = decoder.readUEG();\n      frameCropBottomOffset = decoder.readUEG();\n    }\n    if (decoder.readBoolean()) {\n      // vui_parameters_present_flag\n      if (decoder.readBoolean()) {\n        // aspect_ratio_info_present_flag\n        let sarRatio;\n        const aspectRatioIdc = decoder.readUByte();\n        switch (aspectRatioIdc) {\n        case 1: sarRatio = [1, 1]; break;\n        case 2: sarRatio = [12, 11]; break;\n        case 3: sarRatio = [10, 11]; break;\n        case 4: sarRatio = [16, 11]; break;\n        case 5: sarRatio = [40, 33]; break;\n        case 6: sarRatio = [24, 11]; break;\n        case 7: sarRatio = [20, 11]; break;\n        case 8: sarRatio = [32, 11]; break;\n        case 9: sarRatio = [80, 33]; break;\n        case 10: sarRatio = [18, 11]; break;\n        case 11: sarRatio = [15, 11]; break;\n        case 12: sarRatio = [64, 33]; break;\n        case 13: sarRatio = [160, 99]; break;\n        case 14: sarRatio = [4, 3]; break;\n        case 15: sarRatio = [3, 2]; break;\n        case 16: sarRatio = [2, 1]; break;\n        case 255: {\n          sarRatio = [decoder.readUByte() << 8 | decoder.readUByte(), decoder.readUByte() << 8 | decoder.readUByte()];\n          break;\n        }\n        }\n        if (sarRatio) {\n          sarScale = sarRatio[0] / sarRatio[1];\n        }\n      }\n      if (decoder.readBoolean()) {\n        decoder.skipBits(1);\n      }\n\n      if (decoder.readBoolean()) {\n        decoder.skipBits(4);\n        if (decoder.readBoolean()) {\n          decoder.skipBits(24);\n        }\n      }\n      if (decoder.readBoolean()) {\n        decoder.skipUEG();\n        decoder.skipUEG();\n      }\n      if (decoder.readBoolean()) {\n        let unitsInTick = decoder.readUInt();\n        let timeScale = decoder.readUInt();\n        let fixedFrameRate = decoder.readBoolean();\n        let frameDuration = timeScale / (2 * unitsInTick);\n      }\n    }\n    return {\n      width: Math.ceil((((picWidthInMbsMinus1 + 1) * 16) - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n      height: ((2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16) - ((frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset))\n    };\n  }\n\n    width: number;\n    height: number;\n    sps: Uint8Array[];\n    pps: Uint8Array[];\n    codec: string;\n    readyToDecode: boolean;\n    isHDAvailable: boolean;\n\n    parseSPS (sps: Uint8Array) {\n      let config = H264Parser.readSPS(new Uint8Array(sps)); // why new?\n\n      this.width = config.width;\n      this.height = config.height;\n      this.sps = [new Uint8Array(sps)];\n      this.codec = 'avc1.';\n\n      let codecarray = new DataView(sps.buffer, sps.byteOffset + 1, 4);\n      for (let i = 0; i < 3; ++i) {\n        let h = codecarray.getUint8(i).toString(16);\n        if (h.length < 2) {\n          h = '0' + h;\n        }\n        this.codec += h;\n      }\n    }\n\n    parsePPS (pps: Uint8Array) {\n      this.pps = [new Uint8Array(pps)]; // why new?\n    }\n\n    parseNAL (unit: NALU) {\n      if (!unit) { return false; }\n\n      let push = false;\n      switch (unit.type()) {\n      case NALU.NDR:\n        push = true;\n        break;\n      case NALU.IDR:\n        push = true;\n        break;\n      case NALU.PPS:\n        if (!this.pps) {\n          this.parsePPS(unit.getData().subarray(4));\n          if (!this.readyToDecode && this.pps && this.sps) {\n            this.readyToDecode = true;\n          }\n        }\n        push = true;\n        break;\n      case NALU.SPS:\n        if (!this.sps) {\n          this.parseSPS(unit.getData().subarray(4));\n          if (!this.readyToDecode && this.pps && this.sps) {\n            this.readyToDecode = true;\n          }\n        }\n        push = true;\n        break;\n      case NALU.AUD:\n        if (this.isHDAvailable) {\n          this.isHDAvailable = false;\n        }\n        break;\n      case NALU.SEI:\n        break;\n      default:\n      }\n      return push;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/h264/h264.ts","/**\n * Parser for exponential Golomb codes, a variable-bitwidth number encoding scheme used by h264.\n*/\n\nexport class ExpGolomb {\n  private data: Uint8Array;\n  private index: number;\n  private bitLength: number;\n\n  constructor (data) {\n    this.data = data;\n    this.index = 0;\n    this.bitLength = data.byteLength * 8;\n  }\n\n  get bitsAvailable () {\n    return this.bitLength - this.index;\n  }\n\n  skipBits (size) {\n    // console.log(`  skip bits: size=${size}, ${this.index}.`);\n    if (this.bitsAvailable < size) {\n      // throw new Error('no bytes available');\n      return false;\n    }\n    this.index += size;\n  }\n\n  readBits (size, moveIndex = true) {\n    // console.log(`  read bits: size=${size}, ${this.index}.`);\n    const result = this.getBits(size, this.index, moveIndex);\n    // console.log(`    read bits: result=${result}`);\n    return result;\n  }\n\n  getBits (size, offsetBits, moveIndex = true) {\n    if (this.bitsAvailable < size) {\n      // throw new Error('no bytes available');\n      return 0;\n    }\n    const offset = offsetBits % 8;\n    const byte = this.data[(offsetBits / 8) | 0] & (0xff >>> offset);\n    const bits = 8 - offset;\n    if (bits >= size) {\n      if (moveIndex) {\n        this.index += size;\n      }\n      return byte >> (bits - size);\n    } else {\n      if (moveIndex) {\n        this.index += bits;\n      }\n      const nextSize = size - bits;\n      return (byte << nextSize) | this.getBits(nextSize, offsetBits + bits, moveIndex);\n    }\n  }\n\n  skipLZ () {\n    let leadingZeroCount;\n    for (leadingZeroCount = 0; leadingZeroCount < this.bitLength - this.index; ++leadingZeroCount) {\n      if (this.getBits(1, this.index + leadingZeroCount, false) !== 0) {\n        // console.log(`  skip LZ  : size=${leadingZeroCount}, ${this.index}.`);\n        this.index += leadingZeroCount;\n        return leadingZeroCount;\n      }\n    }\n    return leadingZeroCount;\n  }\n\n  skipUEG () {\n    this.skipBits(1 + this.skipLZ());\n  }\n\n  skipEG () {\n    this.skipBits(1 + this.skipLZ());\n  }\n\n  readUEG () {\n    const prefix = this.skipLZ();\n    return this.readBits(prefix + 1) - 1;\n  }\n\n  readEG () {\n    const value = this.readUEG();\n    if (0x01 & value) {\n      // the number is odd if the low order bit is set\n      return (1 + value) >>> 1; // add 1 to make it even, and divide by 2\n    } else {\n      return -1 * (value >>> 1); // divide by two then make it negative\n    }\n  }\n\n  readBoolean () {\n    return this.readBits(1) === 1;\n  }\n  readUByte (numberOfBytes = 1) {\n    return this.readBits((numberOfBytes * 8));\n  }\n  readUShort () {\n    return this.readBits(16);\n  }\n  readUInt () {\n    return this.readBits(32);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/h264/exp-golomb.ts","/**\n * Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  TrackBox,\n  SampleEntry,\n  SampleFlags,\n  AudioSampleEntry,\n  RawTag,\n  VideoSampleEntry,\n  VideoMediaHeaderBox,\n  TrackHeaderFlags,\n  TrackHeaderBox,\n  MediaBox,\n  MediaHeaderBox,\n  MediaInformationBox,\n  HandlerBox,\n  DataInformationBox,\n  DataEntryUrlBox,\n  DataReferenceBox,\n  SampleTableBox,\n  MovieExtendsBox,\n  MovieFragmentBox,\n  TrackExtendsBox,\n  TrackRunBox,\n  MetaBox,\n  MovieHeaderBox,\n  MovieFragmentHeaderBox,\n  MovieBox,\n  FileTypeBox,\n  TrackFragmentBox,\n  TrackFragmentBaseMediaDecodeTimeBox,\n  TrackFragmentHeaderBox,\n  TrackRunSample,\n  TrackFragmentFlags,\n  TrackRunFlags,\n  MediaDataBox,\n  SELF_CONTAINED_DATA_REFERENCE_FLAG,\n  StblSample,\n  SoundMediaHeaderBox\n} from './mp4iso-boxes';\n\nimport { hexToBytes, flattenOneDeepNestedArray } from '../../common-utils';\nimport { getLogger } from '../../logger';\nimport { BoxContainerBox, Box } from './mp4iso-base';\nimport { SampleTablePackager } from './mp4iso-sample-table';\n\nconst {warn, debug} = getLogger('MP4Mux(moz)');\n\nlet MAX_PACKETS_IN_CHUNK = Infinity;\nlet SPLIT_AT_KEYFRAMES = true;\n\ntype CachedPacket = {\n  packet: any;\n  timestamp: number;\n  trackId: number;\n}\n\nexport const AAC_SAMPLES_PER_FRAME = 1024;\n\nexport const SOUNDRATES = [5500, 11025, 22050, 44100];\n\nexport const SOUNDFORMATS = [\n  'PCM',\n  'ADPCM',\n  'MP3',\n  'PCM le',\n  'Nellymouser16',\n  'Nellymouser8',\n  'Nellymouser',\n  'G.711 A-law',\n  'G.711 mu-law',\n  null, // ???\n  'AAC',\n  'Speex',\n  'MP3 8khz'\n];\n\nexport const MP3_SOUND_CODEC_ID = 2;\nexport const AAC_SOUND_CODEC_ID = 10;\n\nexport enum AudioPacketType {\n    HEADER = 0,\n    RAW = 1,\n  }\n\nexport type AudioPacket = {\n  codecDescription: string;\n  codecId: number;\n  data: Uint8Array;\n  rate: number;\n  size: number;\n  channels: number;\n  samples: number;\n  packetType: AudioPacketType;\n}\n\nexport type VideoPacket = {\n  frameType: VideoFrameType;\n  codecId: number;\n  codecDescription: string;\n  data: Uint8Array;\n  packetType: VideoPacketType;\n  compositionTime: number;\n  horizontalOffset?: number;\n  verticalOffset?: number;\n}\n\nexport function parseAudiodata (data: Uint8Array): AudioPacket {\n  let i = 0;\n  let packetType = AudioPacketType.RAW;\n  let flags = data[i];\n  let codecId = flags >> 4;\n  let soundRateId = (flags >> 2) & 3;\n  let sampleSize = flags & 2 ? 16 : 8;\n  let channels = flags & 1 ? 2 : 1;\n  let samples: number;\n  i++;\n  switch (codecId) {\n  case AAC_SOUND_CODEC_ID:\n    let type = data[i++];\n    packetType = <AudioPacketType>type;\n    samples = AAC_SAMPLES_PER_FRAME; // AAC implementations typically represent 1024 PCM audio samples\n    break;\n  case MP3_SOUND_CODEC_ID:\n    let version = (data[i + 1] >> 3) & 3; // 3 - MPEG 1\n    let layer = (data[i + 1] >> 1) & 3; // 3 - Layer I, 2 - II, 1 - III\n    samples = layer === 1 ? (version === 3 ? 1152 : 576)\n      : (layer === 3 ? 384 : 1152);\n    break;\n  }\n  return {\n    codecDescription: SOUNDFORMATS[codecId],\n    codecId,\n    data: data.subarray(i),\n    rate: SOUNDRATES[soundRateId],\n    size: sampleSize,\n    channels,\n    samples,\n    packetType\n  };\n}\n\nexport const VIDEOCODECS = [null, 'JPEG', 'Sorenson', 'Screen', 'VP6', 'VP6 alpha', 'Screen2', 'AVC'];\nexport const VP6_VIDEO_CODEC_ID = 4;\nexport const AVC_VIDEO_CODEC_ID = 7;\n\nexport enum VideoFrameType {\n    KEY = 1,\n    INNER = 2,\n    DISPOSABLE = 3,\n    GENERATED = 4,\n    INFO = 5,\n  }\n\nexport enum VideoPacketType {\n    HEADER = 0,\n    NALU = 1,\n    END = 2,\n  }\n\nexport function parseVideodata (data: Uint8Array): VideoPacket {\n  let i = 0;\n  let frameType = data[i] >> 4;\n  let codecId = data[i] & 15;\n  i++;\n  let result: any = {\n    frameType: <VideoFrameType>frameType,\n    codecId,\n    codecDescription: VIDEOCODECS[codecId]\n  };\n  switch (codecId) {\n  case AVC_VIDEO_CODEC_ID:\n    let type = data[i++];\n    result.packetType = <VideoPacketType>type;\n    result.compositionTime = ((data[i] << 24) | (data[i + 1] << 16) | (data[i + 2] << 8)) >> 8;\n    i += 3;\n    break;\n  case VP6_VIDEO_CODEC_ID:\n    result.packetType = VideoPacketType.NALU;\n    result.horizontalOffset = (data[i] >> 4) & 15;\n    result.verticalOffset = data[i] & 15;\n    result.compositionTime = 0;\n    i++;\n    break;\n  }\n  result.data = data.subarray(i);\n  return result;\n}\n\nexport enum MP4MuxPacketType {\n  AUDIO_PACKET = 8,\n  VIDEO_PACKET = 9 // legacy support numbers, not sure if can be replaced\n};\n\nexport type MP4Track = {\n    codecDescription?: string;\n    codecId: number;\n    language: string;\n\n    timescale: number;\n    duration: number, // -1 for unknown\n\n    samplerate?: number;\n    channels?: number;\n    samplesize?: number;\n\n    framerate?: number;\n    width?: number;\n    height?: number;\n  }\n\nexport type MP4Metadata = {\n    tracks: MP4Track[];\n    duration: number;\n    audioTrackId: number;\n    videoTrackId: number;\n  }\n\nexport enum MP4MuxState {\n    CAN_GENERATE_HEADER = 0,\n    NEED_HEADER_DATA = 1,\n    MAIN_PACKETS = 2\n  }\n\nexport type MP4TrackState = {\n    trackId: number;\n    trackInfo: MP4Track;\n    cachedDuration: number;\n    samplesProcessed: number;\n    initializationData: Uint8Array[];\n    mimeTypeCodec?: string;\n  }\n\nexport class MP4Mux {\n\n    // FIXME: should be initialized\n    private metadata: MP4Metadata;\n    private trackStates: MP4TrackState[];\n    private audioTrackState: MP4TrackState;\n    private videoTrackState: MP4TrackState;\n\n    private filePos: number = 0;\n    private cachedPackets: CachedPacket[] = [];\n\n    private state: MP4MuxState = null; // FIXME\n\n    private chunkIndex: number = 0;\n\n    private fragmentedMode: boolean = true;\n\n    oncodecinfo: (codecs: string[]) => void = function (codecs: string[]) {\n      throw new Error('MP4Mux.oncodecdata is not set');\n    };\n\n    ondata: (data) => void = function (data) {\n      throw new Error('MP4Mux.ondata is not set');\n    };\n\n    public constructor (metadata: MP4Metadata, fragmentedMode: boolean) {\n      this.metadata = metadata;\n      this.fragmentedMode = fragmentedMode;\n\n      this.trackStates = this.metadata.tracks.map((t: MP4Track, index) => {\n        const state = {\n          trackId: index + 1,\n          trackInfo: t,\n          cachedDuration: 0,\n          samplesProcessed: 0,\n          initializationData: []\n        };\n        if (this.metadata.audioTrackId === state.trackId) {\n          this.audioTrackState = state;\n        }\n        if (this.metadata.videoTrackId === state.trackId) {\n          this.videoTrackState = state;\n        }\n        return state;\n      }, this);\n\n      this._checkIfNeedHeaderData();\n    }\n\n    public pushPacket (\n      type: MP4MuxPacketType,\n      codecId: number,\n      data: Uint8Array,\n      timestamp: number,\n      forceRaw: boolean = false,\n      isInitData: boolean = false,\n      isKeyframe: boolean = false,\n      cto: number = 0,\n      audioDetails: {sampleRate: number, sampleDepth: number, samplesPerFrame: number, numChannels: number} = null,\n    ) {\n\n      if (this.state === MP4MuxState.CAN_GENERATE_HEADER) {\n        this._attemptToGenerateMovieHeader();\n      }\n\n      switch (type) {\n      case MP4MuxPacketType.AUDIO_PACKET: // audio\n        const audioTrack = this.audioTrackState;\n        let audioPacket: AudioPacket;\n\n        if (forceRaw) {\n\n          if (!audioDetails) {\n            throw new Error('We need audio-details in raw sample push mode');\n          }\n\n          const {sampleRate, sampleDepth, samplesPerFrame, numChannels} = audioDetails;\n\n          audioPacket = {\n            data,\n            codecId,\n            codecDescription: SOUNDFORMATS[codecId],\n            rate: sampleRate,\n            size: sampleDepth,\n            channels: numChannels,\n            samples: samplesPerFrame,\n            packetType: isInitData ? AudioPacketType.HEADER : AudioPacketType.RAW,\n          };\n\n        } else {\n          audioPacket = parseAudiodata(data);\n        }\n\n        if (!audioTrack || audioTrack.trackInfo.codecId !== audioPacket.codecId) {\n          throw new Error('Unexpected audio packet codec: ' + audioPacket.codecDescription);\n        }\n        switch (audioPacket.codecId) {\n        default:\n          throw new Error('Unsupported audio codec: ' + audioPacket.codecDescription);\n        case MP3_SOUND_CODEC_ID:\n          break; // supported codec\n        case AAC_SOUND_CODEC_ID:\n          if (audioPacket.packetType === AudioPacketType.HEADER) {\n            audioTrack.initializationData.push(audioPacket.data);\n            return;\n          }\n          break;\n        }\n        this.cachedPackets.push({ packet: audioPacket, timestamp, trackId: audioTrack.trackId });\n        break;\n      case MP4MuxPacketType.VIDEO_PACKET:\n        let videoTrack = this.videoTrackState;\n        let videoPacket: VideoPacket;\n        if (forceRaw) {\n          videoPacket = {\n            frameType: isKeyframe ? VideoFrameType.KEY : VideoFrameType.INNER,\n            codecId: AVC_VIDEO_CODEC_ID,\n            codecDescription: VIDEOCODECS[AVC_VIDEO_CODEC_ID],\n            data,\n            packetType: isInitData ? VideoPacketType.HEADER : VideoPacketType.NALU,\n            compositionTime: timestamp + cto\n          };\n        } else {\n          videoPacket = parseVideodata(data);\n        }\n        if (!videoTrack || videoTrack.trackInfo.codecId !== videoPacket.codecId) {\n          throw new Error('Unexpected video packet codec: ' + videoPacket.codecDescription);\n        }\n        switch (videoPacket.codecId) {\n        default:\n          throw new Error('unsupported video codec: ' + videoPacket.codecDescription);\n        case VP6_VIDEO_CODEC_ID:\n          break; // supported\n        case AVC_VIDEO_CODEC_ID:\n          if (videoPacket.packetType === VideoPacketType.HEADER) {\n            videoTrack.initializationData.push(videoPacket.data);\n            return;\n          }\n          break;\n        }\n        this.cachedPackets.push({ packet: videoPacket, timestamp, trackId: videoTrack.trackId });\n        break;\n      default:\n        throw new Error('unknown packet type: ' + type);\n      }\n\n      if (this.state === MP4MuxState.NEED_HEADER_DATA) {\n        this._attemptToGenerateMovieHeader();\n      }\n\n      if (this.fragmentedMode\n        && this.cachedPackets.length >= MAX_PACKETS_IN_CHUNK &&\n          this.state === MP4MuxState.MAIN_PACKETS) {\n        this._generateMovieFragment();\n      }\n    }\n\n    public flush () {\n      if (this.cachedPackets.length > 0) {\n        if (this.fragmentedMode) {\n          this._generateMovieFragment();\n        } else {\n          this._generatePlainMovFile();\n        }\n      }\n    }\n\n    private _checkIfNeedHeaderData () {\n      if (this.trackStates.some((ts) =>\n        ts.trackInfo.codecId === AAC_SOUND_CODEC_ID || ts.trackInfo.codecId === AVC_VIDEO_CODEC_ID)) {\n        this.state = MP4MuxState.NEED_HEADER_DATA;\n      } else {\n        this.state = MP4MuxState.CAN_GENERATE_HEADER;\n      }\n    }\n\n    private _generatePlainMovFile () {\n      const [mdat, sampleTablesData] = this._createPlainMovMediaData();\n\n      const header = this._makeMovHeader(false, sampleTablesData, mdat);\n\n      this.oncodecinfo(this.trackStates.map((ts) => ts.mimeTypeCodec));\n      this.ondata(header);\n    }\n\n    // TODO: make static (is stateless)\n    private _createTrackBox(\n\n      trakFlags: number,\n      trackState: MP4TrackState,\n      trackInfo: MP4Track,\n      handlerType: string,\n      handlerName: string,\n      sampleTable: SampleTableBox,\n      ordinalIndex: number): TrackBox {\n\n      let specificMediaHandlerBox: SoundMediaHeaderBox | VideoMediaHeaderBox = null;\n      let volume = 0;\n      let width = 0;\n      let height = 0;\n\n      if (handlerType === 'soun') {\n        volume = 1.0;\n        specificMediaHandlerBox = new SoundMediaHeaderBox(0);\n      } else if (handlerType === 'vide') {\n        width = trackInfo.width;\n        height = trackInfo.height;\n        specificMediaHandlerBox = new VideoMediaHeaderBox();\n      } else {\n        throw new Error('Unknown handler-type: ' + handlerType)\n      }\n\n      // TODO: make these constants\n\n      const trak = new TrackBox(\n        new TrackHeaderBox(trakFlags,\n          trackState.trackId,\n          trackInfo.duration / trackInfo.timescale, // FIXME: use unscaled duration values on external interface\n          width, height,\n          volume,\n          ordinalIndex),\n        new MediaBox(\n          new MediaHeaderBox(trackInfo.timescale, trackInfo.duration, trackInfo.language),\n          new HandlerBox(handlerType, handlerName),\n          new MediaInformationBox(\n            specificMediaHandlerBox,\n            new DataInformationBox(\n              new DataReferenceBox([new DataEntryUrlBox(SELF_CONTAINED_DATA_REFERENCE_FLAG)])),\n              sampleTable\n          )\n        )\n      );\n      return trak;\n    }\n\n    private _createPlainMovMediaData(): [MediaDataBox, StblSample[][]] {\n\n      const cachedPackets = this.cachedPackets;\n      const sampleTablesData: StblSample[][] = [];\n      const chunks: Uint8Array[][] = [];\n\n      let samples: StblSample[] = null;\n\n      for (let i = 0; i < this.trackStates.length; i++) {\n\n        const trackState = this.trackStates[i];\n        const trackInfo = trackState.trackInfo;\n        const trackId = trackState.trackId;\n\n        // Finding all packets for this track.\n        const trackPackets = cachedPackets.filter((cp) => cp.trackId === trackId);\n        if (trackPackets.length === 0) {\n          continue;\n        }\n\n        samples = []; // reset sample list\n        chunks.push([]); // init new chunk as empty list of uint8arrays\n\n        let samplesProcessed = trackState.samplesProcessed;\n        let dts = 0; // + trackState.cachedDuration ? ... but not really necessary in unfragmented mode\n\n        switch (trackInfo.codecId) {\n        case AAC_SOUND_CODEC_ID:\n        case MP3_SOUND_CODEC_ID: {\n\n          for (let j = 0; j < trackPackets.length; j++) {\n\n            const audioPacket: AudioPacket = trackPackets[j].packet;\n            const audioFrameDuration = Math.round(audioPacket.samples * trackInfo.timescale / trackInfo.samplerate);\n\n            const s: StblSample = {\n              size: audioPacket.data.length,\n              dts,\n              cts: dts,\n              isRap: true\n            };\n\n            samples.push(s);\n            chunks[i].push(audioPacket.data);\n\n            samplesProcessed += audioPacket.samples;\n            dts += audioFrameDuration;\n          }\n\n          trackState.samplesProcessed = samplesProcessed;\n          trackState.cachedDuration\n            = Math.round(trackState.samplesProcessed * trackInfo.timescale / trackInfo.samplerate);\n\n          break;\n        }\n        case AVC_VIDEO_CODEC_ID:\n        case VP6_VIDEO_CODEC_ID: {\n\n          let decodeTime = samplesProcessed * trackInfo.timescale / trackInfo.framerate; // ? not really needed in unfragmented mode\n          let lastDecodeTime = Math.round(decodeTime);\n\n          for (let j = 0; j < trackPackets.length; j++) {\n\n            const videoPacket: VideoPacket = trackPackets[j].packet;\n            const nextDecodeTime = Math.round(samplesProcessed * trackInfo.timescale / trackInfo.framerate);\n            const videoFrameDuration = nextDecodeTime - lastDecodeTime;\n\n            lastDecodeTime = nextDecodeTime;\n\n            const compositionTime = (trackInfo.timescale / trackInfo.framerate) + videoPacket.compositionTime;\n\n            const s: StblSample = {\n              size: videoPacket.data.length,\n              dts,\n              cts: compositionTime,\n              isRap: videoPacket.frameType === VideoFrameType.KEY\n            };\n\n            samples.push(s);\n            chunks[i].push(videoPacket.data);\n\n            samplesProcessed++;\n            dts += videoFrameDuration;\n          }\n\n          trackState.cachedDuration = lastDecodeTime;\n          trackState.samplesProcessed = samplesProcessed;\n          break;\n        }\n\n        default:\n          throw new Error('Unknown codec');\n        }\n\n        if (!samples) {\n          throw new Error('No sample list created when iterating on track-state');\n        }\n\n        sampleTablesData.push(samples);\n\n      }\n\n      const chunkData = flattenOneDeepNestedArray<Uint8Array>(chunks);\n\n      return [new MediaDataBox(chunkData), sampleTablesData];\n    }\n\n    private _makeMovHeader (fragmentedMode: boolean = true, samples: StblSample[][] = null, mdat?: MediaDataBox): Uint8Array {\n\n      if (fragmentedMode && mdat) {\n        throw new Error('Should not get mdat box in fragmented mode');\n      }\n\n      const allInitializationDataExists = this.trackStates.every((ts) => {\n        switch (ts.trackInfo.codecId) {\n        case AAC_SOUND_CODEC_ID:\n        case AVC_VIDEO_CODEC_ID:\n          return ts.initializationData.length > 0;\n        default:\n          return true;\n        }\n      });\n\n      if (!allInitializationDataExists) {\n        // warn('missing some initialization data to create moov atom');\n        return; // not enough data, waiting more\n      }\n\n      const brands: string[] = ['isom'];\n      const audioDataReferenceIndex = 1;\n      const videoDataReferenceIndex = 1;\n      const traks: TrackBox[] = [];\n      const trexs: TrackExtendsBox[] = [];\n      const traksData: {trakFlags: number, trackState: MP4TrackState, trackInfo: MP4Track, sampleDescEntry: SampleEntry}[] = []\n\n      for (let i = 0; i < this.trackStates.length; i++) {\n\n        let trackState = this.trackStates[i];\n        let trackInfo = trackState.trackInfo;\n        let sampleDescEntry: SampleEntry;\n\n        switch (trackInfo.codecId) {\n        case AAC_SOUND_CODEC_ID:\n          const audioSpecificConfig = trackState.initializationData[0];\n\n          sampleDescEntry = new AudioSampleEntry('mp4a', audioDataReferenceIndex, trackInfo.channels, trackInfo.samplesize, trackInfo.samplerate);\n\n          const esdsData = audioSpecificConfig;\n\n          // FIXME: instead of taking the data inside the ES_Descriptor we are using the data contained in esds atom directly\n          // i.e the \"framed\" ES_Descriptor data\n          /*\n          var esdsData = new Uint8Array(41 + audioSpecificConfig.length);\n          esdsData.set(hexToBytes('0000000003808080'), 0);\n          esdsData[8] = 32 + audioSpecificConfig.length;\n          esdsData.set(hexToBytes('00020004808080'), 9);\n          esdsData[16] = 18 + audioSpecificConfig.length;\n          esdsData.set(hexToBytes('40150000000000FA000000000005808080'), 17);\n          esdsData[34] = audioSpecificConfig.length;\n          esdsData.set(audioSpecificConfig, 35);\n          esdsData.set(hexToBytes('068080800102'), 35 + audioSpecificConfig.length);\n          */\n\n          (<AudioSampleEntry>sampleDescEntry).otherBoxes = [\n            new RawTag('esds', esdsData)\n          ];\n\n          let objectType = (audioSpecificConfig[0] >> 3); // TODO 31\n          // mp4a.40.objectType\n          trackState.mimeTypeCodec = 'mp4a.40.' + objectType; // 'mp4a.40.2'\n          break;\n        case MP3_SOUND_CODEC_ID:\n          sampleDescEntry = new AudioSampleEntry('.mp3', audioDataReferenceIndex, trackInfo.channels, trackInfo.samplesize, trackInfo.samplerate);\n          trackState.mimeTypeCodec = 'mp3';\n          break;\n        case AVC_VIDEO_CODEC_ID:\n          let avcC = trackState.initializationData[0];\n          sampleDescEntry = new VideoSampleEntry('avc1', videoDataReferenceIndex, trackInfo.width, trackInfo.height);\n          (<VideoSampleEntry>sampleDescEntry).otherBoxes = [\n            new RawTag('avcC', avcC)\n          ];\n          let codecProfile = (avcC[1] << 16) | (avcC[2] << 8) | avcC[3];\n          // avc1.XXYYZZ -- XX - profile + YY - constraints + ZZ - level\n          trackState.mimeTypeCodec = 'avc1.' + (0x1000000 | codecProfile).toString(16).substr(1);\n          brands.push('iso2', 'avc1', 'mp41');\n          break;\n        case VP6_VIDEO_CODEC_ID:\n          sampleDescEntry = new VideoSampleEntry('VP6F', videoDataReferenceIndex, trackInfo.width, trackInfo.height);\n          (<VideoSampleEntry>sampleDescEntry).otherBoxes = [\n            new RawTag('glbl', hexToBytes('00'))\n          ];\n          // TODO to lie about codec to get it playing in MSE?\n          trackState.mimeTypeCodec = 'avc1.42001E';\n          break;\n        default:\n          throw new Error('not supported track type');\n        }\n\n        let trakFlags = TrackHeaderFlags.TRACK_ENABLED | TrackHeaderFlags.TRACK_IN_MOVIE;\n\n        if (!samples && !fragmentedMode) {\n          throw new Error('Need sample-table content in unfragmented mode');\n        }\n\n        traksData.push({\n          trakFlags, trackState, trackInfo, sampleDescEntry\n        });\n\n        let trex = new TrackExtendsBox(trackState.trackId, 0, 0, 0, SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);\n        trexs.push(trex);\n      }\n\n      const mvex = fragmentedMode ? new MovieExtendsBox(null, trexs, null) : null;\n\n      let udat = null;\n      if (fragmentedMode) {\n        udat = new BoxContainerBox('udat', [\n          new MetaBox(\n            new RawTag('hdlr', hexToBytes('00000000000000006D6469726170706C000000000000000000')), // notice weird stuff in reserved field\n            [new RawTag('ilst', hexToBytes('00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034'))]\n          )\n        ]);\n      }\n\n      /**\n       * We are using the smallest of all track durations to set the movie header duration field and timescale\n       */\n      const minDurationTrackInfo = this.trackStates\n        .sort((a, b) => (a.trackInfo.duration / a.trackInfo.timescale) -\n                      (b.trackInfo.duration / b.trackInfo.timescale))\n        [0].trackInfo;\n\n      const mvhd = new MovieHeaderBox(\n        1, // HACK\n        minDurationTrackInfo.duration / minDurationTrackInfo.timescale,\n        this.trackStates.length + 1\n      );\n\n      // first we write the ftyp and eventually the wide & mdat boxes\n      let fileSizeBytes = 0;\n      const ftype = new FileTypeBox('isom', 0x00000200, brands);\n\n      fileSizeBytes += ftype.layout(0);\n\n      const wide: Box = fragmentedMode ? null : new RawTag('wide', hexToBytes(''));\n      if (wide) {\n        fileSizeBytes += wide.layout(fileSizeBytes);\n      }\n      // we store the offset after this, in case we are unfragmented and need to insert mdat now\n      // -> we need this offset to write the sample table chunk offsets\n      let mdatOffset = fileSizeBytes + 8;\n      if (mdat) {\n        fileSizeBytes += mdat.layout(fileSizeBytes);\n      }\n\n      // -> we can only package the sample-table once we know where the mdat will be\n      traksData.forEach(({trakFlags, trackInfo, trackState, sampleDescEntry}, i) => {\n\n        debug('creating sample table with mdat offset:', mdatOffset)\n\n        let sampleTable: SampleTableBox = fragmentedMode\n          ? SampleTablePackager.createEmptyForFragmentedMode([sampleDescEntry])\n            : SampleTablePackager.createFromSamplesInSingleChunk(sampleDescEntry, samples[i], mdatOffset);\n\n        // sum up all sample-sizes and add them up mdat offset now to shift the offset for the next track\n        mdatOffset += samples[i].reduce((totalSize, sample) => {\n          return totalSize + sample.size;\n        }, 0);\n\n        let trak = null;\n        if (trackState === this.audioTrackState) {\n          trak = this._createTrackBox(trakFlags, trackState, trackInfo, 'soun', 'SoundHandler', sampleTable, i);\n        } else if (trackState === this.videoTrackState) {\n          trak = this._createTrackBox(trakFlags, trackState, trackInfo, 'vide', 'VideoHandler', sampleTable, i);\n        }\n\n        if (!trak) {\n          throw new Error('There should be a new trak box created, but got null');\n        }\n        traks.push(trak);\n      });\n\n      // and now we can create the moov box\n      const moov = new MovieBox(mvhd, traks, mvex, udat);\n      fileSizeBytes += moov.layout(fileSizeBytes);\n\n      // finally we can write the file data with the whole structure\n      const fileData = new Uint8Array(fileSizeBytes);\n      ftype.write(fileData);\n      if (wide) {\n        wide.write(fileData);\n      }\n      if (mdat) {\n        mdat.write(fileData);\n      }\n      moov.write(fileData);\n      return fileData;\n    }\n\n    private _attemptToGenerateMovieHeader () {\n\n      if (!this.fragmentedMode) {\n        return;\n      }\n\n      const header = this._makeMovHeader(true);\n\n      this.oncodecinfo(this.trackStates.map((ts) => ts.mimeTypeCodec));\n      this.ondata(header);\n\n      this.filePos += header.length;\n      this.state = MP4MuxState.MAIN_PACKETS;\n    }\n\n    private _generateMovieFragment () {\n\n      if (!this.fragmentedMode) {\n        return;\n      }\n\n      let cachedPackets = this.cachedPackets;\n\n      if (SPLIT_AT_KEYFRAMES && this.videoTrackState) {\n        let j = cachedPackets.length - 1;\n\n        let videoTrackId = this.videoTrackState.trackId;\n        // Finding last video keyframe.\n        while (j > 0 &&\n               (cachedPackets[j].trackId !== videoTrackId || cachedPackets[j].packet.frameType !== VideoFrameType.KEY)) {\n          j--;\n        }\n        if (j > 0) {\n          // We have keyframes and not only the first frame is a keyframe...\n          cachedPackets = cachedPackets.slice(0, j);\n        }\n      }\n      if (cachedPackets.length === 0) {\n        return; // No data to produce.\n      }\n\n      let tdatParts: Uint8Array[] = [];\n      let tdatPosition: number = 0;\n      let trafs: TrackFragmentBox[] = [];\n      let trafDataStarts: number[] = [];\n\n      for (let i = 0; i < this.trackStates.length; i++) {\n        let trackState = this.trackStates[i];\n        let trackInfo = trackState.trackInfo;\n        let trackId = trackState.trackId;\n\n        // Finding all packets for this track.\n        let trackPackets = cachedPackets.filter((cp) => cp.trackId === trackId);\n        if (trackPackets.length === 0) {\n          continue;\n        }\n\n        // ??? not sure what this was doing but lets keep it around -> var currentTimestamp = (trackPackets[0].timestamp * trackInfo.timescale / 1000) | 0; ???\n\n        let tfdt = new TrackFragmentBaseMediaDecodeTimeBox(trackState.cachedDuration);\n        let trun: TrackRunBox;\n        let tfhd: TrackFragmentHeaderBox;\n        let trunSamples: TrackRunSample[];\n\n        trafDataStarts.push(tdatPosition);\n\n        switch (trackInfo.codecId) {\n        case AAC_SOUND_CODEC_ID:\n        case MP3_SOUND_CODEC_ID:\n\n          trunSamples = [];\n\n          for (let j = 0; j < trackPackets.length; j++) {\n\n            let audioPacket: AudioPacket = trackPackets[j].packet;\n            let audioFrameDuration = Math.round(audioPacket.samples * trackInfo.timescale / trackInfo.samplerate);\n\n            tdatParts.push(audioPacket.data);\n            tdatPosition += audioPacket.data.length;\n\n            trunSamples.push({ duration: audioFrameDuration, size: audioPacket.data.length });\n            trackState.samplesProcessed += audioPacket.samples;\n\n          }\n\n          var tfhdFlags = TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;\n          tfhd = new TrackFragmentHeaderBox(tfhdFlags, trackId, 0 /* offset */, 0 /* index */, 0 /* duration */, 0 /* size */,\n            SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);\n\n          var trunFlags = TrackRunFlags.DATA_OFFSET_PRESENT |\n                            TrackRunFlags.SAMPLE_DURATION_PRESENT | TrackRunFlags.SAMPLE_SIZE_PRESENT;\n          trun = new TrackRunBox(trunFlags, trunSamples, 0 /* data offset */, 0 /* first flags */);\n\n          trackState.cachedDuration\n            = Math.round(trackState.samplesProcessed * trackInfo.timescale / trackInfo.samplerate);\n\n          break;\n        case AVC_VIDEO_CODEC_ID:\n        case VP6_VIDEO_CODEC_ID:\n\n          trunSamples = [];\n\n          let samplesProcessed = trackState.samplesProcessed;\n          let decodeTime = samplesProcessed * trackInfo.timescale / trackInfo.framerate;\n          let lastTime = Math.round(decodeTime);\n\n          for (let j = 0; j < trackPackets.length; j++) {\n            let videoPacket: VideoPacket = trackPackets[j].packet;\n            samplesProcessed++;\n            let nextTime = Math.round(samplesProcessed * trackInfo.timescale / trackInfo.framerate);\n            let videoFrameDuration = nextTime - lastTime;\n            lastTime = nextTime;\n\n            let compositionTime = (trackInfo.timescale / trackInfo.framerate) + videoPacket.compositionTime;\n\n            // ??? not sure what this was doing but lets keep it around ... Math.round(samplesProcessed * trackInfo.timescale / trackInfo.framerate + videoPacket.compositionTime * trackInfo.timescale / 1000);\n\n            // -> this seems more senseful given that CT is defined as CT(n)  =  DT(n)  +  CTO(n)\n            let compositionTimeOffset = compositionTime - nextTime;\n\n            tdatParts.push(videoPacket.data);\n            tdatPosition += videoPacket.data.length;\n            let frameFlags = videoPacket.frameType === VideoFrameType.KEY\n              ? SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS\n              : (SampleFlags.SAMPLE_DEPENDS_ON_OTHER | SampleFlags.SAMPLE_IS_NOT_SYNC);\n            trunSamples.push({ duration: videoFrameDuration,\n              size: videoPacket.data.length,\n              flags: frameFlags,\n              compositionTimeOffset });\n          }\n\n          var tfhdFlags = TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;\n          tfhd = new TrackFragmentHeaderBox(tfhdFlags, trackId, 0 /* offset */, 0 /* index */, 0 /* duration */, 0 /* size */,\n            SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);\n\n          var trunFlags = TrackRunFlags.DATA_OFFSET_PRESENT | TrackRunFlags.FIRST_SAMPLE_FLAGS_PRESENT |\n                            TrackRunFlags.SAMPLE_DURATION_PRESENT | TrackRunFlags.SAMPLE_SIZE_PRESENT |\n                            TrackRunFlags.SAMPLE_FLAGS_PRESENT | TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET;\n          trun = new TrackRunBox(trunFlags, trunSamples, 0 /* data offset */, SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);\n\n          trackState.cachedDuration = lastTime;\n          trackState.samplesProcessed = samplesProcessed;\n          break;\n        default:\n          throw new Error('Unknown codec');\n        }\n\n        let traf = new TrackFragmentBox(tfhd, tfdt, trun);\n        trafs.push(traf);\n      }\n\n      this.cachedPackets.splice(0, cachedPackets.length);\n\n      let moofHeader = new MovieFragmentHeaderBox(++this.chunkIndex);\n      let moof = new MovieFragmentBox(moofHeader, trafs);\n      let moofSize = moof.layout(0);\n      let mdat = new MediaDataBox(tdatParts);\n      let mdatSize = mdat.layout(moofSize);\n\n      let tdatOffset = moofSize + 8;\n      for (let i = 0; i < trafs.length; i++) {\n        trafs[i].run.dataOffset = tdatOffset + trafDataStarts[i];\n      }\n\n      const chunk = new Uint8Array(moofSize + mdatSize);\n      moof.write(chunk);\n      mdat.write(chunk);\n\n      this.ondata(chunk);\n      this.filePos += chunk.length;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mozilla-rtmpjs/mp4mux.ts","import { Box } from './mp4iso-base';\n\nimport { SampleTableBox,\n  SampleDescriptionBox,\n  DecodingTimeToSampleBox,\n  CompositionTimeToSampleBox,\n  SampleToChunkBox, SampleSizeBox,\n  ChunkOffsetBox,\n  StblSample,\n  DecodingTimeToSampleEntry,\n  CompositionTimeToSampleEntry,\n  SampleToChunkEntry,\n  SyncSampleBox} from './mp4iso-boxes';\n\nimport { getLogger } from '../../logger';\n\nconst {log} = getLogger('MP4SampleTablePackager(moz)');\n\nexport class SampleTablePackager {\n\n  static createEmptyForFragmentedMode(sampleDescriptionEntries: Box[]): SampleTableBox {\n\n    return new SampleTableBox(\n      new SampleDescriptionBox(sampleDescriptionEntries),\n      new DecodingTimeToSampleBox(0, []),\n      new CompositionTimeToSampleBox(0, []),\n      new SampleToChunkBox([]),\n      new SampleSizeBox([]),\n      new ChunkOffsetBox([]),\n      // new SyncSampleBox([])\n    )\n  }\n\n  /**\n   * Assumes all samples be located in a contiguous chunk\n   * where every sample is followed by the next one. This means\n   * only the original offset needs to be input, and all sample offsets\n   * can get derived from the aforementioned sample sizes.\n   *\n   * @param sampleDescriptionEntry\n   * @param samples\n   * @param chunkOffset\n   */\n  static createFromSamplesInSingleChunk(\n    sampleDescriptionEntry: Box,\n    samples: StblSample[],\n    chunkOffset: number\n    ): SampleTableBox {\n\n      log('creating sample table from samples:',\n        samples, 'at offset:', chunkOffset,'sample description entry:', sampleDescriptionEntry)\n\n      const stts: DecodingTimeToSampleEntry[] = [];\n      const ctts: CompositionTimeToSampleEntry[] = [];\n\n      // reduce all the indices where a random-access-point is found into a covenient list...\n      const stss: number[]\n        = samples.reduce((array, sample, index) => {\n          if (sample.isRap) {\n            array.push(index + 1)\n          }\n          return array;\n        },\n      []);\n\n      const stsz: number[] = samples.map((sample) => sample.size);\n\n      // \"now must we compress thy deltas & offsets ...\"\n      {\n\n        // we want to compact the timing information using the following iteration\n        // => delta(i+1) = DTS(i+1) - DTS(i)\n\n        let previousSampleDts: number = null;\n        let sampleCount = 0;\n        let sampleDelta: number = null;\n        for (let i = 0; i < samples.length; i++) {\n          const sample = samples[i];\n\n          // here we need to a previous sample dts to compute any delta at all\n          if (previousSampleDts !== null) {\n            // if we have a new delta coming up push new entry and reset\n            // (only we have had sampleDelta set at all before - init case!)\n            const latestDelta = sample.dts - previousSampleDts;\n\n            if (latestDelta != sampleDelta && sampleDelta !== null\n              || (i === samples.length -1)) {\n              if (sampleDelta === null) {\n                sampleDelta = latestDelta;\n              }\n              stts.push({\n                sampleCount,\n                sampleDelta\n              });\n              // reset sample count after writing an entry\n              sampleCount = 0;\n              // reset / store latest delta\n              sampleDelta = latestDelta;\n            }\n          }\n          // as long as we are on the same delta, increment sample count\n          sampleCount++;\n          // store previous dts (even very first)\n          previousSampleDts = sample.dts;\n        }\n      }\n\n      // similar to above ^ but not same. now we are looking at CTO(n) = CTS(n) - DTS(n)\n      // so this is coding the difference between the two time-series for (n) as opposed to\n      // the difference between n and n+1 in the same series\n      {\n        let sampleCount = 0;\n        let sampleOffset: number = null;\n\n        for (let i = 0; i < samples.length; i++) {\n          const sample = samples[i];\n          // compute cto of this sample position\n          const latestPtOffset = sample.cts - sample.dts;\n          // check for init case\n          if (sampleOffset !== null) { // only go here when previous offset set\n            // if we have a new cto value push an entry and reset counter\n            if (latestPtOffset !== sampleOffset\n              || (i === samples.length -1)) {\n              // write entry\n              ctts.push({\n                sampleCount,\n                sampleOffset\n              });\n              // reset counters\n              sampleCount = 0;\n              sampleOffset = latestPtOffset;\n            }\n          } else {\n            // only for init case\n            sampleOffset = latestPtOffset;\n          }\n          // increment sample count every time\n          sampleCount++;\n        }\n      }\n\n      const stsc: SampleToChunkEntry[] = [{\n        firstChunk: 1,\n        samplesPerChunk: samples.length,\n        sampleDescriptionIndex: 1\n      }];\n\n      return new SampleTableBox(\n        new SampleDescriptionBox([sampleDescriptionEntry]),\n        new DecodingTimeToSampleBox(0, stts),\n        new CompositionTimeToSampleBox(0, ctts),\n        new SampleToChunkBox(stsc),\n        new SampleSizeBox(stsz),\n        new ChunkOffsetBox([chunkOffset]),\n        new SyncSampleBox(stss)\n      )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/mozilla-rtmpjs/mp4iso-sample-table.ts","\nimport {AACUtils} from './aac-utils';\nimport {MP4Generator} from './mp4-generator';\n\nimport { getLogger } from '../../logger';\nimport { isBrowserBrand, BrowserBrandname } from '../../browser-utils';\n\nconst { log, warn, debug } = getLogger('Fmp4Remuxer');\n\nconst logger = {\n  warn,\n  log,\n  trace: debug\n};\n\n// FIXME: make this config\nconst MAX_SILENT_FRAME_DURATION = 10 * 1000; // millis\n\nexport enum Fmp4RemuxerEvent {\n  PARSING_DONE,\n  WROTE_INIT_SEGMENT,\n  WROTE_PAYLOAD_SEGMENT,\n  GOT_METADATA,\n  GOT_USER_DATA,\n  GOT_INIT_PTS_VALUE,\n  FAILURE\n}\n\n// local short-hand\nconst Event = Fmp4RemuxerEvent;\n\nexport type Fmp4RemuxerNALU = {\n  data: Uint8Array\n};\n\nexport type Fmp4RemuxerSample = {\n  pts: number\n  dts: number\n  length: number\n  id: number,\n  units: Fmp4RemuxerNALU[]\n  key: boolean\n};\n\nexport type Fmp4RemuxerTrackType = 'audio' | 'video' | 'subtitles';\n\nexport type Fmp4RemuxerTrack = {\n  type: Fmp4RemuxerTrackType\n  id: number\n  duration: number\n  codec: string\n  timescale: number\n  inputTimeScale: number\n  sequenceNumber: number\n  samples: Fmp4RemuxerSample[]\n};\n\nexport type Fmp4RemuxerAudioTrack = Fmp4RemuxerTrack & {\n  manifestCodec: string\n  config: number[]\n  samplerate: number\n  isAAC: boolean\n  channelCount: number\n\n  // FIXME: needs to be written to externally\n  // should be private\n  len: number\n  nbNalu: number\n};\n\nexport type Fmp4RemuxerVideoTrack = Fmp4RemuxerTrack & {\n  sps: Uint8Array[]\n  pps: Uint8Array[]\n  width: number\n  height: number\n  dropped: number\n  pixelRatio: [number, number]\n\n  // should be private\n  len: number\n  nbNalu: number\n};\n\nexport type Fmp4RemuxerId3Track = {\n  samples: Fmp4RemuxerSample[]\n};\n\nexport type Fmp4RemuxerTextTrack = {\n  samples: Fmp4RemuxerSample[]\n};\n\nexport type Fmp4RemuxerEventHandler = (event: Fmp4RemuxerEvent, data?) => void;\n\nexport type Fmp4RemuxerConfig = {\n  maxBufferHole: number\n  maxAudioFramesDrift: number,\n  stretchShortVideoTrack: boolean\n};\n\nexport type Fmp4RemuxerTypesSupported = {\n  [key: string]: boolean\n};\n\nexport type Fmp4RemuxerTrackState = {\n  audio: {\n    codec: string\n    container: string\n    initSegment: Uint8Array\n    metadata: {\n      channelCount: number\n    }\n  }\n  video: {\n    codec: string\n    container: string\n    initSegment: Uint8Array\n    metadata: {\n      width: number\n      height: number\n    }\n  }\n}\n\nexport type Fmp4RemuxerPayloadSegmentData = {\n  payloadType: Fmp4RemuxerTrackType,\n  codec: string\n  startPTS: number\n  endPTS: number\n  startDTS: number\n  endDTS: number\n  hasAudio: boolean,\n  hasVideo: boolean,\n  fragmentHeader: Uint8Array\n  fragmentData: Uint8Array\n  nbOfSamples: number\n  nbOfDroppedSamples?: number\n}\n\nexport class Fmp4Remuxer {\n\n  private readonly _observer: {\n    trigger: Fmp4RemuxerEventHandler\n  };\n  private readonly _config: Fmp4RemuxerConfig;\n  private readonly _typeSupported: Fmp4RemuxerTypesSupported;\n  private readonly _isSafari = isBrowserBrand(BrowserBrandname.SAFARI);\n\n  private _initSegmentGenerated: boolean = false;\n  private _nextAudioPts: number = 0;\n  private _nextAvcDts: number = 0;\n  private _initPts: number = null;\n  private _initDts: number = null;\n\n  constructor (\n    onEvent: Fmp4RemuxerEventHandler,\n    config: Fmp4RemuxerConfig,\n    typeSupported: Fmp4RemuxerTypesSupported = {}\n    ) {\n    this._observer = {\n      trigger: (event: Fmp4RemuxerEvent, data?: any) => {\n        // logger.log('event:', event, data);\n        onEvent(event, data);\n      }\n    };\n    this._config = config;\n    this._typeSupported = typeSupported;\n  }\n\n  destroy () {}\n\n  process (\n    audioTrack: Fmp4RemuxerAudioTrack,\n    videoTrack: Fmp4RemuxerVideoTrack,\n    id3Track: Fmp4RemuxerId3Track | null,\n    textTrack: Fmp4RemuxerTextTrack | null,\n    timeOffset: number,\n    contiguous: boolean,\n    accurateTimeOffset: boolean\n  ) {\n    // generate Init Segment if needed\n    if (!this._initSegmentGenerated) {\n      this._generateInitSegment(audioTrack, videoTrack, timeOffset);\n    }\n\n    if (this._initSegmentGenerated) {\n      const nbAudioSamples = audioTrack.samples.length;\n      const nbVideoSamples = videoTrack.samples.length;\n      let audioTimeOffset = timeOffset;\n      let videoTimeOffset = timeOffset;\n\n      if (nbAudioSamples && nbVideoSamples) {\n        // timeOffset is expected to be the offset of the first timestamp of this fragment (first DTS)\n        // if first audio DTS is not aligned with first video DTS then we need to take that into account\n        // when providing timeOffset to remuxAudio / remuxVideo. if we don't do that, there might be a permanent / small\n        // drift between audio and video streams\n        let audiovideoDeltaDts = (audioTrack.samples[0].dts - videoTrack.samples[0].dts) / videoTrack.inputTimeScale;\n        audioTimeOffset += Math.max(0, audiovideoDeltaDts);\n        videoTimeOffset += Math.max(0, -audiovideoDeltaDts);\n      }\n\n      // Purposefully remuxing audio before video, so that remuxVideo can use nextAudioPts, which is\n      // calculated in remuxAudio.\n\n      logger.log('nb AAC samples:' + audioTrack.samples.length);\n\n      if (nbAudioSamples) {\n        // if initSegment was generated without video samples, regenerate it again\n        if (!audioTrack.timescale) {\n          logger.warn('regenerate InitSegment as audio detected');\n          this._generateInitSegment(audioTrack, videoTrack, timeOffset);\n        }\n\n        let audioData = this._remuxAudio(audioTrack, audioTimeOffset, contiguous, accurateTimeOffset);\n\n        if (nbVideoSamples) {\n          let audioTrackLength;\n          if (audioData) {\n            audioTrackLength = audioData.endPTS - audioData.startPTS;\n          }\n\n          // if initSegment was generated without video samples, regenerate it again\n          if (!videoTrack.timescale) {\n            logger.warn('regenerate InitSegment as video detected');\n            this._generateInitSegment(audioTrack, videoTrack, timeOffset);\n          }\n          this._remuxVideo(videoTrack, videoTimeOffset, contiguous, audioTrackLength, accurateTimeOffset);\n        }\n      } else {\n        logger.log('nb AVC samples:' + videoTrack.samples.length);\n\n        if (nbVideoSamples) {\n          let videoData = this._remuxVideo(videoTrack, videoTimeOffset, contiguous, 0, accurateTimeOffset);\n          if (videoData && audioTrack.codec) {\n            this._remuxEmptyAudio(audioTrack, audioTimeOffset, contiguous, videoData);\n          }\n        }\n      }\n    }\n\n    logger.log('nb ID3 samples:' + audioTrack.samples.length);\n\n    if (id3Track && id3Track.samples.length) {\n      this._remuxID3(id3Track, timeOffset);\n    }\n\n    logger.log('nb ID3 samples:' + audioTrack.samples.length);\n    if (textTrack && textTrack.samples.length) {\n      this._remuxText(textTrack, timeOffset);\n    }\n\n    // notify end of parsing\n    this._observer.trigger(Event.PARSING_DONE);\n  }\n\n  private _generateInitSegment (audioTrack: Fmp4RemuxerAudioTrack, videoTrack: Fmp4RemuxerVideoTrack, timeOffset: number) {\n    let observer = this._observer;\n    let audioSamples = audioTrack.samples;\n    let videoSamples = videoTrack.samples;\n    let typeSupported = this._typeSupported;\n    let containerMimetype = 'audio/mp4';\n    let tracks: Partial<Fmp4RemuxerTrackState> = {};\n    let data = { tracks };\n    let computeInitialSyncTime: boolean = (this._initPts === null)\n    let initPTS: number;\n    let initDTS: number;\n\n    if (computeInitialSyncTime) {\n      initPTS = initDTS = Infinity;\n    }\n\n    if (audioTrack.config && audioSamples.length) {\n      // let's use audio sampling rate as MP4 time scale.\n      // rationale is that there is a integer nb of audio frames per audio sample (1024 for AAC)\n      // using audio sampling rate here helps having an integer MP4 frame duration\n      // this avoids potential rounding issue and AV sync issue\n      audioTrack.timescale = audioTrack.samplerate;\n      logger.log(`audio sampling rate : ${audioTrack.samplerate}`);\n      if (!audioTrack.isAAC) {\n        if (typeSupported.mpeg) { // Chrome and Safari\n          containerMimetype = 'audio/mpeg';\n          audioTrack.codec = '';\n        } else if (typeSupported.mp3) { // Firefox\n          audioTrack.codec = 'mp3';\n        }\n      }\n      tracks.audio = {\n        container: containerMimetype,\n        codec: audioTrack.codec,\n        initSegment: !audioTrack.isAAC && typeSupported.mpeg ? new Uint8Array(0) : MP4Generator.initSegment([audioTrack]),\n        metadata: {\n          channelCount: audioTrack.channelCount\n        }\n      };\n      if (computeInitialSyncTime) {\n        // remember first PTS of this demuxing context. for audio, PTS = DTS\n        initPTS = initDTS = audioSamples[0].pts - audioTrack.inputTimeScale * timeOffset;\n      }\n    }\n\n    if (videoTrack.sps && videoTrack.pps && videoSamples.length) {\n      // let's use input time scale as MP4 video timescale\n      // we use input time scale straight away to avoid rounding issues on frame duration / cts computation\n      const inputTimeScale = videoTrack.inputTimeScale;\n      videoTrack.timescale = inputTimeScale;\n      tracks.video = {\n        container: 'video/mp4',\n        codec: videoTrack.codec,\n        initSegment: MP4Generator.initSegment([videoTrack]),\n        metadata: {\n          width: videoTrack.width,\n          height: videoTrack.height\n        }\n      };\n      if (computeInitialSyncTime) {\n        initPTS = Math.min(initPTS, videoSamples[0].pts - inputTimeScale * timeOffset);\n        initDTS = Math.min(initDTS, videoSamples[0].dts - inputTimeScale * timeOffset);\n\n        this._observer.trigger(Event.GOT_INIT_PTS_VALUE, initPTS);\n      }\n    }\n\n    if (Object.keys(tracks).length) {\n      observer.trigger(Event.WROTE_INIT_SEGMENT, data);\n      this._initSegmentGenerated = true;\n      if (computeInitialSyncTime) {\n        this._initPts = initPTS;\n        this._initDts = initDTS;\n      }\n    } else {\n      observer.trigger(Event.FAILURE, 'no audio/video samples found');\n    }\n  }\n\n  private _remuxVideo (track: Fmp4RemuxerVideoTrack,\n    timeOffset: number, contiguous: boolean, audioTrackLength: number, accurateTimeOffset: boolean) {\n\n    let offset = 8;\n    let timeScale = track.timescale;\n    let mp4SampleDuration;\n    let mdat;\n    let moof;\n    let firstPTS;\n    let firstDTS;\n\n    let nextDTS;\n\n    let lastPTS;\n    let lastDTS;\n\n    let inputSamples = track.samples;\n    let outputSamples = [];\n    let nbSamples = inputSamples.length;\n    let initDTS = this._initDts;\n\n    // for (let i = 0; i < track.samples.length; i++) {\n    //   let avcSample = track.samples[i];\n    //   let units = avcSample.units;\n    //   let unitsString = '';\n    //   for (let j = 0; j < units.length ; j++) {\n    //     unitsString += units[j].type + ',';\n    //     if (units[j].data.length < 500) {\n    //       unitsString += Hex.hexDump(units[j].data);\n    //     }\n    //   }\n    //   logger.log(avcSample.pts + '/' + avcSample.dts + ',' + unitsString + avcSample.units.length);\n    // }\n\n    // if parsed fragment is contiguous with last one, let's use last DTS value as reference\n    let nextAvcDts = this._nextAvcDts;\n\n    const isSafari = this._isSafari;\n\n    if (nbSamples === 0) {\n      return;\n    }\n\n    // Safari does not like overlapping DTS on consecutive fragments. let's use nextAvcDts to overcome this if fragments are consecutive\n    if (isSafari) {\n      // also consider consecutive fragments as being contiguous (even if a level switch occurs),\n      // for sake of clarity:\n      // consecutive fragments are frags with\n      //  - less than 100ms gaps between new time offset (if accurate) and next expected PTS OR\n      //  - less than 200 ms PTS gaps (timeScale/5)\n      (<any> contiguous) |= <any> (inputSamples.length && nextAvcDts &&\n                     ((accurateTimeOffset && Math.abs(timeOffset - nextAvcDts / timeScale) < 0.1) ||\n                      Math.abs((inputSamples[0].pts - nextAvcDts - initDTS)) < timeScale / 5)\n      );\n    }\n\n    if (!contiguous) {\n      // if not contiguous, let's use target timeOffset\n      nextAvcDts = timeOffset * timeScale;\n    }\n\n    // PTS is coded on 33bits, and can loop from -2^32 to 2^32\n    // ptsNormalize will make PTS/DTS value monotonic, we use last known DTS value as reference value\n    inputSamples.forEach((sample) => {\n      sample.pts = _wrapAroundPts(sample.pts - initDTS, nextAvcDts);\n      sample.dts = _wrapAroundPts(sample.dts - initDTS, nextAvcDts);\n    });\n\n    // sort video samples by DTS then PTS then demux id order\n    inputSamples.sort(function (a, b) {\n      const deltadts = a.dts - b.dts;\n      const deltapts = a.pts - b.pts;\n      return deltadts || (deltapts || (a.id - b.id));\n    });\n\n    /*\n    // handle broken streams with PTS < DTS, tolerance up 200ms (18000 in 90kHz timescale)\n    let PTSDTSshift = inputSamples.reduce((prev, curr) => Math.max(Math.min(prev, curr.pts - curr.dts), -18000), 0);\n    if (PTSDTSshift < 0) {\n      logger.warn(`PTS < DTS detected in video samples, shifting DTS by ${Math.round(PTSDTSshift / 90)} ms to overcome this issue`);\n      for (let i = 0; i < inputSamples.length; i++) {\n        inputSamples[i].dts += PTSDTSshift;\n      }\n    }\n    */\n\n    // compute first DTS and last DTS, normalize them against reference value\n    let sample = inputSamples[0];\n    firstDTS = Math.max(sample.dts, 0);\n    firstPTS = Math.max(sample.pts, 0);\n\n    // check timestamp continuity accross consecutive fragments (this is to remove inter-fragment gap/hole)\n    let delta = Math.round((firstDTS - nextAvcDts) / 90);\n    // if fragment are contiguous, detect hole/overlapping between fragments\n    if (contiguous) {\n      if (delta) {\n        if (delta > 1) {\n          logger.log(`AVC: ${delta} ms hole between fragments detected, filling it`);\n        } else if (delta < -1) {\n          logger.log(`AVC: ${(-delta)} ms overlapping between fragments detected`);\n        }\n\n        // remove hole/gap : set DTS to next expected DTS\n        firstDTS = nextAvcDts;\n        inputSamples[0].dts = firstDTS;\n        // offset PTS as well, ensure that PTS is smaller or equal than new DTS\n        firstPTS = Math.max(firstPTS - delta, nextAvcDts);\n        inputSamples[0].pts = firstPTS;\n        logger.log(`Video PTS/DTS adjusted: ${Math.round(firstPTS / 90)}/${Math.round(firstDTS / 90)},delta:${delta} ms`);\n      }\n    }\n    nextDTS = firstDTS;\n\n    // compute lastPTS/lastDTS\n    sample = inputSamples[inputSamples.length - 1];\n    lastDTS = Math.max(sample.dts, 0);\n    lastPTS = Math.max(sample.pts, 0, lastDTS);\n\n    // on Safari let's signal the same sample duration for all samples\n    // sample duration (as expected by trun MP4 boxes), should be the delta between sample DTS\n    // set this constant duration as being the avg delta between consecutive DTS.\n    if (isSafari) {\n      mp4SampleDuration = Math.round((lastDTS - firstDTS) / (inputSamples.length - 1));\n    }\n\n    let nbNalu = 0; let naluLen = 0;\n    for (let i = 0; i < nbSamples; i++) {\n      // compute total/avc sample length and nb of NAL units\n      let sample = inputSamples[i]; let units = sample.units; let nbUnits = units.length; let sampleLen = 0;\n      for (let j = 0; j < nbUnits; j++) {\n        sampleLen += units[j].data.length;\n      }\n\n      naluLen += sampleLen;\n      nbNalu += nbUnits;\n      sample.length = sampleLen;\n\n      // normalize PTS/DTS\n      if (isSafari) {\n        // sample DTS is computed using a constant decoding offset (mp4SampleDuration) between samples\n        sample.dts = firstDTS + i * mp4SampleDuration;\n      } else {\n        // ensure sample monotonic DTS\n        sample.dts = Math.max(sample.dts, firstDTS);\n      }\n      // ensure that computed value is greater or equal than sample DTS\n      sample.pts = Math.max(sample.pts, sample.dts);\n    }\n\n    /* concatenate the video data and construct the mdat in place\n      (need 8 more bytes to fill length and mpdat type) */\n    let mdatSize = naluLen + (4 * nbNalu) + 8;\n    try {\n      mdat = new Uint8Array(mdatSize);\n    } catch (err) {\n      this._observer.trigger(Event.FAILURE, `failed to allocate video mdat of ${mdatSize} bytes`);\n      return;\n    }\n\n    let view = new DataView(mdat.buffer);\n    view.setUint32(0, mdatSize);\n    mdat.set((<any> MP4Generator).types.mdat, 4);\n\n    for (let i = 0; i < nbSamples; i++) {\n      let avcSample = inputSamples[i];\n\n      let avcSampleUnits = avcSample.units;\n\n      let mp4SampleLength = 0;\n\n      let compositionTimeOffset;\n      // convert NALU bitstream to MP4 format (prepend NALU with size field)\n      for (let j = 0, nbUnits = avcSampleUnits.length; j < nbUnits; j++) {\n        let unit = avcSampleUnits[j];\n\n        let unitData = unit.data;\n\n        let unitDataLen = unit.data.byteLength;\n        view.setUint32(offset, unitDataLen);\n        offset += 4;\n        mdat.set(unitData, offset);\n        offset += unitDataLen;\n        mp4SampleLength += 4 + unitDataLen;\n      }\n\n      if (!isSafari) {\n        // expected sample duration is the Decoding Timestamp diff of consecutive samples\n        if (i < nbSamples - 1) {\n          mp4SampleDuration = inputSamples[i + 1].dts - avcSample.dts;\n        } else {\n          let config = this._config;\n\n          let lastFrameDuration = avcSample.dts - inputSamples[i > 0 ? i - 1 : i].dts;\n          if (config.stretchShortVideoTrack) {\n            // In some cases, a segment's audio track duration may exceed the video track duration.\n            // Since we've already remuxed audio, and we know how long the audio track is, we look to\n            // see if the delta to the next segment is longer than maxBufferHole.\n            // If so, playback would potentially get stuck, so we artificially inflate\n            // the duration of the last frame to minimize any potential gap between segments.\n            let maxBufferHole = config.maxBufferHole;\n\n            let gapTolerance = Math.floor(maxBufferHole * timeScale);\n\n            let deltaToFrameEnd = (audioTrackLength ? firstPTS + audioTrackLength * timeScale : this._nextAudioPts) - avcSample.pts;\n            if (deltaToFrameEnd > gapTolerance) {\n              // We subtract lastFrameDuration from deltaToFrameEnd to try to prevent any video\n              // frame overlap. maxBufferHole should be >> lastFrameDuration anyway.\n              mp4SampleDuration = deltaToFrameEnd - lastFrameDuration;\n              if (mp4SampleDuration < 0) {\n                mp4SampleDuration = lastFrameDuration;\n              }\n\n              logger.log(`It is approximately ${deltaToFrameEnd / 90} ms to the next segment; using duration ${mp4SampleDuration / 90} ms for the last video frame.`);\n            } else {\n              mp4SampleDuration = lastFrameDuration;\n            }\n          } else {\n            mp4SampleDuration = lastFrameDuration;\n          }\n        }\n        compositionTimeOffset = Math.round(avcSample.pts - avcSample.dts);\n      } else {\n        compositionTimeOffset = Math.max(0, mp4SampleDuration * Math.round((avcSample.pts - avcSample.dts) / mp4SampleDuration));\n      }\n\n      // console.log('PTS/DTS/initDTS/normPTS/normDTS/relative PTS : ${avcSample.pts}/${avcSample.dts}/${initDTS}/${ptsnorm}/${dtsnorm}/${(avcSample.pts/4294967296).toFixed(3)}');\n      outputSamples.push({\n        size: mp4SampleLength,\n        // constant duration\n        duration: mp4SampleDuration,\n        cts: compositionTimeOffset,\n        flags: {\n          isLeading: 0,\n          isDependedOn: 0,\n          hasRedundancy: 0,\n          degradPrio: 0,\n          dependsOn: avcSample.key ? 2 : 1,\n          isNonSync: avcSample.key ? 0 : 1\n        }\n      });\n    }\n    // next AVC sample DTS should be equal to last sample DTS + last sample duration (in PES timescale)\n    this._nextAvcDts = lastDTS + mp4SampleDuration;\n    let nbOfDroppedSamples = track.dropped;\n    track.len = 0;\n    track.nbNalu = 0;\n    track.dropped = 0;\n    if (outputSamples.length && navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {\n      let flags = outputSamples[0].flags;\n      // chrome workaround, mark first sample as being a Random Access Point to avoid sourcebuffer append issue\n      // https://code.google.com/p/chromium/issues/detail?id=229412\n      flags.dependsOn = 2;\n      flags.isNonSync = 0;\n    }\n    track.samples = outputSamples;\n    moof = MP4Generator.moof(track.sequenceNumber++, firstDTS, track);\n    track.samples = [];\n\n    const data: Fmp4RemuxerPayloadSegmentData = {\n      payloadType: 'video',\n      codec: track.codec,\n      startPTS: firstPTS / timeScale,\n      endPTS: (lastPTS + mp4SampleDuration) / timeScale,\n      startDTS: firstDTS / timeScale,\n      endDTS: this._nextAvcDts / timeScale,\n      hasAudio: false,\n      hasVideo: true,\n      nbOfSamples: outputSamples.length,\n      nbOfDroppedSamples,\n      fragmentHeader: moof,\n      fragmentData: mdat\n    };\n    this._observer.trigger(Event.WROTE_PAYLOAD_SEGMENT, data);\n    return data;\n  }\n\n  private _remuxAudio (\n    track: Fmp4RemuxerAudioTrack,\n    timeOffset: number,\n    contiguous: boolean,\n    accurateTimeOffset?): Fmp4RemuxerPayloadSegmentData {\n\n    const inputTimeScale = track.inputTimeScale;\n    const mp4timeScale = track.timescale;\n    const scaleFactor = inputTimeScale / mp4timeScale;\n    const mp4SampleDuration = track.isAAC ? 1024 : 1152;\n    const inputSampleDuration = mp4SampleDuration * scaleFactor;\n    const initDTS = this._initDts;\n    const rawMPEG = !track.isAAC && this._typeSupported.mpeg;\n\n    let offset;\n    let mp4Sample;\n    let fillFrame;\n    let fragmentData;\n    let fragmentHeader;\n    let firstPTS;\n    let lastPTS;\n    let inputSamples = track.samples;\n    let outputSamples = [];\n    let nextAudioPts = this._nextAudioPts;\n\n    // for audio samples, also consider consecutive fragments as being contiguous (even if a level switch occurs),\n    // for sake of clarity:\n    // consecutive fragments are frags with\n    //  - less than 100ms gaps between new time offset (if accurate) and next expected PTS OR\n    //  - less than 20 audio frames distance\n    // contiguous fragments are consecutive fragments from same quality level (same level, new SN = old SN + 1)\n    // this helps ensuring audio continuity\n    // and this also avoids audio glitches/cut when switching quality, or reporting wrong duration on first audio frame\n    (<any> contiguous) |= <any> (inputSamples.length && nextAudioPts &&\n                   ((accurateTimeOffset && Math.abs(timeOffset - nextAudioPts / inputTimeScale) < 0.1) ||\n                    Math.abs((inputSamples[0].pts - nextAudioPts - initDTS)) < 20 * inputSampleDuration)\n    );\n\n    // compute normalized PTS\n    inputSamples.forEach((sample) => {\n      sample.pts = sample.dts = _wrapAroundPts(sample.pts - initDTS, timeOffset * inputTimeScale);\n    });\n\n    // filter out sample with negative PTS that are not playable anyway\n    // if we don't remove these negative samples, they will shift all audio samples forward.\n    // leading to audio overlap between current / next fragment\n    inputSamples = inputSamples.filter(function (sample) {\n      return sample.pts >= 0;\n    });\n\n    // in case all samples have negative PTS, and have been filtered out, return now\n    if (inputSamples.length === 0) {\n      return;\n    }\n\n    if (!contiguous) {\n      if (!accurateTimeOffset) {\n        // if frag are mot contiguous and if we cant trust time offset, let's use first sample PTS as next audio PTS\n        nextAudioPts = inputSamples[0].pts;\n      } else {\n        // if timeOffset is accurate, let's use it as predicted next audio PTS\n        nextAudioPts = timeOffset * inputTimeScale;\n      }\n    }\n\n    // If the audio track is missing samples, the frames seem to get \"left-shifted\" within the\n    // resulting mp4 segment, causing sync issues and leaving gaps at the end of the audio segment.\n    // In an effort to prevent this from happening, we inject frames here where there are gaps.\n    // When possible, we inject a silent frame; when that's not possible, we duplicate the last\n    // frame.\n\n    if (track.isAAC) {\n      const maxAudioFramesDrift = this._config.maxAudioFramesDrift;\n      for (let i = 0, nextPts = nextAudioPts; i < inputSamples.length;) {\n        // First, let's see how far off this frame is from where we expect it to be\n        let sample = inputSamples[i]; let delta;\n        let pts = sample.pts;\n        delta = pts - nextPts;\n\n        const duration = Math.abs(1000 * delta / inputTimeScale);\n\n        // If we're overlapping by more than a duration, drop this sample\n        if (delta <= -maxAudioFramesDrift * inputSampleDuration) {\n          logger.warn(`Dropping 1 audio frame @ ${(nextPts / inputTimeScale).toFixed(3)}s due to ${Math.round(duration)} ms overlap.`);\n          inputSamples.splice(i, 1);\n          track.len -= sample.units[0].data.length;\n          // Don't touch nextPtsNorm or i\n        }\n        // Insert missing frames if:\n        // 1: We're more than maxAudioFramesDrift frame away\n        // 2: Not more than MAX_SILENT_FRAME_DURATION away\n        // 3: currentTime (aka nextPtsNorm) is not 0\n        // tslint:disable-next-line: one-line\n        else if (delta >= maxAudioFramesDrift * inputSampleDuration && duration < MAX_SILENT_FRAME_DURATION && nextPts) {\n          let missing = Math.round(delta / inputSampleDuration);\n          logger.warn(`Injecting ${missing} audio frame @ ${(nextPts / inputTimeScale).toFixed(3)}s due to ${Math.round(1000 * delta / inputTimeScale)} ms gap.`);\n          for (let j = 0; j < missing; j++) {\n            let newStamp = Math.max(nextPts, 0);\n            fillFrame = AACUtils.allocNewSilentFrame(track.manifestCodec || track.codec, track.channelCount);\n            if (!fillFrame) {\n              logger.log('Unable to get silent frame for given audio codec; duplicating last frame instead.');\n              fillFrame = sample.units[0].data.subarray(0);\n            }\n            inputSamples.splice(i, 0, {\n              units: [fillFrame],\n              pts: newStamp,\n              dts: newStamp,\n              length: 1,\n              id: 0,\n              key: null\n            });\n            track.len += fillFrame.length;\n            nextPts += inputSampleDuration;\n            i++;\n          }\n\n          // Adjust sample to next expected pts\n          sample.pts = sample.dts = nextPts;\n          nextPts += inputSampleDuration;\n          i++;\n        } else {\n        // Otherwise, just adjust pts\n          if (Math.abs(delta) > (0.1 * inputSampleDuration)) {\n            // logger.log(`Invalid frame delta ${Math.round(delta + inputSampleDuration)} at PTS ${Math.round(pts / 90)} (should be ${Math.round(inputSampleDuration)}).`);\n          }\n          sample.pts = sample.dts = nextPts;\n          nextPts += inputSampleDuration;\n          i++;\n        }\n      }\n    }\n\n    for (let j = 0, nbSamples = inputSamples.length; j < nbSamples; j++) {\n      let audioSample = inputSamples[j];\n      let unit = audioSample.units[0].data;\n      let pts = audioSample.pts;\n\n      // logger.log(`Audio PTS: ${Math.round(pts)}`);\n\n      // if not first sample\n      if (lastPTS !== undefined) {\n        mp4Sample.duration = Math.round((pts - lastPTS) / scaleFactor);\n      } else {\n        let delta = Math.round(1000 * (pts - nextAudioPts) / inputTimeScale);\n\n        let numMissingFrames = 0;\n        // if fragment are contiguous, detect hole/overlapping between fragments\n        // contiguous fragments are consecutive fragments from same quality level (same level, new SN = old SN + 1)\n        if (contiguous && track.isAAC) {\n          // log delta\n          if (delta) {\n            if (delta > 0 && delta < MAX_SILENT_FRAME_DURATION) {\n              numMissingFrames = Math.round((pts - nextAudioPts) / inputSampleDuration);\n              logger.log(`${delta} ms hole between AAC samples detected, filling it`);\n              if (numMissingFrames > 0) {\n                fillFrame = AACUtils.allocNewSilentFrame(track.manifestCodec || track.codec, track.channelCount);\n                if (!fillFrame) {\n                  fillFrame = unit.subarray(0);\n                }\n\n                track.len += numMissingFrames * fillFrame.length;\n              }\n              // if we have frame overlap, overlapping for more than half a frame duraion\n            } else if (delta < -12) {\n              // drop overlapping audio frames... browser will deal with it\n              logger.log(`drop overlapping AAC sample, expected/parsed/delta:${(nextAudioPts / inputTimeScale).toFixed(3)}s/${(pts / inputTimeScale).toFixed(3)}s/${(-delta)}ms`);\n              track.len -= unit.byteLength;\n              continue;\n            }\n            // set PTS/DTS to expected PTS/DTS\n            pts = nextAudioPts;\n          }\n        }\n        // remember first PTS of our audioSamples\n        firstPTS = pts;\n\n        if (track.len > 0) {\n          /* concatenate the audio data and construct the mdat in place\n            (need 8 more bytes to fill length and mdat type) */\n\n          let mdatSize = rawMPEG ? track.len : track.len + 8;\n          offset = rawMPEG ? 0 : 8;\n          try {\n            fragmentData = new Uint8Array(mdatSize);\n          } catch (err) {\n            this._observer.trigger(Event.FAILURE, `failed to allocate audio mdat of ${mdatSize} bytes`);\n            return;\n          }\n          if (!rawMPEG) {\n            const view = new DataView(fragmentData.buffer);\n            view.setUint32(0, mdatSize);\n            fragmentData.set((<any> MP4Generator).types.mdat, 4);\n          }\n        } else {\n          // no audio samples\n          return;\n        }\n\n        for (let i = 0; i < numMissingFrames; i++) {\n          fillFrame = AACUtils.allocNewSilentFrame(track.manifestCodec || track.codec, track.channelCount);\n          if (!fillFrame) {\n            logger.log('Unable to get silent frame for given audio codec; duplicating this frame instead.');\n            fillFrame = unit.subarray(0);\n          }\n          fragmentData.set(fillFrame, offset);\n          offset += fillFrame.byteLength;\n          mp4Sample = {\n            size: fillFrame.byteLength,\n            cts: 0,\n            duration: 1024,\n            flags: {\n              isLeading: 0,\n              isDependedOn: 0,\n              hasRedundancy: 0,\n              degradPrio: 0,\n              dependsOn: 1\n            }\n          };\n          outputSamples.push(mp4Sample);\n        }\n      }\n\n      fragmentData.set(unit, offset);\n\n      let unitLen = unit.byteLength;\n\n      offset += unitLen;\n\n      mp4Sample = {\n        size: unitLen,\n        cts: 0,\n        duration: 0,\n        flags: {\n          isLeading: 0,\n          isDependedOn: 0,\n          hasRedundancy: 0,\n          degradPrio: 0,\n          dependsOn: 1\n        }\n      };\n\n      outputSamples.push(mp4Sample);\n      lastPTS = pts;\n    }\n\n    let lastSampleDuration = 0;\n    let nbSamples = outputSamples.length;\n\n    // set last sample duration as being identical to previous sample\n    if (nbSamples >= 2) {\n      lastSampleDuration = outputSamples[nbSamples - 2].duration;\n      mp4Sample.duration = lastSampleDuration;\n    }\n\n    if (nbSamples) {\n\n      // next audio sample PTS should be equal to last sample PTS + duration\n      this._nextAudioPts = nextAudioPts = lastPTS + scaleFactor * lastSampleDuration;\n      // logger.log('Audio/PTS/PTSend:' + audioSample.pts.toFixed(0) + '/' + this.nextAacDts.toFixed(0));\n      track.len = 0;\n      track.samples = outputSamples;\n      if (rawMPEG) {\n        fragmentHeader = new Uint8Array(0);\n      } else {\n        fragmentHeader = MP4Generator.moof(track.sequenceNumber++, firstPTS / scaleFactor, track);\n      }\n\n      track.samples = [];\n      const start = firstPTS / inputTimeScale;\n      const end = nextAudioPts / inputTimeScale;\n      const audioData: Fmp4RemuxerPayloadSegmentData = {\n        payloadType: 'audio',\n        codec: track.codec,\n        startPTS: start,\n        endPTS: end,\n        startDTS: start,\n        endDTS: end,\n        hasAudio: true,\n        hasVideo: false,\n        nbOfSamples: nbSamples,\n        fragmentHeader,\n        fragmentData\n      };\n\n      this._observer.trigger(Event.WROTE_PAYLOAD_SEGMENT, audioData);\n\n      return audioData;\n\n    }\n\n    return null;\n  }\n\n  private _remuxEmptyAudio (track, timeOffset, contiguous, videoData) {\n    let inputTimeScale = track.inputTimeScale;\n    let mp4timeScale = track.samplerate ? track.samplerate : inputTimeScale;\n    let scaleFactor = inputTimeScale / mp4timeScale;\n    let nextAudioPts = this._nextAudioPts;\n\n    // sync with video's timestamp\n\n    let startDTS = (nextAudioPts !== null ? nextAudioPts : videoData.startDTS * inputTimeScale) + this._initDts;\n    let endDTS = videoData.endDTS * inputTimeScale + this._initDts;\n\n    // one sample's duration value\n\n    let sampleDuration = 1024;\n    let frameDuration = scaleFactor * sampleDuration;\n\n    // samples count of this segment's duration\n\n    let nbSamples = Math.ceil((endDTS - startDTS) / frameDuration);\n\n    // silent frame\n\n    let silentFrame = AACUtils.allocNewSilentFrame(track.manifestCodec || track.codec, track.channelCount);\n\n    logger.warn('remux empty Audio');\n    // Can't remux if we can't generate a silent frame...\n    if (!silentFrame) {\n      logger.trace('Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!');\n      return;\n    }\n\n    let samples = [];\n    for (let i = 0; i < nbSamples; i++) {\n      let stamp = startDTS + i * frameDuration;\n      samples.push({ unit: silentFrame, pts: stamp, dts: stamp });\n      track.len += silentFrame.length;\n    }\n    track.samples = samples;\n\n    this._remuxAudio(track, timeOffset, contiguous);\n  }\n\n  private _remuxID3 (track, timeOffset) {\n    let length = track.samples.length;\n    let sample;\n\n    const inputTimeScale = track.inputTimeScale;\n    const initPTS = this._initPts;\n    const initDTS = this._initDts;\n    // consume samples\n    if (length) {\n      for (let index = 0; index < length; index++) {\n        sample = track.samples[index];\n        // setting id3 pts, dts to relative time\n        // using this._initPTS and this._initDTS to calculate relative time\n        sample.pts = ((sample.pts - initPTS) / inputTimeScale);\n        sample.dts = ((sample.dts - initDTS) / inputTimeScale);\n      }\n      this._observer.trigger(Event.GOT_METADATA, {\n        samples: track.samples\n      });\n    }\n\n    track.samples = [];\n    timeOffset = timeOffset;\n  }\n\n  private _remuxText (track, timeOffset) {\n    track.samples.sort(function (a, b) {\n      return (a.pts - b.pts);\n    });\n\n    let length = track.samples.length;\n    let sample;\n\n    const inputTimeScale = track.inputTimeScale;\n    const initPTS = this._initPts;\n\n    // consume samples\n    if (length) {\n      for (let index = 0; index < length; index++) {\n        sample = track.samples[index];\n        // setting text pts, dts to relative time\n        // using this._initPTS and this._initDTS to calculate relative time\n        sample.pts = ((sample.pts - initPTS) / inputTimeScale);\n      }\n      this._observer.trigger(Event.GOT_USER_DATA, {\n        samples: track.samples\n      });\n    }\n\n    track.samples = [];\n    timeOffset = timeOffset;\n  }\n}\n\nfunction _wrapAroundPts (value, reference) {\n  let offset;\n  if (reference === null || reference === undefined) {\n    return value;\n  }\n\n  if (reference < value) {\n    // - 2^33\n    offset = -8589934592;\n  } else {\n    // + 2^33\n    offset = 8589934592;\n  }\n  /* PTS is 33bit (from 0 to 2^33 -1)\n    if diff between value and reference is bigger than half of the amplitude (2^32) then it means that\n    PTS looping occured. fill the gap */\n  while (Math.abs(value - reference) > 4294967296) {\n    value += offset;\n  }\n\n  return value;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/hlsjs-fmp4-mux/mp4-remuxer.ts","export class AACUtils {\n  static allocNewSilentFrame (codec, channelCount) {\n    switch (codec) {\n    case 'mp4a.40.2':\n      if (channelCount === 1) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x23, 0x80]);\n      } else if (channelCount === 2) {\n        return new Uint8Array([0x21, 0x00, 0x49, 0x90, 0x02, 0x19, 0x00, 0x23, 0x80]);\n      } else if (channelCount === 3) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x8e]);\n      } else if (channelCount === 4) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x80, 0x2c, 0x80, 0x08, 0x02, 0x38]);\n      } else if (channelCount === 5) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x38]);\n      } else if (channelCount === 6) {\n        return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x00, 0xb2, 0x00, 0x20, 0x08, 0xe0]);\n      }\n\n      break;\n    // handle HE-AAC below (mp4a.40.5 / mp4a.40.29)\n    default:\n      if (channelCount === 1) {\n        // ffmpeg -y -f lavfi -i \"aevalsrc=0:d=0.05\" -c:a libfdk_aac -profile:a aac_he -b:a 4k output.aac && hexdump -v -e '16/1 \"0x%x,\" \"\\n\"' -v output.aac\n        return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x4e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x1c, 0x6, 0xf1, 0xc1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);\n      } else if (channelCount === 2) {\n        // ffmpeg -y -f lavfi -i \"aevalsrc=0|0:d=0.05\" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 \"0x%x,\" \"\\n\"' -v output.aac\n        return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);\n      } else if (channelCount === 3) {\n        // ffmpeg -y -f lavfi -i \"aevalsrc=0|0|0:d=0.05\" -c:a libfdk_aac -profile:a aac_he_v2 -b:a 4k output.aac && hexdump -v -e '16/1 \"0x%x,\" \"\\n\"' -v output.aac\n        return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);\n      }\n      break;\n    }\n    return null;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/hlsjs-fmp4-mux/aac-utils.js","/**\n * Generate MP4 Box\n*/\n\nconst UINT32_MAX = Math.pow(2, 32) - 1;\n\nexport class MP4Generator {\n\n  //static types: {[boxType: string]: any}\n\n  static init () {\n    MP4Generator.types = {\n      avc1: [], // codingname\n      avcC: [],\n      btrt: [],\n      dinf: [],\n      dref: [],\n      esds: [],\n      ftyp: [],\n      hdlr: [],\n      mdat: [],\n      mdhd: [],\n      mdia: [],\n      mfhd: [],\n      minf: [],\n      moof: [],\n      moov: [],\n      mp4a: [],\n      '.mp3': [],\n      mvex: [],\n      mvhd: [],\n      pasp: [],\n      sdtp: [],\n      stbl: [],\n      stco: [],\n      stsc: [],\n      stsd: [],\n      stsz: [],\n      stts: [],\n      tfdt: [],\n      tfhd: [],\n      traf: [],\n      trak: [],\n      trun: [],\n      trex: [],\n      tkhd: [],\n      vmhd: [],\n      smhd: []\n    };\n\n    let i;\n    for (i in MP4Generator.types) {\n      if (MP4Generator.types.hasOwnProperty(i)) {\n        MP4Generator.types[i] = [\n          i.charCodeAt(0),\n          i.charCodeAt(1),\n          i.charCodeAt(2),\n          i.charCodeAt(3)\n        ];\n      }\n    }\n\n    let videoHdlr = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x56, 0x69, 0x64, 0x65,\n      0x6f, 0x48, 0x61, 0x6e,\n      0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n    ]);\n\n    let audioHdlr = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x53, 0x6f, 0x75, 0x6e,\n      0x64, 0x48, 0x61, 0x6e,\n      0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n    ]);\n\n    MP4Generator.HDLR_TYPES = {\n      'video': videoHdlr,\n      'audio': audioHdlr\n    };\n\n    let dref = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01, // entry_count\n      0x00, 0x00, 0x00, 0x0c, // entry_size\n      0x75, 0x72, 0x6c, 0x20, // 'url' type\n      0x00, // version 0\n      0x00, 0x00, 0x01 // entry_flags\n    ]);\n\n    let stco = new Uint8Array([\n      0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00 // entry_count\n    ]);\n\n    MP4Generator.STTS = MP4Generator.STSC = MP4Generator.STCO = stco;\n\n    MP4Generator.STSZ = new Uint8Array([\n      0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // sample_size\n      0x00, 0x00, 0x00, 0x00 // sample_count\n    ]);\n    MP4Generator.VMHD = new Uint8Array([\n      0x00, // version\n      0x00, 0x00, 0x01, // flags\n      0x00, 0x00, // graphicsmode\n      0x00, 0x00,\n      0x00, 0x00,\n      0x00, 0x00 // opcolor\n    ]);\n    MP4Generator.SMHD = new Uint8Array([\n      0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, // balance\n      0x00, 0x00 // reserved\n    ]);\n\n    MP4Generator.STSD = new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01]);// entry_count\n\n    let majorBrand = new Uint8Array([105, 115, 111, 109]); // isom\n    let avc1Brand = new Uint8Array([97, 118, 99, 49]); // avc1\n    let minorVersion = new Uint8Array([0, 0, 0, 1]);\n\n    MP4Generator.FTYP = MP4Generator.box(MP4Generator.types.ftyp, majorBrand, minorVersion, majorBrand, avc1Brand);\n    MP4Generator.DINF = MP4Generator.box(MP4Generator.types.dinf, MP4Generator.box(MP4Generator.types.dref, dref));\n  }\n\n  static box (type) {\n    let\n      payload = Array.prototype.slice.call(arguments, 1);\n\n    let size = 8;\n\n    let i = payload.length;\n\n    let len = i;\n\n    let result;\n    // calculate the total size we need to allocate\n    while (i--) {\n      size += payload[i].byteLength;\n    }\n\n    result = new Uint8Array(size);\n    result[0] = (size >> 24) & 0xff;\n    result[1] = (size >> 16) & 0xff;\n    result[2] = (size >> 8) & 0xff;\n    result[3] = size & 0xff;\n    result.set(type, 4);\n    // copy the payload into the result\n    for (i = 0, size = 8; i < len; i++) {\n      // copy payload[i] array @ offset size\n      result.set(payload[i], size);\n      size += payload[i].byteLength;\n    }\n    return result;\n  }\n\n  static hdlr (type) {\n    return MP4Generator.box(MP4Generator.types.hdlr, MP4Generator.HDLR_TYPES[type]);\n  }\n\n  static mdat (data) {\n    return MP4Generator.box(MP4Generator.types.mdat, data);\n  }\n\n  static mdhd (timescale, duration) {\n    duration *= timescale;\n    const upperWordDuration = Math.floor(duration / (UINT32_MAX + 1));\n    const lowerWordDuration = Math.floor(duration % (UINT32_MAX + 1));\n    return MP4Generator.box(MP4Generator.types.mdhd, new Uint8Array([\n      0x01, // version 1\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, // creation_time\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, // modification_time\n      (timescale >> 24) & 0xFF,\n      (timescale >> 16) & 0xFF,\n      (timescale >> 8) & 0xFF,\n      timescale & 0xFF, // timescale\n      (upperWordDuration >> 24),\n      (upperWordDuration >> 16) & 0xFF,\n      (upperWordDuration >> 8) & 0xFF,\n      upperWordDuration & 0xFF,\n      (lowerWordDuration >> 24),\n      (lowerWordDuration >> 16) & 0xFF,\n      (lowerWordDuration >> 8) & 0xFF,\n      lowerWordDuration & 0xFF,\n      0x55, 0xc4, // 'und' language (undetermined)\n      0x00, 0x00\n    ]));\n  }\n\n  static mdia (track) {\n    return MP4Generator.box(MP4Generator.types.mdia, MP4Generator.mdhd(track.timescale, track.duration), MP4Generator.hdlr(track.type), MP4Generator.minf(track));\n  }\n\n  static mfhd (sequenceNumber) {\n    return MP4Generator.box(MP4Generator.types.mfhd, new Uint8Array([\n      0x00,\n      0x00, 0x00, 0x00, // flags\n      (sequenceNumber >> 24),\n      (sequenceNumber >> 16) & 0xFF,\n      (sequenceNumber >> 8) & 0xFF,\n      sequenceNumber & 0xFF // sequence_number\n    ]));\n  }\n\n  static minf (track) {\n    if (track.type === 'audio') {\n      return MP4Generator.box(MP4Generator.types.minf, MP4Generator.box(MP4Generator.types.smhd, MP4Generator.SMHD), MP4Generator.DINF, MP4Generator.stbl(track));\n    } else {\n      return MP4Generator.box(MP4Generator.types.minf, MP4Generator.box(MP4Generator.types.vmhd, MP4Generator.VMHD), MP4Generator.DINF, MP4Generator.stbl(track));\n    }\n  }\n\n  static moof (sn, baseMediaDecodeTime, track) {\n    return MP4Generator.box(MP4Generator.types.moof, MP4Generator.mfhd(sn), MP4Generator.traf(track, baseMediaDecodeTime));\n  }\n  /**\n  tracks... (optional) {array} the tracks associated with this movie\n */\n  static moov (tracks) {\n    let\n      i = tracks.length;\n\n    let boxes = [];\n\n    while (i--) {\n      boxes[i] = MP4Generator.trak(tracks[i]);\n    }\n\n    return MP4Generator.box.apply(null, [MP4Generator.types.moov, MP4Generator.mvhd(tracks[0].timescale, tracks[0].duration)].concat(boxes).concat(MP4Generator.mvex(tracks)));\n  }\n\n  static mvex (tracks) {\n    let\n      i = tracks.length;\n\n    let boxes = [];\n\n    while (i--) {\n      boxes[i] = MP4Generator.trex(tracks[i]);\n    }\n\n    return MP4Generator.box.apply(null, [MP4Generator.types.mvex].concat(boxes));\n  }\n\n  static mvhd (timescale, duration) {\n    duration *= timescale;\n    const upperWordDuration = Math.floor(duration / (UINT32_MAX + 1));\n    const lowerWordDuration = Math.floor(duration % (UINT32_MAX + 1));\n    let\n      bytes = new Uint8Array([\n        0x01, // version 1\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, // creation_time\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, // modification_time\n        (timescale >> 24) & 0xFF,\n        (timescale >> 16) & 0xFF,\n        (timescale >> 8) & 0xFF,\n        timescale & 0xFF, // timescale\n        (upperWordDuration >> 24),\n        (upperWordDuration >> 16) & 0xFF,\n        (upperWordDuration >> 8) & 0xFF,\n        upperWordDuration & 0xFF,\n        (lowerWordDuration >> 24),\n        (lowerWordDuration >> 16) & 0xFF,\n        (lowerWordDuration >> 8) & 0xFF,\n        lowerWordDuration & 0xFF,\n        0x00, 0x01, 0x00, 0x00, // 1.0 rate\n        0x01, 0x00, // 1.0 volume\n        0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x01, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00,\n        0x00, 0x00, 0x00, 0x00, // pre_defined\n        0xff, 0xff, 0xff, 0xff // next_track_ID\n      ]);\n    return MP4Generator.box(MP4Generator.types.mvhd, bytes);\n  }\n\n  static sdtp (track) {\n    let\n      samples = track.samples || [];\n\n    let bytes = new Uint8Array(4 + samples.length);\n\n    let flags;\n\n    let i;\n    // leave the full box header (4 bytes) all zero\n    // write the sample table\n    for (i = 0; i < samples.length; i++) {\n      flags = samples[i].flags;\n      bytes[i + 4] = (flags.dependsOn << 4) |\n        (flags.isDependedOn << 2) |\n        (flags.hasRedundancy);\n    }\n\n    return MP4Generator.box(MP4Generator.types.sdtp, bytes);\n  }\n\n  static stbl (track) {\n    return MP4Generator.box(MP4Generator.types.stbl, MP4Generator.stsd(track), MP4Generator.box(MP4Generator.types.stts, MP4Generator.STTS), MP4Generator.box(MP4Generator.types.stsc, MP4Generator.STSC), MP4Generator.box(MP4Generator.types.stsz, MP4Generator.STSZ), MP4Generator.box(MP4Generator.types.stco, MP4Generator.STCO));\n  }\n\n  static avc1 (track) {\n    let sps = []; let pps = []; let i; let data; let len;\n    // assemble the SPSs\n\n    for (i = 0; i < track.sps.length; i++) {\n      data = track.sps[i];\n      len = data.byteLength;\n      sps.push((len >>> 8) & 0xFF);\n      sps.push((len & 0xFF));\n\n      // SPS\n      sps = sps.concat(Array.prototype.slice.call(data));\n    }\n\n    // assemble the PPSs\n    for (i = 0; i < track.pps.length; i++) {\n      data = track.pps[i];\n      len = data.byteLength;\n      pps.push((len >>> 8) & 0xFF);\n      pps.push((len & 0xFF));\n\n      pps = pps.concat(Array.prototype.slice.call(data));\n    }\n\n    let avcc = MP4Generator.box(MP4Generator.types.avcC, new Uint8Array([\n      0x01, // version\n      sps[3], // profile\n      sps[4], // profile compat\n      sps[5], // level\n      0xfc | 3, // lengthSizeMinusOne, hard-coded to 4 bytes\n      0xE0 | track.sps.length // 3bit reserved (111) + numOfSequenceParameterSets\n    ].concat(sps).concat([\n      track.pps.length // numOfPictureParameterSets\n    ]).concat(pps)));\n    // \"PPS\"\n\n    let width = track.width;\n\n    let height = track.height;\n\n    let hSpacing = track.pixelRatio[0];\n\n    let vSpacing = track.pixelRatio[1];\n\n    return MP4Generator.box(MP4Generator.types.avc1, new Uint8Array([\n      0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // data_reference_index\n      0x00, 0x00, // pre_defined\n      0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      (width >> 8) & 0xFF,\n      width & 0xff, // width\n      (height >> 8) & 0xFF,\n      height & 0xff, // height\n      0x00, 0x48, 0x00, 0x00, // horizresolution\n      0x00, 0x48, 0x00, 0x00, // vertresolution\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // frame_count\n      0x12,\n      0x64, 0x61, 0x69, 0x6C, // dailymotion/hls.js\n      0x79, 0x6D, 0x6F, 0x74,\n      0x69, 0x6F, 0x6E, 0x2F,\n      0x68, 0x6C, 0x73, 0x2E,\n      0x6A, 0x73, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, // compressorname\n      0x00, 0x18, // depth = 24\n      0x11, 0x11]), // pre_defined = -1\n    avcc,\n    MP4Generator.box(MP4Generator.types.btrt, new Uint8Array([\n      0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n      0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n      0x00, 0x2d, 0xc6, 0xc0])), // avgBitrate\n    MP4Generator.box(MP4Generator.types.pasp, new Uint8Array([\n      (hSpacing >> 24), // hSpacing\n      (hSpacing >> 16) & 0xFF,\n      (hSpacing >> 8) & 0xFF,\n      hSpacing & 0xFF,\n      (vSpacing >> 24), // vSpacing\n      (vSpacing >> 16) & 0xFF,\n      (vSpacing >> 8) & 0xFF,\n      vSpacing & 0xFF]))\n    );\n  }\n\n  static esds (track) {\n    let configlen = track.config.length;\n    return new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n\n      0x03, // descriptor_type\n      0x17 + configlen, // length\n      0x00, 0x01, // es_id\n      0x00, // stream_priority\n\n      0x04, // descriptor_type\n      0x0f + configlen, // length\n      0x40, // codec : mpeg4_audio\n      0x15, // stream_type\n      0x00, 0x00, 0x00, // buffer_size\n      0x00, 0x00, 0x00, 0x00, // maxBitrate\n      0x00, 0x00, 0x00, 0x00, // avgBitrate\n\n      0x05 // descriptor_type\n    ].concat([configlen]).concat(track.config).concat([0x06, 0x01, 0x02])); // GASpecificConfig)); // length + audio config descriptor\n  }\n\n  static mp4a (track) {\n    let samplerate = track.samplerate;\n    return MP4Generator.box(MP4Generator.types.mp4a, new Uint8Array([\n      0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // data_reference_index\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, track.channelCount, // channelcount\n      0x00, 0x10, // sampleSize:16bits\n      0x00, 0x00, 0x00, 0x00, // reserved2\n      (samplerate >> 8) & 0xFF,\n      samplerate & 0xff, //\n      0x00, 0x00]),\n    MP4Generator.box(MP4Generator.types.esds, MP4Generator.esds(track)));\n  }\n\n  static mp3 (track) {\n    let samplerate = track.samplerate;\n    return MP4Generator.box(MP4Generator.types['.mp3'], new Uint8Array([\n      0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // data_reference_index\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, track.channelCount, // channelcount\n      0x00, 0x10, // sampleSize:16bits\n      0x00, 0x00, 0x00, 0x00, // reserved2\n      (samplerate >> 8) & 0xFF,\n      samplerate & 0xff, //\n      0x00, 0x00]));\n  }\n\n  static stsd (track) {\n    if (track.type === 'audio') {\n      if (!track.isAAC && track.codec === 'mp3') {\n        return MP4Generator.box(MP4Generator.types.stsd, MP4Generator.STSD, MP4Generator.mp3(track));\n      }\n\n      return MP4Generator.box(MP4Generator.types.stsd, MP4Generator.STSD, MP4Generator.mp4a(track));\n    } else {\n      return MP4Generator.box(MP4Generator.types.stsd, MP4Generator.STSD, MP4Generator.avc1(track));\n    }\n  }\n\n  static tkhd (track) {\n    let id = track.id;\n\n    let duration = track.duration * track.timescale;\n\n    let width = track.width;\n\n    let height = track.height;\n\n    let upperWordDuration = Math.floor(duration / (UINT32_MAX + 1));\n\n    let lowerWordDuration = Math.floor(duration % (UINT32_MAX + 1));\n    return MP4Generator.box(MP4Generator.types.tkhd, new Uint8Array([\n      0x01, // version 1\n      0x00, 0x00, 0x07, // flags\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, // creation_time\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, // modification_time\n      (id >> 24) & 0xFF,\n      (id >> 16) & 0xFF,\n      (id >> 8) & 0xFF,\n      id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x00, // reserved\n      (upperWordDuration >> 24),\n      (upperWordDuration >> 16) & 0xFF,\n      (upperWordDuration >> 8) & 0xFF,\n      upperWordDuration & 0xFF,\n      (lowerWordDuration >> 24),\n      (lowerWordDuration >> 16) & 0xFF,\n      (lowerWordDuration >> 8) & 0xFF,\n      lowerWordDuration & 0xFF,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, // layer\n      0x00, 0x00, // alternate_group\n      0x00, 0x00, // non-audio track volume\n      0x00, 0x00, // reserved\n      0x00, 0x01, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x01, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x00, 0x00, 0x00, 0x00,\n      0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n      (width >> 8) & 0xFF,\n      width & 0xFF,\n      0x00, 0x00, // width\n      (height >> 8) & 0xFF,\n      height & 0xFF,\n      0x00, 0x00 // height\n    ]));\n  }\n\n  static traf (track, baseMediaDecodeTime) {\n    let sampleDependencyTable = MP4Generator.sdtp(track);\n\n    let id = track.id;\n\n    let upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));\n\n    let lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));\n    return MP4Generator.box(MP4Generator.types.traf,\n      MP4Generator.box(MP4Generator.types.tfhd, new Uint8Array([\n        0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        (id >> 24),\n        (id >> 16) & 0XFF,\n        (id >> 8) & 0XFF,\n        (id & 0xFF) // track_ID\n      ])),\n      MP4Generator.box(MP4Generator.types.tfdt, new Uint8Array([\n        0x01, // version 1\n        0x00, 0x00, 0x00, // flags\n        (upperWordBaseMediaDecodeTime >> 24),\n        (upperWordBaseMediaDecodeTime >> 16) & 0XFF,\n        (upperWordBaseMediaDecodeTime >> 8) & 0XFF,\n        (upperWordBaseMediaDecodeTime & 0xFF),\n        (lowerWordBaseMediaDecodeTime >> 24),\n        (lowerWordBaseMediaDecodeTime >> 16) & 0XFF,\n        (lowerWordBaseMediaDecodeTime >> 8) & 0XFF,\n        (lowerWordBaseMediaDecodeTime & 0xFF)\n      ])),\n      MP4Generator.trun(track,\n        sampleDependencyTable.length +\n                    16 + // tfhd\n                    20 + // tfdt\n                    8 + // traf header\n                    16 + // mfhd\n                    8 + // moof header\n                    8), // mdat header\n      sampleDependencyTable);\n  }\n\n  /**\n   * Generate a track box.\n  track {object} a track definition\n  {Uint8Array} the track box\n   */\n  static trak (track) {\n    track.duration = track.duration || 0xffffffff;\n    return MP4Generator.box(MP4Generator.types.trak, MP4Generator.tkhd(track), MP4Generator.mdia(track));\n  }\n\n  static trex (track) {\n    let id = track.id;\n    return MP4Generator.box(MP4Generator.types.trex, new Uint8Array([\n      0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      (id >> 24),\n      (id >> 16) & 0XFF,\n      (id >> 8) & 0XFF,\n      (id & 0xFF), // track_ID\n      0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\n      0x00, 0x01, 0x00, 0x01 // default_sample_flags\n    ]));\n  }\n\n  static trun (track, offset) {\n    let samples = track.samples || [];\n\n    let len = samples.length;\n\n    let arraylen = 12 + (16 * len);\n\n    let array = new Uint8Array(arraylen);\n\n    let i; let sample; let duration; let size; let flags; let cts;\n    offset += 8 + arraylen;\n    array.set([\n      0x00, // version 0\n      0x00, 0x0f, 0x01, // flags\n      (len >>> 24) & 0xFF,\n      (len >>> 16) & 0xFF,\n      (len >>> 8) & 0xFF,\n      len & 0xFF, // sample_count\n      (offset >>> 24) & 0xFF,\n      (offset >>> 16) & 0xFF,\n      (offset >>> 8) & 0xFF,\n      offset & 0xFF // data_offset\n    ], 0);\n    for (i = 0; i < len; i++) {\n      sample = samples[i];\n      duration = sample.duration;\n      size = sample.size;\n      flags = sample.flags;\n      cts = sample.cts;\n      array.set([\n        (duration >>> 24) & 0xFF,\n        (duration >>> 16) & 0xFF,\n        (duration >>> 8) & 0xFF,\n        duration & 0xFF, // sample_duration\n        (size >>> 24) & 0xFF,\n        (size >>> 16) & 0xFF,\n        (size >>> 8) & 0xFF,\n        size & 0xFF, // sample_size\n        (flags.isLeading << 2) | flags.dependsOn,\n        (flags.isDependedOn << 6) |\n          (flags.hasRedundancy << 4) |\n          (flags.paddingValue << 1) |\n          flags.isNonSync,\n        flags.degradPrio & 0xF0 << 8,\n        flags.degradPrio & 0x0F, // sample_flags\n        (cts >>> 24) & 0xFF,\n        (cts >>> 16) & 0xFF,\n        (cts >>> 8) & 0xFF,\n        cts & 0xFF // sample_composition_time_offset\n      ], 12 + 16 * i);\n    }\n    return MP4Generator.box(MP4Generator.types.trun, array);\n  }\n\n  static initSegment (tracks) {\n    if (!MP4Generator.types) {\n      MP4Generator.init();\n    }\n\n    let movie = MP4Generator.moov(tracks); let result;\n    result = new Uint8Array(MP4Generator.FTYP.byteLength + movie.byteLength);\n    result.set(MP4Generator.FTYP);\n    result.set(movie, MP4Generator.FTYP.byteLength);\n    return result;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/hlsjs-fmp4-mux/mp4-generator.js","import bowser = require('bowser');\n\nexport enum BrowserBrandname {\n  CHROME = 'chrome',\n  FIREFOX = 'firefox',\n  SAFARI = 'safari',\n  IE = 'ie',\n  EDGE = 'edge'\n};\n\n// ADD browser rendering-engines detection; see https://github.com/lancedikson/bowser/tree/v1.x\n\nexport function isBrowserBrand(brandName: BrowserBrandname) {\n  return bowser[brandName];\n}\n\nexport function isMseSupported(): boolean {\n  return !!(window as any).MediaSource;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/browser-utils.ts","/*!\n * Bowser - a browser detector\n * https://github.com/ded/bowser\n * MIT License | (c) Dustin Diaz 2015\n */\n\n!function (root, name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(name, definition)\n  else root[name] = definition()\n}(this, 'bowser', function () {\n  /**\n    * See useragents.js for examples of navigator.userAgent\n    */\n\n  var t = true\n\n  function detect(ua) {\n\n    function getFirstMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[1]) || '';\n    }\n\n    function getSecondMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[2]) || '';\n    }\n\n    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()\n      , likeAndroid = /like android/i.test(ua)\n      , android = !likeAndroid && /android/i.test(ua)\n      , nexusMobile = /nexus\\s*[0-6]\\s*/i.test(ua)\n      , nexusTablet = !nexusMobile && /nexus\\s*[0-9]+/i.test(ua)\n      , chromeos = /CrOS/.test(ua)\n      , silk = /silk/i.test(ua)\n      , sailfish = /sailfish/i.test(ua)\n      , tizen = /tizen/i.test(ua)\n      , webos = /(web|hpw)(o|0)s/i.test(ua)\n      , windowsphone = /windows phone/i.test(ua)\n      , samsungBrowser = /SamsungBrowser/i.test(ua)\n      , windows = !windowsphone && /windows/i.test(ua)\n      , mac = !iosdevice && !silk && /macintosh/i.test(ua)\n      , linux = !android && !sailfish && !tizen && !webos && /linux/i.test(ua)\n      , edgeVersion = getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.\\d+)?)/i)\n      , versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i)\n      , tablet = /tablet/i.test(ua) && !/tablet pc/i.test(ua)\n      , mobile = !tablet && /[^-]mobi/i.test(ua)\n      , xbox = /xbox/i.test(ua)\n      , result\n\n    if (/opera/i.test(ua)) {\n      //  an old Opera\n      result = {\n        name: 'Opera'\n      , opera: t\n      , version: versionIdentifier || getFirstMatch(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    } else if (/opr\\/|opios/i.test(ua)) {\n      // a new Opera\n      result = {\n        name: 'Opera'\n        , opera: t\n        , version: getFirstMatch(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (/SamsungBrowser/i.test(ua)) {\n      result = {\n        name: 'Samsung Internet for Android'\n        , samsungBrowser: t\n        , version: versionIdentifier || getFirstMatch(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/Whale/i.test(ua)) {\n      result = {\n        name: 'NAVER Whale browser'\n        , whale: t\n        , version: getFirstMatch(/(?:whale)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/MZBrowser/i.test(ua)) {\n      result = {\n        name: 'MZ Browser'\n        , mzbrowser: t\n        , version: getFirstMatch(/(?:MZBrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/coast/i.test(ua)) {\n      result = {\n        name: 'Opera Coast'\n        , coast: t\n        , version: versionIdentifier || getFirstMatch(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/focus/i.test(ua)) {\n      result = {\n        name: 'Focus'\n        , focus: t\n        , version: getFirstMatch(/(?:focus)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/yabrowser/i.test(ua)) {\n      result = {\n        name: 'Yandex Browser'\n      , yandexbrowser: t\n      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/ucbrowser/i.test(ua)) {\n      result = {\n          name: 'UC Browser'\n        , ucbrowser: t\n        , version: getFirstMatch(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/mxios/i.test(ua)) {\n      result = {\n        name: 'Maxthon'\n        , maxthon: t\n        , version: getFirstMatch(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/epiphany/i.test(ua)) {\n      result = {\n        name: 'Epiphany'\n        , epiphany: t\n        , version: getFirstMatch(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/puffin/i.test(ua)) {\n      result = {\n        name: 'Puffin'\n        , puffin: t\n        , version: getFirstMatch(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)\n      }\n    }\n    else if (/sleipnir/i.test(ua)) {\n      result = {\n        name: 'Sleipnir'\n        , sleipnir: t\n        , version: getFirstMatch(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/k-meleon/i.test(ua)) {\n      result = {\n        name: 'K-Meleon'\n        , kMeleon: t\n        , version: getFirstMatch(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (windowsphone) {\n      result = {\n        name: 'Windows Phone'\n      , osname: 'Windows Phone'\n      , windowsphone: t\n      }\n      if (edgeVersion) {\n        result.msedge = t\n        result.version = edgeVersion\n      }\n      else {\n        result.msie = t\n        result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/msie|trident/i.test(ua)) {\n      result = {\n        name: 'Internet Explorer'\n      , msie: t\n      , version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (chromeos) {\n      result = {\n        name: 'Chrome'\n      , osname: 'Chrome OS'\n      , chromeos: t\n      , chromeBook: t\n      , chrome: t\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (/edg([ea]|ios)/i.test(ua)) {\n      result = {\n        name: 'Microsoft Edge'\n      , msedge: t\n      , version: edgeVersion\n      }\n    }\n    else if (/vivaldi/i.test(ua)) {\n      result = {\n        name: 'Vivaldi'\n        , vivaldi: t\n        , version: getFirstMatch(/vivaldi\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (sailfish) {\n      result = {\n        name: 'Sailfish'\n      , osname: 'Sailfish OS'\n      , sailfish: t\n      , version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/seamonkey\\//i.test(ua)) {\n      result = {\n        name: 'SeaMonkey'\n      , seamonkey: t\n      , version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/firefox|iceweasel|fxios/i.test(ua)) {\n      result = {\n        name: 'Firefox'\n      , firefox: t\n      , version: getFirstMatch(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)\n      }\n      if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\n        result.firefoxos = t\n        result.osname = 'Firefox OS'\n      }\n    }\n    else if (silk) {\n      result =  {\n        name: 'Amazon Silk'\n      , silk: t\n      , version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/phantom/i.test(ua)) {\n      result = {\n        name: 'PhantomJS'\n      , phantom: t\n      , version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/slimerjs/i.test(ua)) {\n      result = {\n        name: 'SlimerJS'\n        , slimer: t\n        , version: getFirstMatch(/slimerjs\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\n      result = {\n        name: 'BlackBerry'\n      , osname: 'BlackBerry OS'\n      , blackberry: t\n      , version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (webos) {\n      result = {\n        name: 'WebOS'\n      , osname: 'WebOS'\n      , webos: t\n      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n      };\n      /touchpad\\//i.test(ua) && (result.touchpad = t)\n    }\n    else if (/bada/i.test(ua)) {\n      result = {\n        name: 'Bada'\n      , osname: 'Bada'\n      , bada: t\n      , version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n      };\n    }\n    else if (tizen) {\n      result = {\n        name: 'Tizen'\n      , osname: 'Tizen'\n      , tizen: t\n      , version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n      };\n    }\n    else if (/qupzilla/i.test(ua)) {\n      result = {\n        name: 'QupZilla'\n        , qupzilla: t\n        , version: getFirstMatch(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i) || versionIdentifier\n      }\n    }\n    else if (/chromium/i.test(ua)) {\n      result = {\n        name: 'Chromium'\n        , chromium: t\n        , version: getFirstMatch(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (/chrome|crios|crmo/i.test(ua)) {\n      result = {\n        name: 'Chrome'\n        , chrome: t\n        , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (android) {\n      result = {\n        name: 'Android'\n        , version: versionIdentifier\n      }\n    }\n    else if (/safari|applewebkit/i.test(ua)) {\n      result = {\n        name: 'Safari'\n      , safari: t\n      }\n      if (versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    }\n    else if (iosdevice) {\n      result = {\n        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\n      }\n      // WTF: version is not part of user agent in web apps\n      if (versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    }\n    else if(/googlebot/i.test(ua)) {\n      result = {\n        name: 'Googlebot'\n      , googlebot: t\n      , version: getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i) || versionIdentifier\n      }\n    }\n    else {\n      result = {\n        name: getFirstMatch(/^(.*)\\/(.*) /),\n        version: getSecondMatch(/^(.*)\\/(.*) /)\n     };\n   }\n\n    // set webkit or gecko flag for browsers based on these engines\n    if (!result.msedge && /(apple)?webkit/i.test(ua)) {\n      if (/(apple)?webkit\\/537\\.36/i.test(ua)) {\n        result.name = result.name || \"Blink\"\n        result.blink = t\n      } else {\n        result.name = result.name || \"Webkit\"\n        result.webkit = t\n      }\n      if (!result.version && versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    } else if (!result.opera && /gecko\\//i.test(ua)) {\n      result.name = result.name || \"Gecko\"\n      result.gecko = t\n      result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\n    }\n\n    // set OS flags for platforms that have multiple browsers\n    if (!result.windowsphone && (android || result.silk)) {\n      result.android = t\n      result.osname = 'Android'\n    } else if (!result.windowsphone && iosdevice) {\n      result[iosdevice] = t\n      result.ios = t\n      result.osname = 'iOS'\n    } else if (mac) {\n      result.mac = t\n      result.osname = 'macOS'\n    } else if (xbox) {\n      result.xbox = t\n      result.osname = 'Xbox'\n    } else if (windows) {\n      result.windows = t\n      result.osname = 'Windows'\n    } else if (linux) {\n      result.linux = t\n      result.osname = 'Linux'\n    }\n\n    function getWindowsVersion (s) {\n      switch (s) {\n        case 'NT': return 'NT'\n        case 'XP': return 'XP'\n        case 'NT 5.0': return '2000'\n        case 'NT 5.1': return 'XP'\n        case 'NT 5.2': return '2003'\n        case 'NT 6.0': return 'Vista'\n        case 'NT 6.1': return '7'\n        case 'NT 6.2': return '8'\n        case 'NT 6.3': return '8.1'\n        case 'NT 10.0': return '10'\n        default: return undefined\n      }\n    }\n\n    // OS version extraction\n    var osVersion = '';\n    if (result.windows) {\n      osVersion = getWindowsVersion(getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i))\n    } else if (result.windowsphone) {\n      osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\n    } else if (result.mac) {\n      osVersion = getFirstMatch(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i);\n      osVersion = osVersion.replace(/[_\\s]/g, '.');\n    } else if (iosdevice) {\n      osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\n      osVersion = osVersion.replace(/[_\\s]/g, '.');\n    } else if (android) {\n      osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\n    } else if (result.webos) {\n      osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.blackberry) {\n      osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\n    } else if (result.bada) {\n      osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.tizen) {\n      osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\n    }\n    if (osVersion) {\n      result.osversion = osVersion;\n    }\n\n    // device type extraction\n    var osMajorVersion = !result.windows && osVersion.split('.')[0];\n    if (\n         tablet\n      || nexusTablet\n      || iosdevice == 'ipad'\n      || (android && (osMajorVersion == 3 || (osMajorVersion >= 4 && !mobile)))\n      || result.silk\n    ) {\n      result.tablet = t\n    } else if (\n         mobile\n      || iosdevice == 'iphone'\n      || iosdevice == 'ipod'\n      || android\n      || nexusMobile\n      || result.blackberry\n      || result.webos\n      || result.bada\n    ) {\n      result.mobile = t\n    }\n\n    // Graded Browser Support\n    // http://developer.yahoo.com/yui/articles/gbs\n    if (result.msedge ||\n        (result.msie && result.version >= 10) ||\n        (result.yandexbrowser && result.version >= 15) ||\n\t\t    (result.vivaldi && result.version >= 1.0) ||\n        (result.chrome && result.version >= 20) ||\n        (result.samsungBrowser && result.version >= 4) ||\n        (result.whale && compareVersions([result.version, '1.0']) === 1) ||\n        (result.mzbrowser && compareVersions([result.version, '6.0']) === 1) ||\n        (result.focus && compareVersions([result.version, '1.0']) === 1) ||\n        (result.firefox && result.version >= 20.0) ||\n        (result.safari && result.version >= 6) ||\n        (result.opera && result.version >= 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\n        (result.blackberry && result.version >= 10.1)\n        || (result.chromium && result.version >= 20)\n        ) {\n      result.a = t;\n    }\n    else if ((result.msie && result.version < 10) ||\n        (result.chrome && result.version < 20) ||\n        (result.firefox && result.version < 20.0) ||\n        (result.safari && result.version < 6) ||\n        (result.opera && result.version < 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\n        || (result.chromium && result.version < 20)\n        ) {\n      result.c = t\n    } else result.x = t\n\n    return result\n  }\n\n  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent || '' : '')\n\n  bowser.test = function (browserList) {\n    for (var i = 0; i < browserList.length; ++i) {\n      var browserItem = browserList[i];\n      if (typeof browserItem=== 'string') {\n        if (browserItem in bowser) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Get version precisions count\n   *\n   * @example\n   *   getVersionPrecision(\"1.10.3\") // 3\n   *\n   * @param  {string} version\n   * @return {number}\n   */\n  function getVersionPrecision(version) {\n    return version.split(\".\").length;\n  }\n\n  /**\n   * Array::map polyfill\n   *\n   * @param  {Array} arr\n   * @param  {Function} iterator\n   * @return {Array}\n   */\n  function map(arr, iterator) {\n    var result = [], i;\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, iterator);\n    }\n    for (i = 0; i < arr.length; i++) {\n      result.push(iterator(arr[i]));\n    }\n    return result;\n  }\n\n  /**\n   * Calculate browser version weight\n   *\n   * @example\n   *   compareVersions(['1.10.2.1',  '1.8.2.1.90'])    // 1\n   *   compareVersions(['1.010.2.1', '1.09.2.1.90']);  // 1\n   *   compareVersions(['1.10.2.1',  '1.10.2.1']);     // 0\n   *   compareVersions(['1.10.2.1',  '1.0800.2']);     // -1\n   *\n   * @param  {Array<String>} versions versions to compare\n   * @return {Number} comparison result\n   */\n  function compareVersions(versions) {\n    // 1) get common precision for both versions, for example for \"10.0\" and \"9\" it should be 2\n    var precision = Math.max(getVersionPrecision(versions[0]), getVersionPrecision(versions[1]));\n    var chunks = map(versions, function (version) {\n      var delta = precision - getVersionPrecision(version);\n\n      // 2) \"9\" -> \"9.0\" (for precision = 2)\n      version = version + new Array(delta + 1).join(\".0\");\n\n      // 3) \"9.0\" -> [\"000000000\"\", \"000000009\"]\n      return map(version.split(\".\"), function (chunk) {\n        return new Array(20 - chunk.length).join(\"0\") + chunk;\n      }).reverse();\n    });\n\n    // iterate in reverse order by reversed chunks array\n    while (--precision >= 0) {\n      // 4) compare: \"000000009\" > \"000000010\" = false (but \"9\" > \"10\" = true)\n      if (chunks[0][precision] > chunks[1][precision]) {\n        return 1;\n      }\n      else if (chunks[0][precision] === chunks[1][precision]) {\n        if (precision === 0) {\n          // all version chunks are same\n          return 0;\n        }\n      }\n      else {\n        return -1;\n      }\n    }\n  }\n\n  /**\n   * Check if browser is unsupported\n   *\n   * @example\n   *   bowser.isUnsupportedBrowser({\n   *     msie: \"10\",\n   *     firefox: \"23\",\n   *     chrome: \"29\",\n   *     safari: \"5.1\",\n   *     opera: \"16\",\n   *     phantom: \"534\"\n   *   });\n   *\n   * @param  {Object}  minVersions map of minimal version to browser\n   * @param  {Boolean} [strictMode = false] flag to return false if browser wasn't found in map\n   * @param  {String}  [ua] user agent string\n   * @return {Boolean}\n   */\n  function isUnsupportedBrowser(minVersions, strictMode, ua) {\n    var _bowser = bowser;\n\n    // make strictMode param optional with ua param usage\n    if (typeof strictMode === 'string') {\n      ua = strictMode;\n      strictMode = void(0);\n    }\n\n    if (strictMode === void(0)) {\n      strictMode = false;\n    }\n    if (ua) {\n      _bowser = detect(ua);\n    }\n\n    var version = \"\" + _bowser.version;\n    for (var browser in minVersions) {\n      if (minVersions.hasOwnProperty(browser)) {\n        if (_bowser[browser]) {\n          if (typeof minVersions[browser] !== 'string') {\n            throw new Error('Browser version in the minVersion map should be a string: ' + browser + ': ' + String(minVersions));\n          }\n\n          // browser version and min supported version.\n          return compareVersions([version, minVersions[browser]]) < 0;\n        }\n      }\n    }\n\n    return strictMode; // not found\n  }\n\n  /**\n   * Check if browser is supported\n   *\n   * @param  {Object} minVersions map of minimal version to browser\n   * @param  {Boolean} [strictMode = false] flag to return false if browser wasn't found in map\n   * @param  {String}  [ua] user agent string\n   * @return {Boolean}\n   */\n  function check(minVersions, strictMode, ua) {\n    return !isUnsupportedBrowser(minVersions, strictMode, ua);\n  }\n\n  bowser.isUnsupportedBrowser = isUnsupportedBrowser;\n  bowser.compareVersions = compareVersions;\n  bowser.check = check;\n\n  /*\n   * Set our detect method to the main bowser object so we can\n   * reuse it to test other user agents.\n   * This is needed to implement future tests.\n   */\n  bowser._detect = detect;\n\n  /*\n   * Set our detect public method to the main bowser object\n   * This is needed to implement bowser in server side\n   */\n  bowser.detect = detect;\n  return bowser\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/bowser/src/bowser.js\n// module id = 71\n// module chunks = 0","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 72\n// module chunks = 0","import { BitReader } from '../../utils/bit-reader';\nimport { PayloadReader } from './payload/payload-reader';\nimport { UnknownReader } from './payload/unknown-reader';\nimport { AdtsReader } from './payload/adts-reader';\nimport { H264Reader } from './payload/h264-reader';\nimport { ID3Reader } from './payload/id3-reader';\nimport { MpegReader } from './payload/mpeg-reader';\n\nexport class PESReader {\n    public static TS_STREAM_TYPE_AAC: number = 0x0F;\n    public static TS_STREAM_TYPE_H264: number = 0x1B;\n    public static TS_STREAM_TYPE_ID3: number = 0x15;\n    public static TS_STREAM_TYPE_MPA: number = 0x03;\n    public static TS_STREAM_TYPE_MPA_LSF: number = 0x04;\n    public static TS_STREAM_TYPE_METADATA: number = 0x06;\n\n    public payloadReader: PayloadReader;\n\n    private lastPts: number;\n    private pesLength: number;\n\n    constructor(public pid: number, public type: number) {\n        this.pid = pid;\n        this.type = type;\n        this.lastPts = -1;\n        this.pesLength = 0;\n\n        if (type === PESReader.TS_STREAM_TYPE_AAC) {\n            this.payloadReader = new AdtsReader();\n        } else if (type === PESReader.TS_STREAM_TYPE_H264) {\n            this.payloadReader = new H264Reader();\n        } else if (type === PESReader.TS_STREAM_TYPE_ID3) {\n            this.payloadReader = new ID3Reader();\n        } else if (type === PESReader.TS_STREAM_TYPE_MPA || type === PESReader.TS_STREAM_TYPE_MPA_LSF) {\n            this.payloadReader = new MpegReader();\n        } else if (type === PESReader.TS_STREAM_TYPE_METADATA) {\n            // do nothing\n        } else {\n            this.payloadReader = new UnknownReader();\n        }\n    }\n\n    public static ptsToTimeUs(pts: number): number {\n        return (pts * 1000000) / 90000;\n    }\n\n    public appendData(payloadUnitStartIndicator: boolean, packet: BitReader): void {\n        if (payloadUnitStartIndicator) {\n            if (this.payloadReader) {\n                this.payloadReader.consumeData(this.lastPts);\n            }\n            this.parsePESHeader(packet);\n        }\n\n        if (this.payloadReader) {\n            this.payloadReader.append(packet);\n        }\n    }\n\n    public parsePESHeader(packet: BitReader): void {\n        packet.skipBytes(7);\n        const timingFlags: number = packet.readByte();\n        if (timingFlags & 0xC0) {\n            packet.skipBytes(1);\n            let pts: number;\n            pts = (packet.readByte() & 0x0E) << 27 |\n                (packet.readByte() & 0xFF) << 20 |\n                (packet.readByte() & 0xFE) << 12 |\n                (packet.readByte() & 0xFF) << 5;\n            const val: number = packet.readByte();\n            pts |= (val & 0xFE) >>> 3;\n            pts = pts << 2;\n            pts += (val & 0x06) >>> 1;\n            this.lastPts = PESReader.ptsToTimeUs(pts);\n        }\n    }\n\n    public reset(): void {\n        if (this.payloadReader) {\n            this.payloadReader.reset();\n        }\n    }\n\n    public flush(): void {\n        if (this.payloadReader) {\n            this.payloadReader.flush(this.lastPts);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/pes-reader.ts","import { PayloadReader } from './payload-reader';\n\nexport class UnknownReader extends PayloadReader {\n\n    public getMimeType(): string {\n        return 'unknown';\n    }\n\n    public consumeData(pts: number): void {\n        // do nothing\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/payload/unknown-reader.ts","import { Size, FrameRate } from '../video-types';\n\nexport class Sps {\n    constructor (public profile: string, public level: string, public bitDepth: number,\n        public chromaFormat: number, chromaFormatStr: string, public frameRate: FrameRate,\n        public sar: Size, public codecSize: Size, public presentSize: Size ) {\n        // do nothing\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/codecs/h264/nal-units.ts","import { PayloadReader } from './payload-reader';\nimport { Track } from '../../track';\n\nexport class ID3Reader extends PayloadReader {\n\n    public getMimeType(): string {\n        return Track.MIME_TYPE_ID3;\n    }\n\n    public consumeData(pts: number): void {\n        // do nothing\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/payload/id3-reader.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { PayloadReader } from './payload-reader';\nimport { Frame } from '../../frame';\n\nenum State {\n    FIND_SYNC = 1,\n    READ_HEADER = 2,\n    READ_FRAME = 3\n}\n\nexport class MpegReader extends PayloadReader {\n    private static HEADER_SIZE: number = 4;\n\n    private static SAMPLING_RATE_V1: number[] = [44100, 48000, 32000];\n    private static BITRATE_V1_L1: number[] =\n      [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448];\n    private static BITRATE_V2_L1: number[] =\n      [32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256];\n    private static BITRATE_V1_L2: number[] =\n      [32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384];\n    private static BITRATE_V1_L3: number[] =\n      [32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320];\n    private static BITRATE_V2: number[] =\n      [8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160];\n    private static MIME_TYPE_BY_LAYER: string[] =\n        ['mpeg-L1', 'mpeg-L2', 'mpeg'];\n\n    public channels: number;\n    public bitrate: number;\n    public sampleRate: number;\n    public samplesPerFrame: number;\n    public currentFrameSize: number;\n    public frameDuration: number;\n    public mimeType: string;\n\n    private state: State;\n\n    constructor () {\n        super();\n        this.channels = 0;\n        this.sampleRate = 0;\n        this.samplesPerFrame = 0;\n        this.currentFrameSize = 0;\n        this.frameDuration = 0;\n        this.mimeType = MpegReader.MIME_TYPE_BY_LAYER[2];\n        this.state = State.FIND_SYNC;\n        this.dataOffset = 0;\n    }\n\n    public getMimeType(): string {\n        return 'audio/' + this.mimeType;\n    }\n\n    public consumeData(pts: number): void {\n        if (!this.dataBuffer) {\n            return;\n        }\n        if (pts >= 0) {\n            this.timeUs = pts;\n        }\n        if (this.firstTimestamp === -1) {\n            this.firstTimestamp = this.timeUs;\n        }\n        while (this.dataOffset < this.dataBuffer.byteLength) {\n            if (this.state ===  State.FIND_SYNC) {\n                this.findHeader();\n            } else if (this.state === State.READ_HEADER) {\n                if (!this.readHeader()) {\n                    break;\n                }\n            } else if (this.state === State.READ_FRAME) {\n                const len: number = this.readFrame();\n                if (len === 0) {\n                    break;\n                }\n                this.dataOffset += len;\n            }\n        }\n        this.dataBuffer = this.dataBuffer.subarray(this.dataOffset);\n        this.dataOffset = 0;\n    }\n\n    private findHeader(): void {\n        const limit: number = this.dataBuffer.byteLength - 1;\n        let lastByteWasFF: boolean = false;\n        for (let i: number = this.dataOffset; i < limit; i++) {\n            const isFF: boolean = ((this.dataBuffer[i]) & 0xFF) === 0XFF;\n            const found: boolean = lastByteWasFF && ((this.dataBuffer[i] & 0xE0) === 0xE0);\n            lastByteWasFF = isFF;\n\n            if (found) {\n                lastByteWasFF = false;\n                this.state = State.READ_HEADER;\n                this.dataOffset = i - 1;\n                return;\n            }\n        }\n\n        this.dataOffset = this.dataBuffer.byteLength;\n    }\n\n    private readHeader(): boolean {\n        if (this.dataBuffer.byteLength - this.dataOffset < MpegReader.HEADER_SIZE) {\n            return false;\n        }\n\n        const header: number = ByteParserUtils.parseUint32(this.dataBuffer, this.dataOffset);\n        if (!this.parseHeader(header)) {\n            this.state = State.FIND_SYNC;\n            this.dataOffset++;\n        } else {\n            this.state = State.READ_FRAME;\n        }\n        return true;\n    }\n\n    private parseHeader(header: number): boolean {\n        if ((header & 0xFFE00000) >>> 0 !== 0xFFE00000) {\n            console.log(header);\n            return false;\n        }\n\n        const version: number = (header >>> 19) & 3;\n        if (version === 1) {\n            return false;\n        }\n\n        const layer: number = (header >>> 17) & 3;\n        if (layer === 0) {\n            return false;\n        }\n\n        const bitrateIndex: number = (header >>> 12) & 15;\n        const sampleRateIndex: number = (header >>> 10) & 3;\n        if (sampleRateIndex >= MpegReader.SAMPLING_RATE_V1.length) {\n            return false;\n        }\n\n        const sampleRate: number = MpegReader.SAMPLING_RATE_V1[sampleRateIndex];\n        if (version === 2) {\n            this.sampleRate = sampleRate / 2;\n        } else if (version === 0) {\n            this.sampleRate = sampleRate / 4;\n        } else {\n            this.sampleRate = sampleRate;\n        }\n\n        const padding: number = (header >>> 9) & 1;\n        this.channels = ((header >> 6) & 3) === 3 ? 1 : 2;\n        this.mimeType = MpegReader.MIME_TYPE_BY_LAYER[3 - layer];\n        if (layer === 3) {\n            this.bitrate = (version === 3) ? MpegReader.BITRATE_V1_L1[bitrateIndex - 1] :\n                MpegReader.BITRATE_V2_L1[bitrateIndex - 1];\n            this.samplesPerFrame = 384;\n            this.currentFrameSize = Math.floor(this.samplesPerFrame * (this.bitrate * 1000 / 8) / this.sampleRate) + padding;\n        } else {\n            if (version === 3) {\n                this.bitrate = (layer === 2) ? MpegReader.BITRATE_V1_L2[bitrateIndex - 1] :\n                    MpegReader.BITRATE_V1_L3[bitrateIndex - 1];\n                this.samplesPerFrame = 1152;\n                this.currentFrameSize = Math.floor(this.samplesPerFrame * (this.bitrate * 1000 / 8) / this.sampleRate) + padding;\n            } else {\n                // Version 2 or 2.5.\n                this.bitrate = MpegReader.BITRATE_V2[bitrateIndex - 1];\n                this.samplesPerFrame = (layer === 1) ? 576 : 1152;\n                this.currentFrameSize = Math.floor(this.samplesPerFrame * (this.bitrate * 1000 / 8) / this.sampleRate) + padding;\n            }\n        }\n        this.frameDuration = (1000000 * this.samplesPerFrame) / this.sampleRate;\n\n        return true;\n    }\n\n    private readFrame(): number {\n        if ((this.dataBuffer.byteLength - this.dataOffset) < (MpegReader.HEADER_SIZE + this.currentFrameSize)) {\n            return 0;\n        }\n        this.state = State.FIND_SYNC;\n        this.frames.push(new Frame(Frame.IDR_FRAME, this.timeUs, this.currentFrameSize));\n        this.timeUs = this.timeUs + this.frameDuration;\n        return MpegReader.HEADER_SIZE + this.currentFrameSize;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/ts/payload/mpeg-reader.ts","import { Atom } from './atom';\nimport { Ftyp } from './ftyp';\nimport { Stsd } from './stsd';\nimport { Avc1 } from './avc1';\nimport { AvcC } from './avcC';\nimport { Mvhd } from './mvhd';\nimport { Trex } from './trex';\nimport { Tkhd } from './tkhd';\nimport { Mdhd } from './mdhd';\nimport { Hdlr } from './hdlr';\nimport { Vmhd } from './vmhd';\nimport { Dref } from './dref';\nimport { Stts } from './stts';\nimport { Stsc } from './stsc';\nimport { Stsz } from './stsz';\nimport { Stco } from './stco';\nimport { Smhd } from './smhd';\nimport { Mp4a } from './mp4a';\nimport { Esds } from './esds';\nimport { Sidx } from './sidx';\nimport { Tfhd } from './tfhd';\nimport { Tfdt } from './tfdt';\nimport { Trun } from './trun';\nimport { Mfhd } from './mfhd';\nimport { Mdat } from './mdat';\nimport { Emsg } from './emsg';\nimport { Styp } from './styp';\nimport { Pssh } from './pssh';\nimport { HvcC } from './hvcC';\nimport { Hvc1 } from './hvc1';\nimport { Hev1 } from './hev1';\nimport { Stss } from './stss';\nimport { Ctts } from './ctts';\n\nexport const boxesParsers: {[type: string] : (data: Uint8Array) => Atom } = { };\n\n// Q: can this generalized or abstracted as opposed to explicit registration?\n\nboxesParsers[Atom.ftyp] = Ftyp.parse;\nboxesParsers[Atom.stsd] = Stsd.parse;\nboxesParsers[Atom.avc1] = Avc1.parse;\nboxesParsers[Atom.avcC] = AvcC.parse;\nboxesParsers[Atom.mvhd] = Mvhd.parse;\nboxesParsers[Atom.trex] = Trex.parse;\nboxesParsers[Atom.tkhd] = Tkhd.parse;\nboxesParsers[Atom.mdhd] = Mdhd.parse;\nboxesParsers[Atom.hdlr] = Hdlr.parse;\nboxesParsers[Atom.vmhd] = Vmhd.parse;\nboxesParsers[Atom.dref] = Dref.parse;\nboxesParsers[Atom.stts] = Stts.parse;\nboxesParsers[Atom.stss] = Stss.parse;\nboxesParsers[Atom.stsc] = Stsc.parse;\nboxesParsers[Atom.stsz] = Stsz.parse;\nboxesParsers[Atom.ctts] = Ctts.parse;\nboxesParsers[Atom.stco] = Stco.parse;\nboxesParsers[Atom.smhd] = Smhd.parse;\nboxesParsers[Atom.mp4a] = Mp4a.parse;\nboxesParsers[Atom.esds] = Esds.parse;\nboxesParsers[Atom.sidx] = Sidx.parse;\nboxesParsers[Atom.tfhd] = Tfhd.parse;\nboxesParsers[Atom.tfdt] = Tfdt.parse;\nboxesParsers[Atom.trun] = Trun.parse;\nboxesParsers[Atom.mfhd] = Mfhd.parse;\nboxesParsers[Atom.mdat] = Mdat.parse;\nboxesParsers[Atom.emsg] = Emsg.parse;\nboxesParsers[Atom.styp] = Styp.parse;\nboxesParsers[Atom.pssh] = Pssh.parse;\nboxesParsers[Atom.hvcC] = HvcC.parse;\nboxesParsers[Atom.hvc1] = Hvc1.parse;\nboxesParsers[Atom.hev1] = Hev1.parse;\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/index.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Ftyp extends Atom {\n    public majorBrand: string;\n    public minorVersion: number;\n    public compatibleBrands: string [];\n\n    public static parse(data: Uint8Array): Atom {\n        const ftyp: Ftyp = new Ftyp(Atom.ftyp, data.byteLength);\n        ftyp.majorBrand = ByteParserUtils.parseIsoBoxType(data, 0);\n        ftyp.minorVersion = ByteParserUtils.parseUint32(data, 4);\n        ftyp.compatibleBrands = [];\n\n        let i: number = 8;\n        while (i < data.byteLength) {\n            ftyp.compatibleBrands.push(ByteParserUtils.parseIsoBoxType(data, i));\n            i += 4;\n        }\n\n        return ftyp;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/ftyp.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom, ContainerAtom } from './atom';\n\nexport class Stsd extends ContainerAtom {\n    public version: number;\n    public flags: Uint8Array;\n    public entryCount: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const stsd: Stsd = new Stsd(Atom.stsd, data.byteLength);\n        stsd.containerDataOffset = 8;\n\n        stsd.version = data[0];\n        stsd.flags = data.subarray(1, 4);\n        stsd.entryCount = ByteParserUtils.parseUint32(data, 4);\n\n        return stsd;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stsd.ts","import { Atom } from './atom';\nimport { VideoAtom } from './helpers/video-atom';\n\nexport class Avc1 extends VideoAtom {\n    public static parse(data: Uint8Array): Atom {\n        const atom: Avc1 = new Avc1(Atom.avc1, data.byteLength);\n        VideoAtom.fillVideoAtom(atom, data);\n        return atom;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/avc1.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\nimport { SPSParser } from '../../../codecs/h264/sps-parser';\nimport { Sps } from '../../../codecs/h264/nal-units';\n\nexport class AvcC extends Atom {\n    public version: number;\n    public profile: number;\n    public profileCompatibility: number;\n    public level: number;\n    public lengthSizeMinusOne: number;\n    public numOfSequenceParameterSets: number;\n    public numOfPictureParameterSets: number;\n    public sps: Uint8Array[];\n    public spsParsed: Sps[];\n    public pps: Uint8Array[];\n    public data: Uint8Array;\n\n    public static parse(data: Uint8Array): Atom {\n        const avcC: AvcC = new AvcC(Atom.avcC, data.byteLength);\n\n        avcC.data = data;\n        avcC.version = data[0];\n        avcC.profile = data[1];\n        avcC.profileCompatibility = data[2];\n        avcC.level = data[3];\n        avcC.lengthSizeMinusOne = data[4] & 0x03;\n        avcC.numOfSequenceParameterSets = data[5] & 0x1f;\n\n        avcC.sps = [];\n        avcC.spsParsed = [];\n        let offset: number = 6;\n        for (let i: number = 0; i < avcC.numOfSequenceParameterSets; i++) {\n            const spsSize: number = ByteParserUtils.parseUint16(data, offset);\n            offset += 2;\n            const sps: Uint8Array = new Uint8Array(data.subarray(offset, offset + spsSize));\n            avcC.sps.push(sps);\n            offset += spsSize;\n\n            avcC.spsParsed.push(SPSParser.parseSPS(sps.subarray(1, spsSize)));\n        }\n\n        avcC.numOfPictureParameterSets = data[offset] & 0x1f;\n        avcC.pps = [];\n        offset++;\n        for (let i: number = 0; i < avcC.numOfPictureParameterSets; i++) {\n            const ppsSize: number = ByteParserUtils.parseUint16(data, offset);\n            offset += 2;\n            avcC.pps.push(new Uint8Array(data.subarray(offset, offset + ppsSize)));\n            offset += ppsSize;\n        }\n\n        return avcC;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/avcC.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Mvhd extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public creationTime: Date;\n    public modificationTime: Date;\n    public timescale: number;\n    public duration: number;\n    public rate: number;\n    public volume: number;\n    public matrix: Uint32Array;\n    public previewtime: number;\n    public previewDuration: number;\n    public posterTime: number;\n    public selectionTime: number;\n    public selectionDuration: number;\n    public currentTime: number;\n    public nextTrackId: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const mvhd: Mvhd = new Mvhd(Atom.mvhd, data.byteLength);\n        mvhd.version = data[0];\n        mvhd.flags = data.subarray(1, 4);\n\n        let offset: number = 4;\n        if (mvhd.version === 1) {\n            offset += 4;\n            mvhd.creationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 8;\n            mvhd.modificationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            mvhd.timescale = ByteParserUtils.parseUint32(data, offset);\n            offset += 8;\n            mvhd.duration = ByteParserUtils.parseUint32(data, offset);\n        } else {\n            mvhd.creationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            mvhd.modificationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            mvhd.timescale = ByteParserUtils.parseUint32(data, offset);\n            offset += 4;\n            mvhd.duration = ByteParserUtils.parseUint32(data, offset);\n        }\n        offset += 4;\n        mvhd.rate = ByteParserUtils.parseUint16(data, offset) +\n            ByteParserUtils.parseUint16(data, offset + 2) / 16;\n        offset += 4;\n        mvhd.volume = data[offset] + data[offset + 1] / 8;\n        offset += 12;\n        mvhd.matrix = new Uint32Array(data.subarray(offset, offset + (9 * 4)));\n        offset += 9 * 4;\n        mvhd.previewtime = ByteParserUtils.parseUint32(data, offset);\n        offset += 4;\n        mvhd.previewDuration = ByteParserUtils.parseUint32(data, offset);\n        offset += 4;\n        mvhd.posterTime = ByteParserUtils.parseUint32(data, offset);\n        offset += 4;\n        mvhd.selectionTime = ByteParserUtils.parseUint32(data, offset);\n        offset += 4;\n        mvhd.selectionDuration = ByteParserUtils.parseUint32(data, offset);\n        offset += 4;\n        mvhd.currentTime = ByteParserUtils.parseUint32(data, offset);\n        offset += 4;\n        mvhd.nextTrackId = ByteParserUtils.parseUint32(data, offset);\n        return mvhd;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mvhd.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Trex extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public trackId: number;\n    public defaultSampleDescriptionIndex: number;\n    public defaultSampleDuration: number;\n    public defaultSampleSize: number;\n    public sampleDependsOn: number;\n    public sampleIsDependedOn: number;\n    public sampleHasRedundancy: number;\n    public samplePaddingValue: number;\n    public sampleIsDifferenceSample: boolean;\n    public sampleDegradationPriority: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const trex: Trex = new Trex(Atom.trex, data.byteLength);\n\n        trex.version = data[0];\n        trex.flags = new Uint8Array(data.subarray(1, 4)),\n        trex.trackId = ByteParserUtils.parseUint32(data, 4),\n        trex.defaultSampleDescriptionIndex = ByteParserUtils.parseUint32(data, 8);\n        trex.defaultSampleDuration = ByteParserUtils.parseUint32(data, 12);\n        trex.defaultSampleSize = ByteParserUtils.parseUint32(data, 16);\n        trex.sampleDependsOn = data[20] & 0x03;\n        trex.sampleIsDependedOn = (data[21] & 0xc0) >> 6;\n        trex.sampleHasRedundancy = (data[21] & 0x30) >> 4;\n        trex.samplePaddingValue = (data[21] & 0x0e) >> 1;\n        trex.sampleIsDifferenceSample = !!(data[21] & 0x01);\n        trex.sampleDegradationPriority = ByteParserUtils.parseUint32(data, 22);\n\n        return trex;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/trex.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Tkhd extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public creationTime: Date;\n    public modificationTime: Date;\n    public trackId: number;\n    public duration: number;\n    public layer: number;\n    public volume: number;\n    public matrix: Uint32Array;\n    public alternateGroup: number;\n    public width: number;\n    public height: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const tkhd: Tkhd = new Tkhd(Atom.tkhd, data.byteLength);\n        tkhd.version = data[0];\n        tkhd.flags = data.subarray(1, 4);\n\n        let offset: number = 4;\n        if (tkhd.version === 1) {\n            offset += 4;\n            tkhd.creationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 8;\n            tkhd.modificationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            tkhd.trackId = ByteParserUtils.parseUint32(data, offset);\n            offset += 12;\n            tkhd.duration = ByteParserUtils.parseUint32(data, offset);\n        } else {\n            tkhd.creationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            tkhd.modificationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            tkhd.trackId = ByteParserUtils.parseUint32(data, offset);\n            offset += 8;\n            tkhd.duration = ByteParserUtils.parseUint32(data, offset);\n        }\n        offset += 12;\n        tkhd.layer = ByteParserUtils.parseUint16(data, offset);\n        offset += 2;\n        tkhd.alternateGroup = ByteParserUtils.parseUint16(data, offset);\n        offset += 2;\n        tkhd.volume = data[offset] + (data[offset + 1] / 8);\n        offset += 4;\n        tkhd.matrix = new Uint32Array(data.subarray(offset, offset + (9 * 4)));\n        offset += 9 * 4;\n        tkhd.width = ByteParserUtils.parseUint16(data, offset) +\n            (ByteParserUtils.parseUint16(data, offset + 2) / 16);\n        offset += 4;\n        tkhd.height = ByteParserUtils.parseUint16(data, offset) +\n            (ByteParserUtils.parseUint16(data, offset + 2) / 16);\n\n        return tkhd;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/tkhd.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Mdhd extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public language: string;\n    public creationTime: Date;\n    public modificationTime: Date;\n    public timescale: number;\n    public duration: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const mdhd: Mdhd = new Mdhd(Atom.mdhd, data.byteLength);\n        mdhd.version = data[0];\n        mdhd.flags = data.subarray(1, 4);\n\n        let offset: number = 4;\n        if (mdhd.version === 1) {\n            offset += 4;\n            mdhd.creationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 8;\n            mdhd.modificationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            mdhd.timescale = ByteParserUtils.parseUint32(data, offset);\n            offset += 8;\n            mdhd.duration = ByteParserUtils.parseUint32(data, offset);\n        } else {\n            mdhd.creationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            mdhd.modificationTime = ByteParserUtils.parseIsoBoxDate(ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n            mdhd.timescale = ByteParserUtils.parseUint32(data, offset);\n            offset += 4;\n            mdhd.duration = ByteParserUtils.parseUint32(data, offset);\n        }\n        offset += 4;\n        let langVal: number = ByteParserUtils.parseUint16(data, offset);\n        mdhd.language = '';\n        mdhd.language += String.fromCharCode((langVal >> 10) + 0x60);\n        mdhd.language += String.fromCharCode(((langVal & 0x03c0) >> 5) + 0x60);\n        mdhd.language += String.fromCharCode((langVal & 0x1f) + 0x60);\n\n        return mdhd;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mdhd.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Hdlr extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public handlerType: string;\n    public name: string;\n\n    public static parse(data: Uint8Array): Atom {\n        const hdlr: Hdlr = new Hdlr(Atom.hdlr, data.byteLength);\n        hdlr.version = data[0];\n        hdlr.flags = data.subarray(1, 4);\n        hdlr.handlerType = ByteParserUtils.parseIsoBoxType(data, 8);\n\n        // parse out the name field\n        let name: string = '';\n        for (let i: number = 24; i < data.byteLength; i++) {\n            if (data[i] === 0x00) {\n                i++;\n                break;\n            }\n            name += String.fromCharCode(data[i]);\n        }\n        hdlr.name = decodeURIComponent(name);\n\n        return hdlr;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/hdlr.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Vmhd extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public graphichsMode: number;\n    public opColor: Uint16Array;\n\n    public static parse(data: Uint8Array): Atom {\n        const vmhd: Vmhd = new Vmhd(Atom.vmhd, data.byteLength);\n        vmhd.version = data[0];\n        vmhd.flags = data.subarray(1, 4);\n        vmhd.graphichsMode = ByteParserUtils.parseUint16(data, 4);\n        vmhd.opColor = new Uint16Array([\n            ByteParserUtils.parseUint16(data, 6),\n            ByteParserUtils.parseUint16(data, 8),\n            ByteParserUtils.parseUint16(data, 10)\n        ]);\n        return vmhd;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/vmhd.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom, ContainerAtom } from './atom';\n\nexport class Dref extends ContainerAtom {\n    public version: number;\n    public flags: Uint8Array;\n\n    public static parse(data: Uint8Array): Atom {\n        const dref: Dref = new Dref(Atom.dref, data.byteLength);\n        dref.containerDataOffset = 8;\n\n        dref.version = data[0];\n        dref.flags = data.subarray(1, 4);\n        return dref;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/dref.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class TimeToSampleEntry {\n    constructor(public sampleCount: number, public sampleDelta: number) {\n    }\n}\n\nexport class Stts extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public timeToSamples: TimeToSampleEntry[] = [];\n\n    public static parse(data: Uint8Array): Atom {\n        const stts: Stts = new Stts(Atom.stts, data.byteLength);\n        stts.version = data[0];\n        stts.flags = data.subarray(1, 4);\n        stts.timeToSamples = [];\n        const entryCount: number = ByteParserUtils.parseUint32(data, 4);\n        let offset: number = 8;\n        for (let i: number = 0; i < entryCount; i++) {\n            stts.timeToSamples.push(new TimeToSampleEntry(\n                ByteParserUtils.parseUint32(data, offset),\n                ByteParserUtils.parseUint32(data, offset + 4)));\n            offset += 8;\n        }\n        return stts;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stts.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class SampleToChunkEntry {\n    constructor(\n        public firstChunk: number,\n        public samplesPerChunk: number,\n        public sampleDescriptionIndex: number) {\n    }\n}\n\nexport class Stsc extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public sampleToChunks: SampleToChunkEntry[];\n\n    public static parse(data: Uint8Array): Atom {\n        const stsc: Stsc = new Stsc(Atom.stsc, data.byteLength);\n        stsc.version = data[0];\n        stsc.flags = data.subarray(1, 4);\n        stsc.sampleToChunks = [];\n        const entryCount: number = ByteParserUtils.parseUint32(data, 4);\n        let offset: number = 8;\n        for (let i: number = 0; i < entryCount; i++) {\n            stsc.sampleToChunks.push(new SampleToChunkEntry(\n                ByteParserUtils.parseUint32(data, offset),\n                ByteParserUtils.parseUint32(data, offset + 4),\n                ByteParserUtils.parseUint32(data, offset + 8)));\n            offset += 12;\n        }\n        return stsc;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stsc.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Stsz extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public sampleSize: number;\n    public entries: number[];\n\n    public static parse(data: Uint8Array): Atom {\n        const stsz: Stsz = new Stsz(Atom.stsz, data.byteLength);\n        stsz.version = data[0];\n        stsz.flags = data.subarray(1, 4);\n        stsz.sampleSize = ByteParserUtils.parseUint32(data, 4);\n        stsz.entries = [];\n\n        for (let i: number = 12; i < data.byteLength; i += 4) {\n            stsz.entries.push(\n                ByteParserUtils.parseUint32(data, i));\n        }\n        return stsz;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stsz.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Stco extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public chunkOffsets: number[];\n\n    public static parse(data: Uint8Array): Atom {\n        const stco: Stco = new Stco(Atom.stco, data.byteLength);\n        stco.version = data[0];\n        stco.flags = data.subarray(1, 4);\n        stco.chunkOffsets = [];\n        const entryCount: number = ByteParserUtils.parseUint32(data, 4);\n        let offset: number = 8;\n        for (let i: number = 0; i < entryCount; i++) {\n            stco.chunkOffsets.push(\n                ByteParserUtils.parseUint32(data, offset));\n            offset += 4;\n        }\n        return stco;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stco.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Smhd extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public balance: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const smhd: Smhd = new Smhd(Atom.smhd, data.byteLength);\n        smhd.version = data[0];\n        smhd.flags = data.subarray(1, 4);\n        smhd.balance = data[4] + data[5] / 256;\n\n        return smhd;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/smhd.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport {Atom, ContainerAtom} from './atom';\nimport {AudioAtom} from './helpers/audio-atom';\n\nexport class Mp4a extends AudioAtom {\n    public static parse(data: Uint8Array): Atom {\n        const atom: Mp4a = new Mp4a(Atom.mp4a, data.byteLength);\n        AudioAtom.fillAudioAtom(atom, data);\n        return atom;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mp4a.ts","import ByteParserUtils from '../../../../utils/byte-parser-utils';\nimport { Atom, ContainerAtom } from '../atom';\n\nexport class AudioAtom extends ContainerAtom {\n    public dataReferenceIndex: number;\n    public channelCount: number;\n    public sampleSize: number;\n    public sampleRate: number;\n\n    public static fillAudioAtom(atom: AudioAtom, data: Uint8Array): Atom {\n        atom.containerDataOffset = 28;\n\n        atom.dataReferenceIndex = ByteParserUtils.parseUint16(data, 6);\n        atom.channelCount = ByteParserUtils.parseUint16(data, 16);\n        atom.sampleSize = ByteParserUtils.parseUint16(data, 18);\n        atom.sampleRate = ByteParserUtils.parseUint16(data, 24) +\n            (ByteParserUtils.parseUint16(data, 26) >>> 15);\n\n        return atom;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/helpers/audio-atom.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class DecoderConfigDescriptor {\n    constructor(public tag: number, public length: number,\n        public audioObjectType: number, public samplingFrequencyIndex: number,\n        public channelConfiguration: number) {\n        }\n}\n\nexport class DecoderConfig {\n    constructor(public objectProfileIndication: number, public streamType: number,\n        public bufferSize: number, public maxBitrate: number, public avgBitrate: number,\n        public decoderConfigDescriptor: DecoderConfigDescriptor) {\n        }\n}\n\nexport class Esds extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public esId: number;\n    public streamPriority: number;\n    public decoderConfig: DecoderConfig;\n    public data: Uint8Array;\n\n    public static parse(data: Uint8Array): Atom {\n        const esds: Esds = new Esds(Atom.esds, data.byteLength);\n\n        esds.data = data;\n\n        esds.version = data[0];\n        esds.flags = data.subarray(1, 4);\n\n        esds.esId = ByteParserUtils.parseUint16(data, 6);\n        esds.streamPriority = data[8] & 0x1f;\n        esds.decoderConfig = new DecoderConfig(\n            data[11],\n            (data[12] >>> 2) & 0x3f,\n            (data[13] << 16) | (data[14] << 8) | data[15],\n            ByteParserUtils.parseUint32(data, 16),\n            ByteParserUtils.parseUint32(data, 20),\n            new DecoderConfigDescriptor(\n                data[24],\n                data[25],\n                (data[26] >>> 3) & 0x1f,\n                ((data[26] & 0x07) << 1) | ((data[27] >>> 7) & 0x01),\n                (data[27] >>> 3) & 0x0f\n            )\n        );\n        return esds;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/esds.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Reference {\n    constructor(public type: number, public size: number,\n        public subsegmentDuration: number, public startsWithSap: boolean,\n        public sapType: number, public sapDeltaTime: number) {\n    }\n}\n\nexport class Sidx extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public referenceId: number;\n    public timescale: number;\n    public earliestPresentationTime: number;\n    public firstOffset: number;\n    public references: Reference[];\n\n    public static parse(data: Uint8Array): Atom {\n        const sidx: Sidx = new Sidx(Atom.sidx, data.byteLength);\n        sidx.version = data[0];\n        sidx.flags = data.subarray(1, 4);\n        sidx.referenceId = ByteParserUtils.parseUint32(data, 4);\n        sidx.timescale = ByteParserUtils.parseUint32(data, 8);\n        let offset: number;\n        if (sidx.version === 0) {\n            sidx.earliestPresentationTime = ByteParserUtils.parseUint32(data, 12);\n            sidx.firstOffset = ByteParserUtils.parseUint32(data, 16);\n            offset = 20;\n        } else {\n            sidx.earliestPresentationTime = ByteParserUtils.parseLong64(data, 12);\n            sidx.firstOffset = ByteParserUtils.parseLong64(data, 20);\n            offset = 28;\n        }\n\n        offset += 2;\n        const referenceCount: number = ByteParserUtils.parseUint16(data, offset);\n        sidx.references = [];\n        offset += 2;\n\n        for (let i: number = 0; i < referenceCount; i++) {\n            sidx.references.push(new Reference(\n                (data[offset] & 0x80) >>> 7,\n                ByteParserUtils.parseUint32(data, offset) & 0x7FFFFFFF,\n                ByteParserUtils.parseUint32(data, offset + 4),\n                !!(data[offset + 8] & 0x80),\n                (data[offset + 8] & 0x70) >>> 4,\n                ByteParserUtils.parseUint32(data, offset + 8) & 0x0FFFFFFF));\n            offset += 12;\n        }\n        return sidx;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/sidx.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Tfhd extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public trackId: number;\n    public baseDataOffset: number;\n    public sampleDescriptionIndex: number;\n    public defaultSampleDuration: number;\n    public defaultSampleSize: number;\n    public defaultSampleFlags: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const tfhd: Tfhd = new Tfhd(Atom.tfhd, data.byteLength);\n        tfhd.version = data[0];\n        tfhd.flags = data.subarray(1, 4);\n\n        const baseDataOffsetPresent: boolean = !!(tfhd.flags[2] & 0x01);\n        const sampleDescriptionIndexPresent: boolean = !!(tfhd.flags[2] & 0x02);\n        const defaultSampleDurationPresent: boolean = !!(tfhd.flags[2] & 0x08);\n        const defaultSampleSizePresent: boolean = !!(tfhd.flags[2] & 0x10);\n        const defaultSampleFlagsPresent: boolean = !!(tfhd.flags[2] & 0x20);\n\n        let offset: number = 8;\n        if (baseDataOffsetPresent) {\n            tfhd.baseDataOffset = ByteParserUtils.parseLong64(data, 12);\n            offset += 8;\n        }\n        if (sampleDescriptionIndexPresent) {\n            tfhd.sampleDescriptionIndex = ByteParserUtils.parseUint32(data, offset);\n            offset += 4;\n        }\n        if (defaultSampleDurationPresent) {\n            tfhd.defaultSampleDuration = ByteParserUtils.parseUint32(data, offset);\n            offset += 4;\n        }\n        if (defaultSampleSizePresent) {\n            tfhd.defaultSampleSize = ByteParserUtils.parseUint32(data, offset);\n            offset += 4;\n        }\n        if (defaultSampleFlagsPresent) {\n            tfhd.defaultSampleFlags = ByteParserUtils.parseUint32(data, offset);\n        }\n\n        return tfhd;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/tfhd.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Tfdt extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public baseMediaDecodeTime: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const tfdt: Tfdt = new Tfdt(Atom.tfdt, data.byteLength);\n        tfdt.version = data[0];\n        tfdt.flags = data.subarray(1, 4);\n\n        tfdt.baseMediaDecodeTime = ByteParserUtils.parseUint32(data, 4);\n        if (tfdt.version === 1) {\n            tfdt.baseMediaDecodeTime *= Math.pow(2, 32);\n            tfdt.baseMediaDecodeTime += ByteParserUtils.parseUint32(data, 8);\n        }\n\n        return tfdt;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/tfdt.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Mfhd extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public sequenceNumber: number;\n\n    public static parse(data: Uint8Array): Atom {\n        const mfhd: Mfhd = new Mfhd(Atom.mfhd, data.byteLength);\n        mfhd.version = data[0];\n        mfhd.flags = data.subarray(1, 4);\n        mfhd.sequenceNumber = ByteParserUtils.parseUint32(data, 4);\n        return mfhd;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mfhd.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\nimport {getLogger} from '../../../utils/logger';\n\nconst {log, warn} = getLogger('Mdat');\n\nexport class Mdat extends Atom {\n\n    public static parse(data: Uint8Array): Atom {\n        const mdat: Mdat = new Mdat(Atom.mdat, data.byteLength);\n        Mdat.parsePayload(data);\n        return mdat;\n    }\n\n    private static parsePayload(data: Uint8Array): void {\n        let length: number;\n        for (let i: number = 0; i + 4 < data.byteLength; i += length) {\n            length = ByteParserUtils.parseUint32(data, i);\n            i += 4;\n\n            if (length <= 0) {\n                //console.log('is this an H264 stream?');\n                //continue;\n\n                // let's break here since otherwise this crashes on AAC data\n                warn('aborted parsing mdat');\n                break;\n            }\n\n            const nalType: number = data[i] & 0x1F;\n            // TODO: do something\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/mdat.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Emsg extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public schemeIdUri: string;\n    public value: string;\n    public timescale: number;\n    public presentationTimeDelta: number;\n    public eventDuration: number;\n    public id: number;\n    public data: Uint8Array;\n\n    public static parse(data: Uint8Array): Atom {\n        const emsg: Emsg = new Emsg(Atom.emsg, data.byteLength);\n        emsg.version = data[0];\n        emsg.flags = data.subarray(1, 4);\n\n        let i: number = 4;\n        emsg.schemeIdUri = ByteParserUtils.parseNullTerminatedString(data, i, data.byteLength);\n        i += emsg.schemeIdUri.length + 1;\n        emsg.value = ByteParserUtils.parseNullTerminatedString(data, i, data.byteLength);\n        i += emsg.value.length + 1;\n        emsg.timescale = ByteParserUtils.parseUint32(data, i);\n        i += 4;\n        emsg.presentationTimeDelta = ByteParserUtils.parseUint32(data, i);\n        i += 4;\n        emsg.eventDuration = ByteParserUtils.parseUint32(data, i);\n        i += 4;\n        emsg.id = ByteParserUtils.parseUint32(data, i);\n        i += 4;\n        if (i < data.byteLength - 1) {\n            emsg.data = data.subarray(i);\n        }\n        return emsg;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/emsg.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Styp extends Atom {\n    public majorBrand: string;\n    public minorVersion: number;\n    public compatibleBrands: string [];\n\n    public static parse(data: Uint8Array): Atom {\n        const styp: Styp = new Styp(Atom.styp, data.byteLength);\n        styp.majorBrand = ByteParserUtils.parseIsoBoxType(data, 0);\n        styp.minorVersion = ByteParserUtils.parseUint32(data, 4);\n        styp.compatibleBrands = [];\n\n        let i: number = 8;\n        while (i < data.byteLength) {\n            styp.compatibleBrands.push(ByteParserUtils.parseIsoBoxType(data, i));\n            i += 4;\n        }\n\n        return styp;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/styp.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class Pssh extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public systemId: Uint8Array;\n    public kId: Uint8Array[];\n    public data: Uint8Array;\n\n    public static parse(data: Uint8Array): Atom {\n        const pssh: Pssh = new Pssh(Atom.pssh, data.byteLength);\n\n        pssh.version = data[0];\n        pssh.flags = data.subarray(1, 4);\n\n        let offset: number = 4;\n        pssh.systemId = data.subarray(offset, offset + 16);\n        offset += 16;\n\n        if (pssh.version > 0) {\n            const count: number = ByteParserUtils.parseUint32(data, 4);\n            offset += 4;\n            pssh.kId = [];\n            for (let i: number = 0; i < count; i++) {\n                pssh.kId[i] = data.subarray(offset, offset + 16);\n                offset += 16;\n            }\n        }\n\n        const dataSize: number = ByteParserUtils.parseUint32(data, offset);\n        offset += 4;\n        if (dataSize > 0) {\n            pssh.data = data.subarray(offset, offset + 16);\n        }\n        return pssh;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/pssh.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom, ContainerAtom } from './atom';\nimport { NalUnit, NalUnitsArray } from '../../../codecs/h265/nal-unit';\n\nexport class HvcC extends Atom {\n    public version: number;\n    public profileSpace: number;\n    public tierFlag: number;\n    public profileIdc: number;\n    public profileCompatibility: number;\n    public constraintIndicator: Uint8Array;\n    public levelIdc: number;\n    public spatialSegmentationIdc: number;\n    public parallelismType: number;\n    public chromaFormat: number;\n    public bitDepthLumaMinus8: number;\n    public bitDepthChromaMinus8: number;\n    public avgFrameRate: number;\n    public constantFrameRate: number;\n    public numTemporalLayers: number;\n    public temporalIdNested: number;\n    public lengthSizeMinusOne: number;\n    public nalUnitsArrays: NalUnitsArray[];\n\n    public static parse(data: Uint8Array): Atom {\n        const hvcC: HvcC = new HvcC(Atom.hvcC, data.byteLength);\n        let aux: number;\n\n        hvcC.version = data[0];\n\n        aux = data[1];\n        hvcC.profileSpace = aux >> 6;\n        hvcC.tierFlag = (aux & 0x20) >> 5;\n        hvcC.profileIdc = (aux & 0x1F);\n\n        hvcC.profileCompatibility = ByteParserUtils.parseUint32(data, 2);\n        hvcC.constraintIndicator = data.subarray(6, 12);\n        hvcC.levelIdc = data[12];\n        hvcC.spatialSegmentationIdc = ByteParserUtils.parseUint16(data, 13) & 0xFFF;\n        hvcC.parallelismType = (data[15] & 0x3);\n        hvcC.chromaFormat = (data[16] & 0x3);\n        hvcC.bitDepthLumaMinus8 = (data[17] & 0x7);\n        hvcC.bitDepthChromaMinus8 = (data[18] & 0x7);\n        hvcC.avgFrameRate = ByteParserUtils.parseUint16(data, 19);\n\n        aux = data[21];\n        hvcC.constantFrameRate = (aux >> 6);\n        hvcC.numTemporalLayers = (aux & 0XD) >> 3;\n        hvcC.temporalIdNested = (aux & 0X4) >> 2;\n        hvcC.lengthSizeMinusOne = (aux & 0X3);\n\n        hvcC.nalUnitsArrays = [];\n        const naluArraysCount: number = data[22];\n        let offset: number = 23;\n        for (let i: number = 0; i < naluArraysCount; i++) {\n            aux = data[offset++];\n            const completeness: number = (aux & 0x80) >> 7;\n            const naluType: number = (aux & 0x3f);\n            const nalusCount: number = ByteParserUtils.parseUint16(data, offset);\n            offset += 2;\n\n            const naluArray: NalUnitsArray = new NalUnitsArray(!!completeness, naluType);\n            hvcC.nalUnitsArrays.push(naluArray);\n            for (let j: number = 0; j < nalusCount; j++) {\n                const naluLen: number = ByteParserUtils.parseUint16(data, offset);\n                offset += 2;\n\n                const naluData: Uint8Array = data.subarray(offset, offset + naluLen);\n                offset += naluLen;\n\n                const nalu: NalUnit = new NalUnit(naluType, naluData);\n                naluArray.nalUnits.push(nalu);\n            }\n        }\n\n        return hvcC;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/hvcC.ts","export class NalUnit {\n    constructor (public type: number, public data: Uint8Array) { }\n}\n\nexport class NalUnitsArray {\n    public nalUnits: NalUnit[];\n    constructor (public completeness: boolean, public type: number) {\n        this.nalUnits = [];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/codecs/h265/nal-unit.ts","import { Atom } from './atom';\nimport { VideoAtom } from './helpers/video-atom';\n\nexport class Hvc1 extends VideoAtom {\n    public static parse(data: Uint8Array): Atom {\n        const atom: Hvc1 = new Hvc1(Atom.hvc1, data.byteLength);\n        VideoAtom.fillVideoAtom(atom, data);\n        return atom;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/hvc1.ts","import { Atom } from './atom';\nimport { VideoAtom } from './helpers/video-atom';\n\nexport class Hev1 extends VideoAtom {\n    public static parse(data: Uint8Array): Atom {\n        const atom: Hev1 = new Hev1(Atom.hev1, data.byteLength);\n        VideoAtom.fillVideoAtom(atom, data);\n        return atom;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/hev1.ts","import { Atom } from \"./atom\";\nimport ByteParserUtils from \"../../../utils/byte-parser-utils\";\n\nexport class Stss extends Atom {\n\n    public version: number;\n    public flags: Uint8Array;\n    public syncSampleNumbers: number[] = [];\n\n    public static parse(data: Uint8Array): Atom {\n        const stss: Stss = new Stss(Atom.stss, data.byteLength);\n        stss.version = data[0];\n        stss.flags = data.subarray(1, 4);\n        const entryCount: number = ByteParserUtils.parseUint32(data, 4);\n\n        let offset: number = 8;\n        for (let i: number = 0; i < entryCount; i++) {\n            stss.syncSampleNumbers.push(ByteParserUtils.parseUint32(data, offset));\n            offset += 8;\n        }\n        return stss;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/stss.ts","import ByteParserUtils from '../../../utils/byte-parser-utils';\nimport { Atom } from './atom';\n\nexport class CTimeOffsetToSampleEntry {\n    constructor(public sampleCount: number, public sampleCTimeOffset: number) {\n    }\n}\n\nexport class Ctts extends Atom {\n    public version: number;\n    public flags: Uint8Array;\n    public cTimeOffsetToSamples: CTimeOffsetToSampleEntry[] = [];\n\n    public static parse(data: Uint8Array): Atom {\n        const ctts: Ctts = new Ctts(Atom.ctts, data.byteLength);\n        ctts.version = data[0];\n        ctts.flags = data.subarray(1, 4);\n        ctts.cTimeOffsetToSamples = [];\n        const entryCount: number = ByteParserUtils.parseUint32(data, 4);\n        let offset: number = 8;\n        for (let i: number = 0; i < entryCount; i++) {\n            ctts.cTimeOffsetToSamples.push(new CTimeOffsetToSampleEntry(\n                ByteParserUtils.parseUint32(data, offset),\n                ByteParserUtils.parseUint32(data, offset + 4)));\n            offset += 8;\n        }\n        return ctts;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/atoms/ctts.ts","import { Stts, TimeToSampleEntry } from './atoms/stts';\nimport { Stsc, SampleToChunkEntry } from './atoms/stsc';\nimport { Stsz } from './atoms/stsz';\nimport { Ctts, CTimeOffsetToSampleEntry } from './atoms/ctts';\nimport { Mp4Track } from './mp4-track';\nimport { Stss } from './atoms/stss';\nimport { Stco } from './atoms/stco';\n\nimport { Frame } from '../frame';\n\nimport { toMicroseconds } from '../../utils/timescale';\n\nimport {getLogger, LoggerLevels} from '../../utils/logger';\n\nconst {log, debug} = getLogger('Mp4SampleTable', LoggerLevels.OFF);\n\nexport class Mp4SampleTable {\n    decodingTimestamps: Stts;\n    compositionTimestampOffsets: Ctts;\n    syncSamples: Stss;\n    sampleSizes: Stsz;\n\n    chunkOffsetBox: Stco\n    samplesToChunkBox: Stsc;\n\n    constructor(private _track: Mp4Track) {\n        if (!_track) {\n            throw new Error('Sample-table can not be created without a Track');\n        }\n    }\n\n    digest() {\n\n        debug('digesting sample table');\n\n        let dts = 0;\n        let frameCount = 0;\n\n        const frames: Frame[] = [];\n        const chunksDecompressed: {samplesPerChunk: number, sampleDescriptionIndex: number}[] = []\n        const chunkOffsetsDecompressed: number[] = [];\n\n        this.decodingTimestamps.timeToSamples.forEach((entry: TimeToSampleEntry) => {\n\n            for (let i = 0; i < entry.sampleCount; i++) {\n\n                const isSyncFrame = this.syncSamples ? (this.syncSamples.syncSampleNumbers.indexOf(frameCount + 1) >= 0) : false;\n\n                const newFrame = new Frame(\n                    isSyncFrame ? Frame.IDR_FRAME : Frame.P_FRAME,\n                    toMicroseconds(dts, this._track.getTimescale()),\n                    this.sampleSizes.sampleSize || this.sampleSizes.entries[frameCount],\n                    toMicroseconds(entry.sampleDelta, this._track.getTimescale())\n                );\n\n                newFrame.scaledDuration = entry.sampleDelta;\n                newFrame.scaledDecodingTime = dts;\n                newFrame.scaledPresentationTimeOffset = 0;\n                newFrame.timescale = this._track.getTimescale();\n\n                frames.push(newFrame);\n\n                frameCount++; // note: here we incr the count after using it as an ordinal index\n\n                dts += entry.sampleDelta;\n            }\n        });\n\n        frameCount = 0;\n\n        this.compositionTimestampOffsets && this.compositionTimestampOffsets.cTimeOffsetToSamples.forEach((entry: CTimeOffsetToSampleEntry) => {\n            for (let i = 0; i < entry.sampleCount; i++) {\n\n                frames[frameCount]\n                    .setPresentationTimeOffsetUs(toMicroseconds(entry.sampleCTimeOffset, this._track.getTimescale()));\n\n                frames[frameCount].scaledPresentationTimeOffset = entry.sampleCTimeOffset;\n\n                frameCount++; // note: here we incr the count after using it as an ordinal index\n            }\n        });\n\n        frameCount = 0;\n\n        this.samplesToChunkBox.sampleToChunks.forEach((sampleToChunkEntry: SampleToChunkEntry, index) => {\n            // the sample-to-chunk box contains a compressed list\n            // of possibly repeating properties (samplesPerChunk + sampleDescriptionIndex)\n            // we need to decompress this information by looking at firstChunkIndex\n            let chunksInThisEntry = 1;\n            if (index < this.samplesToChunkBox.sampleToChunks.length - 1) {\n                chunksInThisEntry = this.samplesToChunkBox.sampleToChunks[index + 1].firstChunk\n                    - sampleToChunkEntry.firstChunk;\n            }\n\n            for (let i=0; i < chunksInThisEntry; i++) {\n                frameCount += this.samplesToChunkBox.sampleToChunks[index].samplesPerChunk\n\n                chunksDecompressed.push(sampleToChunkEntry);\n            }\n\n        });\n\n        if (frameCount !== frames.length) {\n            throw new Error('Sample-to-chunk-list decompression yields inconsistent sample count. Input data may be corrupt.');\n        }\n\n        frameCount = 0;\n\n        chunksDecompressed.forEach((chunkSampleInfo, index) => {\n\n            let sampleOffsetInChunk = 0;\n\n            for (let i = 0; i < chunkSampleInfo.samplesPerChunk; i++) {\n\n                const frame = frames[frameCount];\n\n                frame.bytesOffset = this.chunkOffsetBox.chunkOffsets[index];\n                frame.bytesOffset += sampleOffsetInChunk;\n\n                sampleOffsetInChunk += frame.size;\n\n                frameCount++;\n            }\n\n        });\n\n        // Finally, append all frames to our track\n        frames.forEach((frame) => {\n            this._track.appendFrame(frame)\n        });\n\n        log(frames)\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/mp4/mp4-sample-table.ts","import { IEbmlElementInfo } from './ebml-types';\n\nexport function getEbmlElementInfo(id: string): IEbmlElementInfo {\n    return schema[id] || {name: 'unknown', type: 'unknown'};\n}\n\nconst schema: { [key: string] : IEbmlElementInfo } = {\n    '80': {\n        'name': 'ChapterDisplay',\n        'level': 4,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'webm': true,\n        'description': 'Contains all possible strings to use for the chapter display.'\n    },\n    '83': {\n        'name': 'TrackType',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'range': '1-254',\n        'description': 'A set of track types coded on 8 bits (1: video, 2: audio, 3: complex, 0x10: logo, 0x11: subtitle, 0x12: buttons, 0x20: control).'\n    },\n    '85': {\n        'name': 'ChapString',\n        'cppname': 'ChapterString',\n        'level': 5,\n        'type': '8',\n        'mandatory': true,\n        'minver': 1,\n        'webm': true,\n        'description': 'Contains the string to use as the chapter atom.'\n    },\n    '86': {\n        'name': 'CodecID',\n        'level': 3,\n        'type': 's',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'An ID corresponding to the codec, see the codec page for more info.'\n    },\n    '88': {\n        'name': 'FlagDefault',\n        'cppname': 'TrackFlagDefault',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'default': '1',\n        'range': '0-1',\n        'description': 'Set if that track (audio, video or subs) SHOULD be active if no language found matches the user preference. (1 bit)'\n    },\n    '89': {\n        'name': 'ChapterTrackNumber',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'range': 'not 0',\n        'description': 'UID of the Track to apply this chapter too. In the absense of a control track, choosing this chapter will select the listed Tracks and deselect unlisted tracks. Absense of this element indicates that the Chapter should be applied to any currently used Tracks.'\n    },\n    '91': {\n        'name': 'ChapterTimeStart',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': true,\n        'description': 'Timestamp of the start of Chapter (not scaled).'\n    },\n    '92': {\n        'name': 'ChapterTimeEnd',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'description': 'Timestamp of the end of Chapter (timestamp excluded, not scaled).'\n    },\n    '96': {\n        'name': 'CueRefTime',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 2,\n        'webm': false,\n        'description': 'Timestamp of the referenced Block.'\n    },\n    '97': {\n        'name': 'CueRefCluster',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'webm': false,\n        'description': 'The Position of the Cluster containing the referenced Block.'\n    },\n    '98': {\n        'name': 'ChapterFlagHidden',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'range': '0-1',\n        'description': 'If a chapter is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)'\n    },\n    '4254': {\n        'name': 'ContentCompAlgo',\n        'level': 6,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'br': [\n            '',\n            '',\n            '',\n            ''\n        ],\n        'del': [\n            '1 - bzlib,',\n            '2 - lzo1x'\n        ],\n        'description': 'The compression algorithm used. Algorithms that have been specified so far are: 0 - zlib,   3 - Header Stripping'\n    },\n    '4255': {\n        'name': 'ContentCompSettings',\n        'level': 6,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'description': 'Settings that might be needed by the decompressor. For Header Stripping (ContentCompAlgo=3), the bytes that were removed from the beggining of each frames of the track.'\n    },\n    '4282': {\n        'name': 'DocType',\n        'level': 1,\n        'type': 's',\n        'mandatory': true,\n        'default': 'matroska',\n        'minver': 1,\n        'description': 'A string that describes the type of document that follows this EBML header. \\'matroska\\' in our case or \\'webm\\' for webm files.'\n    },\n    '4285': {\n        'name': 'DocTypeReadVersion',\n        'level': 1,\n        'type': 'u',\n        'mandatory': true,\n        'default': '1',\n        'minver': 1,\n        'description': 'The minimum DocType version an interpreter has to support to read this file.'\n    },\n    '4286': {\n        'name': 'EBMLVersion',\n        'level': 1,\n        'type': 'u',\n        'mandatory': true,\n        'default': '1',\n        'minver': 1,\n        'description': 'The version of EBML parser used to create the file.'\n    },\n    '4287': {\n        'name': 'DocTypeVersion',\n        'level': 1,\n        'type': 'u',\n        'mandatory': true,\n        'default': '1',\n        'minver': 1,\n        'description': 'The version of DocType interpreter used to create the file.'\n    },\n    '4444': {\n        'name': 'SegmentFamily',\n        'level': 2,\n        'type': 'b',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'bytesize': 16,\n        'description': 'A randomly generated unique ID that all segments related to each other must use (128 bits).'\n    },\n    '4461': {\n        'name': 'DateUTC',\n        'level': 2,\n        'type': 'd',\n        'minver': 1,\n        'description': 'Date of the origin of timestamp (value 0), i.e. production date.'\n    },\n    '4484': {\n        'name': 'TagDefault',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '1',\n        'range': '0-1',\n        'description': 'Indication to know if this is the default/original language to use for the given tag. (1 bit)'\n    },\n    '4485': {\n        'name': 'TagBinary',\n        'level': 4,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'description': 'The values of the Tag if it is binary. Note that this cannot be used in the same SimpleTag as TagString.'\n    },\n    '4487': {\n        'name': 'TagString',\n        'level': 4,\n        'type': '8',\n        'minver': 1,\n        'webm': false,\n        'description': 'The value of the Tag.'\n    },\n    '4489': {\n        'name': 'Duration',\n        'level': 2,\n        'type': 'f',\n        'minver': 1,\n        'range': '> 0',\n        'description': 'Duration of the segment (based on TimecodeScale).'\n    },\n    '4598': {\n        'name': 'ChapterFlagEnabled',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '1',\n        'range': '0-1',\n        'description': 'Specify wether the chapter is enabled. It can be enabled/disabled by a Control Track. When disabled, the movie should skip all the content between the TimeStart and TimeEnd of this chapter (see flag notes). (1 bit)'\n    },\n    '4660': {\n        'name': 'FileMimeType',\n        'level': 3,\n        'type': 's',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'MIME type of the file.'\n    },\n    '4661': {\n        'name': 'FileUsedStartTime',\n        'level': 3,\n        'type': 'u',\n        'divx': true,\n        'description': 'DivX font extension'\n    },\n    '4662': {\n        'name': 'FileUsedEndTime',\n        'level': 3,\n        'type': 'u',\n        'divx': true,\n        'description': 'DivX font extension'\n    },\n    '4675': {\n        'name': 'FileReferral',\n        'level': 3,\n        'type': 'b',\n        'webm': false,\n        'description': 'A binary value that a track/codec can refer to when the attachment is needed.'\n    },\n    '5031': {\n        'name': 'ContentEncodingOrder',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'Tells when this modification was used during encoding/muxing starting with 0 and counting upwards. The decoder/demuxer has to start with the highest order number it finds and work its way down. This value has to be unique over all ContentEncodingOrder elements in the segment.'\n    },\n    '5032': {\n        'name': 'ContentEncodingScope',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '1',\n        'range': 'not 0',\n        'br': [\n            '',\n            '',\n            ''\n        ],\n        'description': 'A bit field that describes which elements have been modified in this way. Values (big endian) can be OR\\'ed. Possible values: 1 - all frame contents, 2 - the track\\'s private data, 4 - the next ContentEncoding (next ContentEncodingOrder. Either the data inside ContentCompression and/or ContentEncryption)'\n    },\n    '5033': {\n        'name': 'ContentEncodingType',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'br': [\n            '',\n            ''\n        ],\n        'description': 'A value describing what kind of transformation has been done. Possible values: 0 - compression, 1 - encryption'\n    },\n    '5034': {\n        'name': 'ContentCompression',\n        'level': 5,\n        'type': 'm',\n        'minver': 1,\n        'webm': false,\n        'description': 'Settings describing the compression used. Must be present if the value of ContentEncodingType is 0 and absent otherwise. Each block must be decompressable even if no previous block is available in order not to prevent seeking.'\n    },\n    '5035': {\n        'name': 'ContentEncryption',\n        'level': 5,\n        'type': 'm',\n        'minver': 1,\n        'webm': false,\n        'description': 'Settings describing the encryption used. Must be present if the value of ContentEncodingType is 1 and absent otherwise.'\n    },\n    '5378': {\n        'name': 'CueBlockNumber',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': '1',\n        'range': 'not 0',\n        'description': 'Number of the Block in the specified Cluster.'\n    },\n    '5654': {\n        'name': 'ChapterStringUID',\n        'level': 4,\n        'type': '8',\n        'mandatory': false,\n        'minver': 3,\n        'webm': true,\n        'description': 'A unique string ID to identify the Chapter. Use for WebVTT cue identifier storage.'\n    },\n    '5741': {\n        'name': 'WritingApp',\n        'level': 2,\n        'type': '8',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'Writing application (\\'mkvmerge-0.3.3\\').'\n    },\n    '5854': {\n        'name': 'SilentTracks',\n        'cppname': 'ClusterSilentTracks',\n        'level': 2,\n        'type': 'm',\n        'minver': 1,\n        'webm': false,\n        'description': 'The list of tracks that are not used in that part of the stream. It is useful when using overlay tracks on seeking. Then you should decide what track to use.'\n    },\n    '6240': {\n        'name': 'ContentEncoding',\n        'level': 4,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Settings for one content encoding like compression or encryption.'\n    },\n    '6264': {\n        'name': 'BitDepth',\n        'cppname': 'AudioBitDepth',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'range': 'not 0',\n        'description': 'Bits per sample, mostly used for PCM.'\n    },\n    '6532': {\n        'name': 'SignedElement',\n        'level': 3,\n        'type': 'b',\n        'multiple': true,\n        'webm': false,\n        'description': 'An element ID whose data will be used to compute the signature.'\n    },\n    '6624': {\n        'name': 'TrackTranslate',\n        'level': 3,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'The track identification for the given Chapter Codec.'\n    },\n    '6911': {\n        'name': 'ChapProcessCommand',\n        'cppname': 'ChapterProcessCommand',\n        'level': 5,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Contains all the commands associated to the Atom.'\n    },\n    '6922': {\n        'name': 'ChapProcessTime',\n        'cppname': 'ChapterProcessTime',\n        'level': 6,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Defines when the process command should be handled (0: during the whole chapter, 1: before starting playback, 2: after playback of the chapter).'\n    },\n    '6924': {\n        'name': 'ChapterTranslate',\n        'level': 2,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'A tuple of corresponding ID used by chapter codecs to represent this segment.'\n    },\n    '6933': {\n        'name': 'ChapProcessData',\n        'cppname': 'ChapterProcessData',\n        'level': 6,\n        'type': 'b',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Contains the command information. The data should be interpreted depending on the ChapProcessCodecID value. For ChapProcessCodecID = 1, the data correspond to the binary DVD cell pre/post commands.'\n    },\n    '6944': {\n        'name': 'ChapProcess',\n        'cppname': 'ChapterProcess',\n        'level': 4,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Contains all the commands associated to the Atom.'\n    },\n    '6955': {\n        'name': 'ChapProcessCodecID',\n        'cppname': 'ChapterProcessCodecID',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'Contains the type of the codec used for the processing. A value of 0 means native Matroska processing (to be defined), a value of 1 means the DVD command set is used. More codec IDs can be added later.'\n    },\n    '7373': {\n        'name': 'Tag',\n        'level': 2,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Element containing elements specific to Tracks/Chapters.'\n    },\n    '7384': {\n        'name': 'SegmentFilename',\n        'level': 2,\n        'type': '8',\n        'minver': 1,\n        'webm': false,\n        'description': 'A filename corresponding to this segment.'\n    },\n    '7446': {\n        'name': 'AttachmentLink',\n        'cppname': 'TrackAttachmentLink',\n        'level': 3,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'range': 'not 0',\n        'description': 'The UID of an attachment that is used by this codec.'\n    },\n    '258688': {\n        'name': 'CodecName',\n        'level': 3,\n        'type': '8',\n        'minver': 1,\n        'description': 'A human-readable string specifying the codec.'\n    },\n    '18538067': {\n        'name': 'Segment',\n        'level': 0,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'description': 'This element contains all other top-level (level 1) elements. Typically a Matroska file is composed of 1 segment.'\n    },\n    '447a': {\n        'name': 'TagLanguage',\n        'level': 4,\n        'type': 's',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': 'und',\n        'description': 'Specifies the language of the tag specified, in the Matroska languages form.'\n    },\n    '45a3': {\n        'name': 'TagName',\n        'level': 4,\n        'type': '8',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'The name of the Tag that is going to be stored.'\n    },\n    '67c8': {\n        'name': 'SimpleTag',\n        'cppname': 'TagSimple',\n        'level': 3,\n        'recursive': true,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Contains general information about the target.'\n    },\n    '63c6': {\n        'name': 'TagAttachmentUID',\n        'level': 4,\n        'type': 'u',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'A unique ID to identify the Attachment(s) the tags belong to. If the value is 0 at this level, the tags apply to all the attachments in the Segment.'\n    },\n    '63c4': {\n        'name': 'TagChapterUID',\n        'level': 4,\n        'type': 'u',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'A unique ID to identify the Chapter(s) the tags belong to. If the value is 0 at this level, the tags apply to all chapters in the Segment.'\n    },\n    '63c9': {\n        'name': 'TagEditionUID',\n        'level': 4,\n        'type': 'u',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'A unique ID to identify the EditionEntry(s) the tags belong to. If the value is 0 at this level, the tags apply to all editions in the Segment.'\n    },\n    '63c5': {\n        'name': 'TagTrackUID',\n        'level': 4,\n        'type': 'u',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'A unique ID to identify the Track(s) the tags belong to. If the value is 0 at this level, the tags apply to all tracks in the Segment.'\n    },\n    '63ca': {\n        'name': 'TargetType',\n        'cppname': 'TagTargetType',\n        'level': 4,\n        'type': 's',\n        'minver': 1,\n        'webm': false,\n        'strong': 'informational',\n        'description': 'An  string that can be used to display the logical level of the target like \\'ALBUM\\', \\'TRACK\\', \\'MOVIE\\', \\'CHAPTER\\', etc (see TargetType).'\n    },\n    '68ca': {\n        'name': 'TargetTypeValue',\n        'cppname': 'TagTargetTypeValue',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'default': '50',\n        'description': 'A number to indicate the logical level of the target (see TargetType).'\n    },\n    '63c0': {\n        'name': 'Targets',\n        'cppname': 'TagTargets',\n        'level': 3,\n        'type': 'm',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Contain all UIDs where the specified meta data apply. It is empty to describe everything in the segment.'\n    },\n    '1254c367': {\n        'name': 'Tags',\n        'level': 1,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Element containing elements specific to Tracks/Chapters. A list of valid tags can be found here.'\n    },\n    '450d': {\n        'name': 'ChapProcessPrivate',\n        'cppname': 'ChapterProcessPrivate',\n        'level': 5,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'description': 'Some optional data attached to the ChapProcessCodecID information. For ChapProcessCodecID = 1, it is the \\'DVD level\\' equivalent.'\n    },\n    '437e': {\n        'name': 'ChapCountry',\n        'cppname': 'ChapterCountry',\n        'level': 5,\n        'type': 's',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'The countries corresponding to the string, same 2 octets as in Internet domains.'\n    },\n    '437c': {\n        'name': 'ChapLanguage',\n        'cppname': 'ChapterLanguage',\n        'level': 5,\n        'type': 's',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': true,\n        'default': 'eng',\n        'description': 'The languages corresponding to the string, in the bibliographic ISO-639-2 form.'\n    },\n    '8f': {\n        'name': 'ChapterTrack',\n        'level': 4,\n        'type': 'm',\n        'minver': 1,\n        'webm': false,\n        'description': 'List of tracks on which the chapter applies. If this element is not present, all tracks apply'\n    },\n    '63c3': {\n        'name': 'ChapterPhysicalEquiv',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'description': 'Specify the physical equivalent of this ChapterAtom like \\'DVD\\' (60) or \\'SIDE\\' (50), see complete list of values.'\n    },\n    '6ebc': {\n        'name': 'ChapterSegmentEditionUID',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'range': 'not 0',\n        'description': 'The EditionUID to play from the segment linked in ChapterSegmentUID.'\n    },\n    '6e67': {\n        'name': 'ChapterSegmentUID',\n        'level': 4,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'range': '>0',\n        'bytesize': 16,\n        'description': 'A segment to play in place of this chapter. Edition ChapterSegmentEditionUID should be used for this segment, otherwise no edition is used.'\n    },\n    '73c4': {\n        'name': 'ChapterUID',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': true,\n        'range': 'not 0',\n        'description': 'A unique ID to identify the Chapter.'\n    },\n    'b6': {\n        'name': 'ChapterAtom',\n        'level': 3,\n        'recursive': true,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': true,\n        'description': 'Contains the atom information to use as the chapter atom (apply to all tracks).'\n    },\n    '45dd': {\n        'name': 'EditionFlagOrdered',\n        'level': 3,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'range': '0-1',\n        'description': 'Specify if the chapters can be defined multiple times and the order to play them is enforced. (1 bit)'\n    },\n    '45db': {\n        'name': 'EditionFlagDefault',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'range': '0-1',\n        'description': 'If a flag is set (1) the edition should be used as the default one. (1 bit)'\n    },\n    '45bd': {\n        'name': 'EditionFlagHidden',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'range': '0-1',\n        'description': 'If an edition is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)'\n    },\n    '45bc': {\n        'name': 'EditionUID',\n        'level': 3,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'range': 'not 0',\n        'description': 'A unique ID to identify the edition. It\\'s useful for tagging an edition.'\n    },\n    '45b9': {\n        'name': 'EditionEntry',\n        'level': 2,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': true,\n        'description': 'Contains all information about a segment edition.'\n    },\n    '1043a770': {\n        'name': 'Chapters',\n        'level': 1,\n        'type': 'm',\n        'minver': 1,\n        'webm': true,\n        'description': 'A system to define basic menus and partition data. For more detailed information, look at the Chapters Explanation.'\n    },\n    '46ae': {\n        'name': 'FileUID',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'range': 'not 0',\n        'description': 'Unique ID representing the file, as random as possible.'\n    },\n    '465c': {\n        'name': 'FileData',\n        'level': 3,\n        'type': 'b',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'The data of the file.'\n    },\n    '466e': {\n        'name': 'FileName',\n        'level': 3,\n        'type': '8',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Filename of the attached file.'\n    },\n    '467e': {\n        'name': 'FileDescription',\n        'level': 3,\n        'type': '8',\n        'minver': 1,\n        'webm': false,\n        'description': 'A human-friendly name for the attached file.'\n    },\n    '61a7': {\n        'name': 'AttachedFile',\n        'level': 2,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'An attached file.'\n    },\n    '1941a469': {\n        'name': 'Attachments',\n        'level': 1,\n        'type': 'm',\n        'minver': 1,\n        'webm': false,\n        'description': 'Contain attached files.'\n    },\n    'eb': {\n        'name': 'CueRefCodecState',\n        'level': 5,\n        'type': 'u',\n        'webm': false,\n        'default': '0',\n        'description': 'The position of the Codec State corresponding to this referenced element. 0 means that the data is taken from the initial Track Entry.'\n    },\n    '535f': {\n        'name': 'CueRefNumber',\n        'level': 5,\n        'type': 'u',\n        'webm': false,\n        'default': '1',\n        'range': 'not 0',\n        'description': 'Number of the referenced Block of Track X in the specified Cluster.'\n    },\n    'db': {\n        'name': 'CueReference',\n        'level': 4,\n        'type': 'm',\n        'multiple': true,\n        'minver': 2,\n        'webm': false,\n        'description': 'The Clusters containing the required referenced Blocks.'\n    },\n    'ea': {\n        'name': 'CueCodecState',\n        'level': 4,\n        'type': 'u',\n        'minver': 2,\n        'webm': false,\n        'default': '0',\n        'description': 'The position of the Codec State corresponding to this Cue element. 0 means that the data is taken from the initial Track Entry.'\n    },\n    'b2': {\n        'name': 'CueDuration',\n        'level': 4,\n        'type': 'u',\n        'mandatory': false,\n        'minver': 4,\n        'webm': false,\n        'description': 'The duration of the block according to the segment time base. If missing the track\\'s DefaultDuration does not apply and no duration information is available in terms of the cues.'\n    },\n    'f0': {\n        'name': 'CueRelativePosition',\n        'level': 4,\n        'type': 'u',\n        'mandatory': false,\n        'minver': 4,\n        'webm': false,\n        'description': 'The relative position of the referenced block inside the cluster with 0 being the first possible position for an element inside that cluster.'\n    },\n    'f1': {\n        'name': 'CueClusterPosition',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'The position of the Cluster containing the required Block.'\n    },\n    'f7': {\n        'name': 'CueTrack',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'range': 'not 0',\n        'description': 'The track for which a position is given.'\n    },\n    'b7': {\n        'name': 'CueTrackPositions',\n        'level': 3,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'description': 'Contain positions for different tracks corresponding to the timestamp.'\n    },\n    'b3': {\n        'name': 'CueTime',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'Absolute timestamp according to the segment time base.'\n    },\n    'bb': {\n        'name': 'CuePoint',\n        'level': 2,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'description': 'Contains all information relative to a seek point in the segment.'\n    },\n    '1c53bb6b': {\n        'name': 'Cues',\n        'level': 1,\n        'type': 'm',\n        'minver': 1,\n        'description': 'A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non \\'live\\' streams.'\n    },\n    '47e6': {\n        'name': 'ContentSigHashAlgo',\n        'level': 6,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'br': [\n            '',\n            ''\n        ],\n        'description': 'The hash algorithm used for the signature. A value of \\'0\\' means that the contents have not been signed but only encrypted. Predefined values: 1 - SHA1-160 2 - MD5'\n    },\n    '47e5': {\n        'name': 'ContentSigAlgo',\n        'level': 6,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'br': '',\n        'description': 'The algorithm used for the signature. A value of \\'0\\' means that the contents have not been signed but only encrypted. Predefined values: 1 - RSA'\n    },\n    '47e4': {\n        'name': 'ContentSigKeyID',\n        'level': 6,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'description': 'This is the ID of the private key the data was signed with.'\n    },\n    '47e3': {\n        'name': 'ContentSignature',\n        'level': 6,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'description': 'A cryptographic signature of the contents.'\n    },\n    '47e2': {\n        'name': 'ContentEncKeyID',\n        'level': 6,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'description': 'For public key algorithms this is the ID of the public key the the data was encrypted with.'\n    },\n    '47e1': {\n        'name': 'ContentEncAlgo',\n        'level': 6,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'br': '',\n        'description': 'The encryption algorithm used. The value \\'0\\' means that the contents have not been encrypted but only signed. Predefined values: 1 - DES, 2 - 3DES, 3 - Twofish, 4 - Blowfish, 5 - AES'\n    },\n    '6d80': {\n        'name': 'ContentEncodings',\n        'level': 3,\n        'type': 'm',\n        'minver': 1,\n        'webm': false,\n        'description': 'Settings for several content encoding mechanisms like compression or encryption.'\n    },\n    'c4': {\n        'name': 'TrickMasterTrackSegmentUID',\n        'level': 3,\n        'type': 'b',\n        'divx': true,\n        'bytesize': 16,\n        'description': 'DivX trick track extenstions'\n    },\n    'c7': {\n        'name': 'TrickMasterTrackUID',\n        'level': 3,\n        'type': 'u',\n        'divx': true,\n        'description': 'DivX trick track extenstions'\n    },\n    'c6': {\n        'name': 'TrickTrackFlag',\n        'level': 3,\n        'type': 'u',\n        'divx': true,\n        'default': '0',\n        'description': 'DivX trick track extenstions'\n    },\n    'c1': {\n        'name': 'TrickTrackSegmentUID',\n        'level': 3,\n        'type': 'b',\n        'divx': true,\n        'bytesize': 16,\n        'description': 'DivX trick track extenstions'\n    },\n    'c0': {\n        'name': 'TrickTrackUID',\n        'level': 3,\n        'type': 'u',\n        'divx': true,\n        'description': 'DivX trick track extenstions'\n    },\n    'ed': {\n        'name': 'TrackJoinUID',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 3,\n        'webm': false,\n        'range': 'not 0',\n        'description': 'The trackUID number of a track whose blocks are used to create this virtual track.'\n    },\n    'e9': {\n        'name': 'TrackJoinBlocks',\n        'level': 4,\n        'type': 'm',\n        'minver': 3,\n        'webm': false,\n        'description': 'Contains the list of all tracks whose Blocks need to be combined to create this virtual track'\n    },\n    'e6': {\n        'name': 'TrackPlaneType',\n        'level': 6,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 3,\n        'webm': false,\n        'description': 'The kind of plane this track corresponds to (0: left eye, 1: right eye, 2: background).'\n    },\n    'e5': {\n        'name': 'TrackPlaneUID',\n        'level': 6,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 3,\n        'webm': false,\n        'range': 'not 0',\n        'description': 'The trackUID number of the track representing the plane.'\n    },\n    'e4': {\n        'name': 'TrackPlane',\n        'level': 5,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 3,\n        'webm': false,\n        'description': 'Contains a video plane track that need to be combined to create this 3D track'\n    },\n    'e3': {\n        'name': 'TrackCombinePlanes',\n        'level': 4,\n        'type': 'm',\n        'minver': 3,\n        'webm': false,\n        'description': 'Contains the list of all video plane tracks that need to be combined to create this 3D track'\n    },\n    'e2': {\n        'name': 'TrackOperation',\n        'level': 3,\n        'type': 'm',\n        'minver': 3,\n        'webm': false,\n        'description': 'Operation that needs to be applied on tracks to create this virtual track. For more details look at the Specification Notes on the subject.'\n    },\n    '7d7b': {\n        'name': 'ChannelPositions',\n        'cppname': 'AudioPosition',\n        'level': 4,\n        'type': 'b',\n        'webm': false,\n        'description': 'Table of horizontal angles for each successive channel, see appendix.'\n    },\n    '9f': {\n        'name': 'Channels',\n        'cppname': 'AudioChannels',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'default': '1',\n        'range': 'not 0',\n        'description': 'Numbers of channels in the track.'\n    },\n    '78b5': {\n        'name': 'OutputSamplingFrequency',\n        'cppname': 'AudioOutputSamplingFreq',\n        'level': 4,\n        'type': 'f',\n        'minver': 1,\n        'default': 'Sampling Frequency',\n        'range': '> 0',\n        'description': 'Real output sampling frequency in Hz (used for SBR techniques).'\n    },\n    'b5': {\n        'name': 'SamplingFrequency',\n        'cppname': 'AudioSamplingFreq',\n        'level': 4,\n        'type': 'f',\n        'mandatory': true,\n        'minver': 1,\n        'default': '8000.0',\n        'range': '> 0',\n        'description': 'Sampling frequency in Hz.'\n    },\n    'e1': {\n        'name': 'Audio',\n        'cppname': 'TrackAudio',\n        'level': 3,\n        'type': 'm',\n        'minver': 1,\n        'description': 'Audio settings.'\n    },\n    '2383e3': {\n        'name': 'FrameRate',\n        'cppname': 'VideoFrameRate',\n        'level': 4,\n        'type': 'f',\n        'range': '> 0',\n        'strong': 'Informational',\n        'description': 'Number of frames per second.  only.'\n    },\n    '2fb523': {\n        'name': 'GammaValue',\n        'cppname': 'VideoGamma',\n        'level': 4,\n        'type': 'f',\n        'webm': false,\n        'range': '> 0',\n        'description': 'Gamma Value.'\n    },\n    '2eb524': {\n        'name': 'ColourSpace',\n        'cppname': 'VideoColourSpace',\n        'level': 4,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'bytesize': 4,\n        'description': 'Same value as in AVI (32 bits).'\n    },\n    '54b3': {\n        'name': 'AspectRatioType',\n        'cppname': 'VideoAspectRatio',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': '0',\n        'description': 'Specify the possible modifications to the aspect ratio (0: free resizing, 1: keep aspect ratio, 2: fixed).'\n    },\n    '54b2': {\n        'name': 'DisplayUnit',\n        'cppname': 'VideoDisplayUnit',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': '0',\n        'description': 'How DisplayWidth & DisplayHeight should be interpreted (0: pixels, 1: centimeters, 2: inches, 3: Display Aspect Ratio).'\n    },\n    '54ba': {\n        'name': 'DisplayHeight',\n        'cppname': 'VideoDisplayHeight',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': 'PixelHeight',\n        'range': 'not 0',\n        'description': 'Height of the video frames to display. The default value is only valid when DisplayUnit is 0.'\n    },\n    '54b0': {\n        'name': 'DisplayWidth',\n        'cppname': 'VideoDisplayWidth',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': 'PixelWidth',\n        'range': 'not 0',\n        'description': 'Width of the video frames to display. The default value is only valid when DisplayUnit is 0.'\n    },\n    '54dd': {\n        'name': 'PixelCropRight',\n        'cppname': 'VideoPixelCropRight',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': '0',\n        'description': 'The number of video pixels to remove on the right of the image.'\n    },\n    '54cc': {\n        'name': 'PixelCropLeft',\n        'cppname': 'VideoPixelCropLeft',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': '0',\n        'description': 'The number of video pixels to remove on the left of the image.'\n    },\n    '54bb': {\n        'name': 'PixelCropTop',\n        'cppname': 'VideoPixelCropTop',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': '0',\n        'description': 'The number of video pixels to remove at the top of the image.'\n    },\n    '54aa': {\n        'name': 'PixelCropBottom',\n        'cppname': 'VideoPixelCropBottom',\n        'level': 4,\n        'type': 'u',\n        'minver': 1,\n        'default': '0',\n        'description': 'The number of video pixels to remove at the bottom of the image (for HDTV content).'\n    },\n    'ba': {\n        'name': 'PixelHeight',\n        'cppname': 'VideoPixelHeight',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'range': 'not 0',\n        'description': 'Height of the encoded video frames in pixels.'\n    },\n    'b0': {\n        'name': 'PixelWidth',\n        'cppname': 'VideoPixelWidth',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'range': 'not 0',\n        'description': 'Width of the encoded video frames in pixels.'\n    },\n    '53b9': {\n        'name': 'OldStereoMode',\n        'level': 4,\n        'type': 'u',\n        'maxver': 0,\n        'webm': false,\n        'divx': false,\n        'description': 'DEPRECATED, DO NOT USE. Bogus StereoMode value used in old versions of libmatroska. (0: mono, 1: right eye, 2: left eye, 3: both eyes).'\n    },\n    '53c0': {\n        'name': 'AlphaMode',\n        'cppname': 'VideoAlphaMode',\n        'level': 4,\n        'type': 'u',\n        'minver': 3,\n        'webm': true,\n        'default': '0',\n        'description': 'Alpha Video Mode. Presence of this element indicates that the BlockAdditional element could contain Alpha data.'\n    },\n    '53b8': {\n        'name': 'StereoMode',\n        'cppname': 'VideoStereoMode',\n        'level': 4,\n        'type': 'u',\n        'minver': 3,\n        'webm': true,\n        'default': '0',\n        'description': 'Stereo-3D video mode (0: mono, 1: side by side (left eye is first), 2: top-bottom (right eye is first), 3: top-bottom (left eye is first), 4: checkboard (right is first), 5: checkboard (left is first), 6: row interleaved (right is first), 7: row interleaved (left is first), 8: column interleaved (right is first), 9: column interleaved (left is first), 10: anaglyph (cyan/red), 11: side by side (right eye is first), 12: anaglyph (green/magenta), 13 both eyes laced in one Block (left eye is first), 14 both eyes laced in one Block (right eye is first)) . There are some more details on 3D support in the Specification Notes.'\n    },\n    '9a': {\n        'name': 'FlagInterlaced',\n        'cppname': 'VideoFlagInterlaced',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 2,\n        'webm': true,\n        'default': '0',\n        'range': '0-1',\n        'description': 'Set if the video is interlaced. (1 bit)'\n    },\n    'e0': {\n        'name': 'Video',\n        'cppname': 'TrackVideo',\n        'level': 3,\n        'type': 'm',\n        'minver': 1,\n        'description': 'Video settings.'\n    },\n    '66a5': {\n        'name': 'TrackTranslateTrackID',\n        'level': 4,\n        'type': 'b',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'The binary value used to represent this track in the chapter codec data. The format depends on the ChapProcessCodecID used.'\n    },\n    '66bf': {\n        'name': 'TrackTranslateCodec',\n        'level': 4,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'The chapter codec using this ID (0: Matroska Script, 1: DVD-menu).'\n    },\n    '66fc': {\n        'name': 'TrackTranslateEditionUID',\n        'level': 4,\n        'type': 'u',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Specify an edition UID on which this translation applies. When not specified, it means for all editions found in the segment.'\n    },\n    '56bb': {\n        'name': 'SeekPreRoll',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'multiple': false,\n        'default': '0',\n        'minver': 4,\n        'webm': true,\n        'description': 'After a discontinuity, SeekPreRoll is the duration in nanoseconds of the data the decoder must decode before the decoded data is valid.'\n    },\n    '56aa': {\n        'name': 'CodecDelay',\n        'level': 3,\n        'type': 'u',\n        'multiple': false,\n        'default': '0',\n        'minver': 4,\n        'webm': true,\n        'description': 'CodecDelay is The codec-built-in delay in nanoseconds. This value must be subtracted from each block timestamp in order to get the actual timestamp. The value should be small so the muxing of tracks with the same actual timestamp are in the same Cluster.'\n    },\n    '6fab': {\n        'name': 'TrackOverlay',\n        'level': 3,\n        'type': 'u',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Specify that this track is an overlay track for the Track specified (in the u-integer). That means when this track has a gap (see SilentTracks) the overlay track should be used instead. The order of multiple TrackOverlay matters, the first one is the one that should be used. If not found it should be the second, etc.'\n    },\n    'aa': {\n        'name': 'CodecDecodeAll',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 2,\n        'webm': false,\n        'default': '1',\n        'range': '0-1',\n        'description': 'The codec can decode potentially damaged data (1 bit).'\n    },\n    '26b240': {\n        'name': 'CodecDownloadURL',\n        'level': 3,\n        'type': 's',\n        'multiple': true,\n        'webm': false,\n        'description': 'A URL to download about the codec used.'\n    },\n    '3b4040': {\n        'name': 'CodecInfoURL',\n        'level': 3,\n        'type': 's',\n        'multiple': true,\n        'webm': false,\n        'description': 'A URL to find information about the codec used.'\n    },\n    '3a9697': {\n        'name': 'CodecSettings',\n        'level': 3,\n        'type': '8',\n        'webm': false,\n        'description': 'A string describing the encoding setting used.'\n    },\n    '63a2': {\n        'name': 'CodecPrivate',\n        'level': 3,\n        'type': 'b',\n        'minver': 1,\n        'description': 'Private data only known to the codec.'\n    },\n    '22b59c': {\n        'name': 'Language',\n        'cppname': 'TrackLanguage',\n        'level': 3,\n        'type': 's',\n        'minver': 1,\n        'default': 'eng',\n        'description': 'Specifies the language of the track in the Matroska languages form.'\n    },\n    '536e': {\n        'name': 'Name',\n        'cppname': 'TrackName',\n        'level': 3,\n        'type': '8',\n        'minver': 1,\n        'description': 'A human-readable track name.'\n    },\n    '55ee': {\n        'name': 'MaxBlockAdditionID',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'The maximum value of BlockAdditions for this track.'\n    },\n    '537f': {\n        'name': 'TrackOffset',\n        'level': 3,\n        'type': 'i',\n        'webm': false,\n        'default': '0',\n        'description': 'A value to add to the Block\\'s Timestamp. This can be used to adjust the playback offset of a track.'\n    },\n    '23314f': {\n        'name': 'TrackTimecodeScale',\n        'level': 3,\n        'type': 'f',\n        'mandatory': true,\n        'minver': 1,\n        'maxver': 3,\n        'webm': false,\n        'default': '1.0',\n        'range': '> 0',\n        'description': 'DEPRECATED, DO NOT USE. The scale to apply on this track to work at normal speed in relation with other tracks (mostly used to adjust video speed when the audio length differs).'\n    },\n    '234e7a': {\n        'name': 'DefaultDecodedFieldDuration',\n        'cppname': 'TrackDefaultDecodedFieldDuration',\n        'level': 3,\n        'type': 'u',\n        'minver': 4,\n        'range': 'not 0',\n        'description': 'The period in nanoseconds (not scaled by TimcodeScale)\\nbetween two successive fields at the output of the decoding process (see the notes)'\n    },\n    '23e383': {\n        'name': 'DefaultDuration',\n        'cppname': 'TrackDefaultDuration',\n        'level': 3,\n        'type': 'u',\n        'minver': 1,\n        'range': 'not 0',\n        'description': 'Number of nanoseconds (not scaled via TimecodeScale) per frame (\\'frame\\' in the Matroska sense -- one element put into a (Simple)Block).'\n    },\n    '6df8': {\n        'name': 'MaxCache',\n        'cppname': 'TrackMaxCache',\n        'level': 3,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'description': 'The maximum cache size required to store referenced frames in and the current frame. 0 means no cache is needed.'\n    },\n    '6de7': {\n        'name': 'MinCache',\n        'cppname': 'TrackMinCache',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'The minimum number of frames a player should be able to cache during playback. If set to 0, the reference pseudo-cache system is not used.'\n    },\n    '9c': {\n        'name': 'FlagLacing',\n        'cppname': 'TrackFlagLacing',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'default': '1',\n        'range': '0-1',\n        'description': 'Set if the track may contain blocks using lacing. (1 bit)'\n    },\n    '55aa': {\n        'name': 'FlagForced',\n        'cppname': 'TrackFlagForced',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'default': '0',\n        'range': '0-1',\n        'description': 'Set if that track MUST be active during playback. There can be many forced track for a kind (audio, video or subs), the player should select the one which language matches the user preference or the default + forced track. Overlay MAY happen between a forced and non-forced track of the same kind. (1 bit)'\n    },\n    'b9': {\n        'name': 'FlagEnabled',\n        'cppname': 'TrackFlagEnabled',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 2,\n        'webm': true,\n        'default': '1',\n        'range': '0-1',\n        'description': 'Set if the track is usable. (1 bit)'\n    },\n    '73c5': {\n        'name': 'TrackUID',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'range': 'not 0',\n        'description': 'A unique ID to identify the Track. This should be kept the same when making a direct stream copy of the Track to another file.'\n    },\n    'd7': {\n        'name': 'TrackNumber',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'range': 'not 0',\n        'description': 'The track number as used in the Block Header (using more than 127 tracks is not encouraged, though the design allows an unlimited number).'\n    },\n    'ae': {\n        'name': 'TrackEntry',\n        'level': 2,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'description': 'Describes a track with all elements.'\n    },\n    '1654ae6b': {\n        'name': 'Tracks',\n        'level': 1,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'description': 'A top-level block of information with many tracks described.'\n    },\n    'af': {\n        'name': 'EncryptedBlock',\n        'level': 2,\n        'type': 'b',\n        'multiple': true,\n        'webm': false,\n        'description': 'Similar to EncryptedBlock Structure)'\n    },\n    'ca': {\n        'name': 'ReferenceTimeCode',\n        'level': 4,\n        'type': 'u',\n        'multiple': false,\n        'mandatory': true,\n        'minver': 0,\n        'webm': false,\n        'divx': true,\n        'description': 'DivX trick track extenstions'\n    },\n    'c9': {\n        'name': 'ReferenceOffset',\n        'level': 4,\n        'type': 'u',\n        'multiple': false,\n        'mandatory': true,\n        'minver': 0,\n        'webm': false,\n        'divx': true,\n        'description': 'DivX trick track extenstions'\n    },\n    'c8': {\n        'name': 'ReferenceFrame',\n        'level': 3,\n        'type': 'm',\n        'multiple': false,\n        'minver': 0,\n        'webm': false,\n        'divx': true,\n        'description': 'DivX trick track extenstions'\n    },\n    'cf': {\n        'name': 'SliceDuration',\n        'level': 5,\n        'type': 'u',\n        'default': '0',\n        'description': 'The (scaled) duration to apply to the element.'\n    },\n    'ce': {\n        'name': 'Delay',\n        'cppname': 'SliceDelay',\n        'level': 5,\n        'type': 'u',\n        'default': '0',\n        'description': 'The (scaled) delay to apply to the element.'\n    },\n    'cb': {\n        'name': 'BlockAdditionID',\n        'cppname': 'SliceBlockAddID',\n        'level': 5,\n        'type': 'u',\n        'default': '0',\n        'description': 'The ID of the BlockAdditional element (0 is the main Block).'\n    },\n    'cd': {\n        'name': 'FrameNumber',\n        'cppname': 'SliceFrameNumber',\n        'level': 5,\n        'type': 'u',\n        'default': '0',\n        'description': 'The number of the frame to generate from this lace with this delay (allow you to generate many frames from the same Block/Frame).'\n    },\n    'cc': {\n        'name': 'LaceNumber',\n        'cppname': 'SliceLaceNumber',\n        'level': 5,\n        'type': 'u',\n        'minver': 1,\n        'default': '0',\n        'divx': false,\n        'description': 'The reverse number of the frame in the lace (0 is the last frame, 1 is the next to last, etc). While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback.'\n    },\n    'e8': {\n        'name': 'TimeSlice',\n        'level': 4,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'divx': false,\n        'description': 'Contains extra time information about the data contained in the Block. While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback.'\n    },\n    '8e': {\n        'name': 'Slices',\n        'level': 3,\n        'type': 'm',\n        'minver': 1,\n        'divx': false,\n        'description': 'Contains slices description.'\n    },\n    '75a2': {\n        'name': 'DiscardPadding',\n        'level': 3,\n        'type': 'i',\n        'minver': 4,\n        'webm': true,\n        'description': 'Duration in nanoseconds of the silent data added to the Block (padding at the end of the Block for positive value, at the beginning of the Block for negative value). The duration of DiscardPadding is not calculated in the duration of the TrackEntry and should be discarded during playback.'\n    },\n    'a4': {\n        'name': 'CodecState',\n        'level': 3,\n        'type': 'b',\n        'minver': 2,\n        'webm': false,\n        'description': 'The new codec state to use. Data interpretation is private to the codec. This information should always be referenced by a seek entry.'\n    },\n    'fd': {\n        'name': 'ReferenceVirtual',\n        'level': 3,\n        'type': 'i',\n        'webm': false,\n        'description': 'Relative position of the data that should be in position of the virtual block.'\n    },\n    'fb': {\n        'name': 'ReferenceBlock',\n        'level': 3,\n        'type': 'i',\n        'multiple': true,\n        'minver': 1,\n        'description': 'Timestamp of another frame used as a reference (ie: B or P frame). The timestamp is relative to the block its attached to.'\n    },\n    'fa': {\n        'name': 'ReferencePriority',\n        'cppname': 'FlagReferenced',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '0',\n        'description': 'This frame is referenced and has the specified cache priority. In cache only a frame of the same or higher priority can replace this frame. A value of 0 means the frame is not referenced.'\n    },\n    '9b': {\n        'name': 'BlockDuration',\n        'level': 3,\n        'type': 'u',\n        'minver': 1,\n        'default': 'TrackDuration',\n        'description': 'The duration of the Block (based on TimecodeScale). This element is mandatory when DefaultDuration is set for the track (but can be omitted as other default values). When not written and with no DefaultDuration, the value is assumed to be the difference between the timestamp of this Block and the timestamp of the next Block in \\'display\\' order (not coding order). This element can be useful at the end of a Track (as there is not other Block available), or when there is a break in a track like for subtitle tracks. When set to 0 that means the frame is not a keyframe.'\n    },\n    'a5': {\n        'name': 'BlockAdditional',\n        'level': 5,\n        'type': 'b',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Interpreted by the codec as it wishes (using the BlockAddID).'\n    },\n    'ee': {\n        'name': 'BlockAddID',\n        'level': 5,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'default': '1',\n        'range': 'not 0',\n        'description': 'An ID to identify the BlockAdditional level.'\n    },\n    'a6': {\n        'name': 'BlockMore',\n        'level': 4,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Contain the BlockAdditional and some parameters.'\n    },\n    '75a1': {\n        'name': 'BlockAdditions',\n        'level': 3,\n        'type': 'm',\n        'minver': 1,\n        'webm': false,\n        'description': 'Contain additional blocks to complete the main one. An EBML parser that has no knowledge of the Block structure could still see and use/skip these data.'\n    },\n    'a2': {\n        'name': 'BlockVirtual',\n        'level': 3,\n        'type': 'b',\n        'webm': false,\n        'description': 'A Block with no data. It must be stored in the stream at the place the real Block should be in display order. (see Block Virtual)'\n    },\n    'a1': {\n        'name': 'Block',\n        'level': 3,\n        'type': 'b',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'Block containing the actual data to be rendered and a timestamp relative to the Cluster Timecode. (see Block Structure)'\n    },\n    'a0': {\n        'name': 'BlockGroup',\n        'level': 2,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'description': 'Basic container of information containing a single Block or BlockVirtual, and information specific to that Block/VirtualBlock.'\n    },\n    'a3': {\n        'name': 'SimpleBlock',\n        'level': 2,\n        'type': 'b',\n        'multiple': true,\n        'minver': 2,\n        'webm': true,\n        'divx': true,\n        'description': 'Similar to SimpleBlock Structure)'\n    },\n    'ab': {\n        'name': 'PrevSize',\n        'cppname': 'ClusterPrevSize',\n        'level': 2,\n        'type': 'u',\n        'minver': 1,\n        'description': 'Size of the previous Cluster, in octets. Can be useful for backward playing.'\n    },\n    'a7': {\n        'name': 'Position',\n        'cppname': 'ClusterPosition',\n        'level': 2,\n        'type': 'u',\n        'minver': 1,\n        'webm': false,\n        'description': 'The Position of the Cluster in the segment (0 in live broadcast streams). It might help to resynchronise offset on damaged streams.'\n    },\n    '58d7': {\n        'name': 'SilentTrackNumber',\n        'cppname': 'ClusterSilentTrackNumber',\n        'level': 3,\n        'type': 'u',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'One of the track number that are not used from now on in the stream. It could change later if not specified as silent in a further Cluster.'\n    },\n    'e7': {\n        'name': 'Timecode',\n        'cppname': 'ClusterTimecode',\n        'level': 2,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'Absolute timestamp of the cluster (based on TimecodeScale).'\n    },\n    '1f43b675': {\n        'name': 'Cluster',\n        'level': 1,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'description': 'The lower level element containing the (monolithic) Block structure.'\n    },\n    '4d80': {\n        'name': 'MuxingApp',\n        'level': 2,\n        'type': '8',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'Muxing application or library (\\'libmatroska-0.4.3\\').'\n    },\n    '7ba9': {\n        'name': 'Title',\n        'level': 2,\n        'type': '8',\n        'minver': 1,\n        'webm': false,\n        'description': 'General name of the segment.'\n    },\n    '2ad7b2': {\n        'name': 'TimecodeScaleDenominator',\n        'level': 2,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 4,\n        'default': '1000000000',\n        'description': 'Timestamp scale numerator, see TimecodeScale.'\n    },\n    '2ad7b1': {\n        'name': 'TimecodeScale',\n        'level': 2,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'default': '1000000',\n        'description': 'Timestamp scale in nanoseconds (1.000.000 means all timestamps in the segment are expressed in milliseconds).'\n    },\n    '69a5': {\n        'name': 'ChapterTranslateID',\n        'level': 3,\n        'type': 'b',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'The binary value used to represent this segment in the chapter codec data. The format depends on the ChapProcessCodecID used.'\n    },\n    '69bf': {\n        'name': 'ChapterTranslateCodec',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'The chapter codec using this ID (0: Matroska Script, 1: DVD-menu).'\n    },\n    '69fc': {\n        'name': 'ChapterTranslateEditionUID',\n        'level': 3,\n        'type': 'u',\n        'multiple': true,\n        'minver': 1,\n        'webm': false,\n        'description': 'Specify an edition UID on which this correspondance applies. When not specified, it means for all editions found in the segment.'\n    },\n    '3e83bb': {\n        'name': 'NextFilename',\n        'level': 2,\n        'type': '8',\n        'minver': 1,\n        'webm': false,\n        'description': 'An escaped filename corresponding to the next segment.'\n    },\n    '3eb923': {\n        'name': 'NextUID',\n        'level': 2,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'bytesize': 16,\n        'description': 'A unique ID to identify the next chained segment (128 bits).'\n    },\n    '3c83ab': {\n        'name': 'PrevFilename',\n        'level': 2,\n        'type': '8',\n        'minver': 1,\n        'webm': false,\n        'description': 'An escaped filename corresponding to the previous segment.'\n    },\n    '3cb923': {\n        'name': 'PrevUID',\n        'level': 2,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'bytesize': 16,\n        'description': 'A unique ID to identify the previous chained segment (128 bits).'\n    },\n    '73a4': {\n        'name': 'SegmentUID',\n        'level': 2,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'range': 'not 0',\n        'bytesize': 16,\n        'description': 'A randomly generated unique ID to identify the current segment between many others (128 bits).'\n    },\n    '1549a966': {\n        'name': 'Info',\n        'level': 1,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'description': 'Contains miscellaneous general information and statistics on the file.'\n    },\n    '53ac': {\n        'name': 'SeekPosition',\n        'level': 3,\n        'type': 'u',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'The position of the element in the segment in octets (0 = first level 1 element).'\n    },\n    '53ab': {\n        'name': 'SeekID',\n        'level': 3,\n        'type': 'b',\n        'mandatory': true,\n        'minver': 1,\n        'description': 'The binary ID corresponding to the element name.'\n    },\n    '4dbb': {\n        'name': 'Seek',\n        'cppname': 'SeekPoint',\n        'level': 2,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'description': 'Contains a single seek entry to an EBML element.'\n    },\n    '114d9b74': {\n        'name': 'SeekHead',\n        'cppname': 'SeekHeader',\n        'level': 1,\n        'type': 'm',\n        'multiple': true,\n        'minver': 1,\n        'description': 'Contains the position of other level 1 elements.'\n    },\n    '7e7b': {\n        'name': 'SignatureElementList',\n        'level': 2,\n        'type': 'm',\n        'multiple': true,\n        'webm': false,\n        'i': 'Cluster|Block|BlockAdditional',\n        'description': 'A list consists of a number of consecutive elements that represent one case where data is used in signature. Ex:  means that the BlockAdditional of all Blocks in all Clusters is used for encryption.'\n    },\n    '7e5b': {\n        'name': 'SignatureElements',\n        'level': 1,\n        'type': 'm',\n        'webm': false,\n        'description': 'Contains elements that will be used to compute the signature.'\n    },\n    '7eb5': {\n        'name': 'Signature',\n        'level': 1,\n        'type': 'b',\n        'webm': false,\n        'description': 'The signature of the data (until a new.'\n    },\n    '7ea5': {\n        'name': 'SignaturePublicKey',\n        'level': 1,\n        'type': 'b',\n        'webm': false,\n        'description': 'The public key to use with the algorithm (in the case of a PKI-based signature).'\n    },\n    '7e9a': {\n        'name': 'SignatureHash',\n        'level': 1,\n        'type': 'u',\n        'webm': false,\n        'description': 'Hash algorithm used (1=SHA1-160, 2=MD5).'\n    },\n    '7e8a': {\n        'name': 'SignatureAlgo',\n        'level': 1,\n        'type': 'u',\n        'webm': false,\n        'description': 'Signature algorithm used (1=RSA, 2=elliptic).'\n    },\n    '1b538667': {\n        'name': 'SignatureSlot',\n        'level': -1,\n        'type': 'm',\n        'multiple': true,\n        'webm': false,\n        'description': 'Contain signature of some (coming) elements in the stream.'\n    },\n    'bf': {\n        'name': 'CRC-32',\n        'level': -1,\n        'type': 'b',\n        'minver': 1,\n        'webm': false,\n        'description': 'The CRC is computed on all the data of the Master element it\\'s in. The CRC element should be the first in it\\'s parent master for easier reading. All level 1 elements should include a CRC-32. The CRC in use is the IEEE CRC32 Little Endian'\n    },\n    'ec': {\n        'name': 'Void',\n        'level': -1,\n        'type': 'b',\n        'minver': 1,\n        'description': 'Used to void damaged data, to avoid unexpected behaviors when using damaged data. The content is discarded. Also used to reserve space in a sub-element for later use.'\n    },\n    '42f3': {\n        'name': 'EBMLMaxSizeLength',\n        'level': 1,\n        'type': 'u',\n        'mandatory': true,\n        'default': '8',\n        'minver': 1,\n        'description': 'The maximum length of the sizes you\\'ll find in this file (8 or less in Matroska). This does not override the element size indicated at the beginning of an element. Elements that have an indicated size which is larger than what is allowed by EBMLMaxSizeLength shall be considered invalid.'\n    },\n    '42f2': {\n        'name': 'EBMLMaxIDLength',\n        'level': 1,\n        'type': 'u',\n        'mandatory': true,\n        'default': '4',\n        'minver': 1,\n        'description': 'The maximum length of the IDs you\\'ll find in this file (4 or less in Matroska).'\n    },\n    '42f7': {\n        'name': 'EBMLReadVersion',\n        'level': 1,\n        'type': 'u',\n        'mandatory': true,\n        'default': '1',\n        'minver': 1,\n        'description': 'The minimum EBML version a parser has to support to read this file.'\n    },\n    '1a45dfa3': {\n        'name': 'EBML',\n        'level': 0,\n        'type': 'm',\n        'mandatory': true,\n        'multiple': true,\n        'minver': 1,\n        'description': 'Set the EBML characteristics of the data to follow. Each EBML document has to start with this.'\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/webm/ebml/schema.ts","import { Vint } from './ebml-types';\n\nexport class EbmlParser {\n\n    public static readVint(buffer: Uint8Array, start: number = 0): Vint {\n        let len: number = 1;\n        for (; len <= 8; len++) {\n            if (buffer[start] >= Math.pow(2, 8 - len)) {\n                break;\n            }\n        }\n\n        if (len > 8 || start + len > buffer.length) {\n            return null;\n        }\n\n        let value: number = buffer[start] & (1 << (8 - len)) - 1;\n        for (let i: number = 1; i < len; i++) {\n            if (i === 7) {\n                if (value >= Math.pow(2, 53 - 8) && buffer[start + 7] > 0) {\n                    return new Vint(-1, len);\n                }\n            }\n            value *= Math.pow(2, 8);\n            value += buffer[start + i];\n        }\n\n        return new Vint(value, len);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/webm/ebml/ebml-parser.ts","import { Track } from '../track';\nimport { Frame } from '../frame';\nimport { ITrackInfo } from './elements/track-info';\nimport { Vint, EbmlElement } from './ebml/ebml-types';\nimport ByteParserUtils from '../../utils/byte-parser-utils';\n\nexport class WebMTrack extends Track {\n    private lastPts: number;\n    private nsPerFrame: number;\n    private lastTimecodeBase: number;\n    private timecodeScale: number;\n    private codec: string;\n    private metadata: any;\n\n    constructor(info: ITrackInfo, metadata: any) {\n        const type: string = WebMTrack.getType(info.TrackType);\n        const codec: string = info.CodecName || WebMTrack.getCodecNameFromID(info.CodecID);\n        super(info.TrackNumber, type, type + '/' + codec);\n\n        this.type = type;\n        this.codec = codec;\n        this.metadata = metadata;\n        this.lastPts = 0;\n        this.nsPerFrame = info.DefaultDuration;\n        this.lastTimecodeBase = 0;\n        this.timecodeScale = info.TrackTimecodeScale;\n    }\n\n    private static getType(type: number): string {\n        switch (type) {\n            case 1:\n            return Track.TYPE_VIDEO;\n\n            case 2:\n            return Track.TYPE_AUDIO;\n\n            case 3:\n            return Track.TYPE_COMPLEX;\n\n            case 0x10:\n            return Track.TYPE_LOGO;\n\n            case 0x11:\n            return Track.TYPE_TEXT;\n\n            case 0x12:\n            return Track.TYPE_BUTTONS;\n\n            case 0x20:\n            return Track.TYPE_CONTROL;\n\n            default:\n            return Track.TYPE_UNKNOWN;\n        }\n    }\n\n    private static getCodecNameFromID(codecID: string): string {\n        if (!codecID) {\n            return null;\n        }\n        const pos: number = codecID.indexOf('_');\n        if (pos < 0) {\n            return codecID;\n        }\n        return codecID.substr(pos + 1);\n    }\n\n    public getFrames(): Frame[] {\n        return this.frames;\n    }\n\n    public getMetadata(): any { // FIXME: Seems this is the only implementation and it violates the base-class return-type\n                                // We should probably rather try to come up with a generic data-model\n                                // or at least type this as a string-to-any hash...\n        if (!this.metadata) {\n            return null;\n        }\n        if (this.type === Track.TYPE_VIDEO) {\n            return {\n                codecSize: {\n                    height: this.metadata.PixelHeight,\n                    width: this.metadata.PixelWidth\n                },\n                presentSize: {\n                    height: this.metadata.DisplayHeight,\n                    width: this.metadata.DisplayWidth,\n                }\n            };\n        } else if (this.type === Track.TYPE_AUDIO) {\n            return {\n                sampleRate: this.metadata.SamplingFrequency\n            };\n        }\n    }\n\n    public setTimecode(time: number): void {\n        this.lastTimecodeBase = time;\n    }\n\n    public processBlock(trackId: Vint, element: EbmlElement): void {\n        const buffer: Uint8Array = element.data as Uint8Array;\n        const timecode: number = ByteParserUtils.parseUint16(buffer, trackId.length);\n        const flags: number = ByteParserUtils.parseUint(buffer, trackId.length + 2, 1);\n        this.lastPts = 1000 * ((this.lastTimecodeBase + timecode) / (this.timecodeScale > 0 ? this.timecodeScale : 1));\n\n        if (element.name === 'SimpleBlock' && flags & 0x80) {\n            this.frames.push(new Frame(Frame.IDR_FRAME, this.lastPts, buffer.length));\n        } else {\n            this.frames.push(new Frame(Frame.P_FRAME, this.lastPts, buffer.length));\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/demuxer/webm/webm-track.ts","import * as index from '../index';\nimport { IDemuxer } from '../demuxer/demuxer';\nimport { Mp4Demuxer } from '../demuxer/mp4/mp4-demuxer';\nimport { MpegTSDemuxer } from '../demuxer/ts/mpegts-demuxer';\nimport { WebMDemuxer } from '../demuxer/webm/webm-demuxer';\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Worker/postMessage\n */\ntype WebWorkerPostMessageFunc = (message: any, transferList?: Array<any>) => void;\n\ndeclare const postMessage: WebWorkerPostMessageFunc;\n\nexport class WebWorker {\n    public static onMessage = ((event) => {\n        if (event.data) {\n            switch (event.data.type) {\n                case index.InspectorActionType.CREATE_MP4_DEMUX_JOB:\n                    WebWorker.createMp4DemuxJob(event);\n                    break;\n                case index.InspectorActionType.CREATE_MPEGTS_DEMUX_JOB:\n                    WebWorker.createMpegTSDemuxJob(event);\n                    break;\n                case index.InspectorActionType.CREATE_WEBM_DEMUX_JOB:\n                    WebWorker.createWebMDemuxJob(event);\n                    break;\n                case index.InspectorActionType.EXECUTE_JOB_APPEND:\n                    WebWorker.executeJobAppend(event);\n                    break;\n                case index.InspectorActionType.END_JOB:\n                    WebWorker.endJob(event);\n                    break;\n                default:\n                    break;\n            }\n        }\n    });\n\n    private static jobs: Map<String, IDemuxer> = new Map<String, IDemuxer>();\n\n    private static createMp4DemuxJob(event: index.InspectorAction): void {\n        const guid: String = WebWorker.createGuid();\n        const demuxer: Mp4Demuxer = index.createMp4Demuxer();\n        WebWorker.jobs.set(guid, demuxer);\n        postMessage({\n            type: index.InspectorActionType.CREATE_MP4_DEMUX_JOB_RESPONSE,\n            job: guid,\n            data: demuxer,\n        });\n    }\n\n    private static createMpegTSDemuxJob(event: index.InspectorAction): void {\n        const guid: String = WebWorker.createGuid();\n        const demuxer: MpegTSDemuxer = index.createMpegTSDemuxer();\n        WebWorker.jobs.set(guid, demuxer);\n        postMessage({\n            type: index.InspectorActionType.CREATE_MPEGTS_DEMUX_JOB_RESPONSE,\n            job: guid,\n            data: demuxer,\n        });\n    }\n\n    private static createWebMDemuxJob(event: index.InspectorAction): void {\n        const guid: String = WebWorker.createGuid();\n        const demuxer: WebMDemuxer = index.createWebMDemuxer();\n        WebWorker.jobs.set(guid, demuxer);\n        postMessage({\n            type: index.InspectorActionType.CREATE_WEBM_DEMUX_JOB_RESPONSE,\n            job: guid,\n            data: demuxer,\n        });\n    }\n\n    private static executeJobAppend(event: index.InspectorAction): void {\n        if (WebWorker.jobs.has(event.data.job)) {\n            const demuxer: IDemuxer = WebWorker.jobs.get(event.data.job);\n            demuxer.append(event.data.data);\n            postMessage({\n                type: index.InspectorActionType.EXECUTE_JOB_APPEND_RESPONSE,\n                job: event.data.job,\n                data: demuxer,\n            });\n        }\n    }\n\n    private static endJob(event: index.InspectorAction): void {\n        if (WebWorker.jobs.has(event.data.job)) {\n            const demuxer: IDemuxer = WebWorker.jobs.get(event.data.job);\n            WebWorker.jobs.get(event.data.job).end();\n            WebWorker.jobs.delete(event.data.job);\n            postMessage({\n                type: index.InspectorActionType.END_JOB_RESPONSE,\n                job: event.data.job,\n                data: demuxer,\n            });\n        }\n    }\n\n    private static createGuid(): String {\n        return `${this.s4()}${this.s4()}-${this.s4()}-${this.s4()}-${this.s4()}-${this.s4()}${this.s4()}${this.s4()}`;\n    }\n\n    private static s4(): String {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ext-mod/inspector.js/src/utils/web-worker.ts","import { Processor } from '../core/processor';\nimport { SocketType, SocketDescriptor, InputSocket } from '../core/socket';\nimport { Packet } from '../core/packet';\nimport { BufferSlice } from '../core/buffer';\n\n// import * as BroadwayPlayer from '../ext-mod/Broadway/Player/Player';\n// tslint:disable-next-line: no-var-keyword\ndeclare var BroadwayPlayer: any;\n\n// global node-canvas instance, only for testing !\n// const { createCanvas } = require('canvas')\n\n// tslint:disable-next-line: no-var-keyword\nvar BroadwayPlayer: any = () => {};\n\n// global SUPER DIRTY HACK for testing\nBroadwayPlayer.prototype._createBasicCanvasObj = function (options) {\n  console.log('create-canvas method overload');\n\n  options = options || {};\n  let obj: any = {};\n  let width = options.width;\n  if (!width) {\n    width = this._config.size.width;\n  }\n  let height = options.height;\n  if (!height) {\n    height = this._config.size.height;\n  }\n\n  // obj.canvas = createCanvas(); // document.createElement('canvas');\n\n  // console.log(obj.canvas)\n\n  obj.canvas.width = width;\n  obj.canvas.height = height;\n\n  obj.canvas.style = Object.create(null);\n\n  obj.canvas.style.backgroundColor = '#0D0E1B';\n  return obj;\n};\n\nexport class BroadwayProcessor extends Processor {\n\n  static getName(): string { return 'BroadwayProcessor' }\n\n  private _player: any = new BroadwayPlayer({\n    useWorker: false,\n    reuseMemory: true,\n    webgl: false,\n    size: {\n      width: 640,\n      height: 368\n    }\n  });\n\n  // private _canvas = createCanvas(200, 200);\n\n  constructor () {\n    super();\n  }\n\n  templateSocketDescriptor (socketType: SocketType): SocketDescriptor {\n    throw new Error('Method not implemented.');\n  }\n\n  protected processTransfer_ (inS: InputSocket, p: Packet) {\n    p.forEachBufferSlice(\n      this._onBufferSlice.bind(this, p),\n      this._onProcessingError,\n      this);\n\n    return true;\n  }\n\n  private _onProcessingError (bufferSlice: BufferSlice, err: Error): boolean {\n    console.error('Broadway proc error:', err);\n\n    return true;\n  }\n\n  private _onBufferSlice (p: Packet, bufferSlice: BufferSlice) {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/processors/broadway.processor.ts","import { XhrSocket } from '../io-sockets/xhr.socket';\nimport { MP4DemuxProcessor } from '../processors/mp4-demux.processor';\nimport { MPEGTSDemuxProcessor } from '../processors/mpeg-ts-demux.processor';\nimport { MP4MuxProcessor, MP4MuxProcessorSupportedCodecs } from '../processors/mp4-mux-mozilla.processor';\nimport { Flow, FlowStateChangeCallback } from '../core/flow';\nimport { Socket, OutputSocket } from '../core/socket';\nimport { H264ParseProcessor } from '../processors/h264-parse.processor';\nimport { HTML5MediaSourceBufferSocket } from '../io-sockets/html5-media-source-buffer.socket';\nimport { ProcessorEvent, ProcessorEventData } from '../core/processor';\nimport { MP4MuxHlsjsProcessor } from '../processors/mp4-mux-hlsjs.processor';\nimport { getLogger } from '../logger';\nimport { PayloadCodec } from '../core/payload-description';\nimport { VoidCallback } from '../common-types';\n\nconst {log} = getLogger('HttpToMediaSourceFlow');\n\nexport class HttpToMediaSourceFlow extends Flow {\n\n  private _xhrSocket: XhrSocket;\n\n  private _haveVideo = false;\n  private _haveAudio = false;\n\n  constructor (url: string, mediaSource: MediaSource) {\n    super(\n      (prevState, newState) => {\n        log('previous state:', prevState, 'new state:', newState);\n      },\n      (reason) => {\n        log('state change aborted. reason:', reason);\n      }\n    );\n\n    const mp4DemuxProc = new MP4DemuxProcessor();\n    const tsDemuxProc = new MPEGTSDemuxProcessor();\n    const h264ParseProc = new H264ParseProcessor();\n    const mp4MuxProc = new MP4MuxProcessor();\n    const mp4MuxHlsjsProc = new MP4MuxHlsjsProcessor();\n\n    const xhrSocket = this._xhrSocket = new XhrSocket(url);\n\n    const mediaSourceSocket: HTML5MediaSourceBufferSocket\n      = new HTML5MediaSourceBufferSocket(mediaSource); // avc1.4d401f\n\n    const onDemuxOutputCreated = (data: ProcessorEventData) => {\n      const demuxOutputSocket = <OutputSocket> data.socket;\n\n      log('demuxer output created');\n\n      let muxerInputSocket;\n\n      const payloadDescriptor = demuxOutputSocket.payload();\n\n      if (data.processor === mp4DemuxProc) {\n\n        demuxOutputSocket.connect(h264ParseProc.in[0]);\n        muxerInputSocket = mp4MuxHlsjsProc.createInput();\n        h264ParseProc.out[0].connect(muxerInputSocket);\n\n      } else if (data.processor === tsDemuxProc) {\n\n        if (!this._haveVideo\n            && PayloadCodec.isAvc(payloadDescriptor.codec)) {\n\n          this._haveVideo = true;\n          muxerInputSocket = mp4MuxHlsjsProc.createInput();\n          h264ParseProc.out[0].connect(muxerInputSocket);\n          demuxOutputSocket.connect(h264ParseProc.in[0]);\n\n        } else if (!this._haveAudio\n            && PayloadCodec.isAac(payloadDescriptor.codec)) {\n\n          this._haveAudio = true;\n          muxerInputSocket = mp4MuxHlsjsProc.createInput();\n          demuxOutputSocket.connect(muxerInputSocket);\n\n        }\n      }\n\n    }\n\n    this.add(mp4DemuxProc, mp4MuxHlsjsProc, tsDemuxProc, mp4MuxProc);\n\n    tsDemuxProc.on(ProcessorEvent.OUTPUT_SOCKET_CREATED, onDemuxOutputCreated);\n    mp4DemuxProc.on(ProcessorEvent.OUTPUT_SOCKET_CREATED, onDemuxOutputCreated);\n\n    mp4MuxProc.out[0].connect(mediaSourceSocket);\n    mp4MuxHlsjsProc.out[0].connect(mediaSourceSocket);\n\n    if (url.endsWith('.ts')) { // FIXME use mime-type of response\n      xhrSocket.connect(tsDemuxProc.in[0]);\n    } else { // FIXME use mime-type of response\n      xhrSocket.connect(mp4DemuxProc.in[0]);\n    }\n  }\n\n  /**\n   * @override\n   */\n  getExternalSockets (): Set<Socket> {\n    return new Set([this._xhrSocket]);\n  }\n\n  protected onCompleted_(done: VoidCallback) {}\n\n  protected onVoidToWaiting_ (done: VoidCallback) {}\n\n  protected onWaitingToVoid_ (done: VoidCallback) {}\n\n  protected onWaitingToFlowing_ (done: VoidCallback) {}\n\n  protected onFlowingToWaiting_ (done: VoidCallback) {}\n\n  protected onStateChangeAborted_ (reason: string) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/flows/http-to-media-source.flow.ts","import { EventEmitter } from 'eventemitter3';\n\nimport {\n  SourceBufferQueue,\n  SourceBufferQueueUpdateCallback,\n  SourceBufferQueueUpdateCallbackData\n} from './source-buffer-queue';\n\nimport {getLogger} from '../../logger';\n\nconst {error} = getLogger('MediaSourceController');\n\nexport enum MediaSourceControllerEvents {\n  MEDIA_CLOCK_UPDATED = 'media-clock-updated',\n  MEDIA_DURATION_CHANGED = 'media-duration-changed',\n  MEDIA_STALLED = 'media-stalling'\n}\n\nexport class MediaSourceController extends EventEmitter {\n  private mediaSource_: MediaSource\n  private sourceBufferQueues_: SourceBufferQueue[]\n  private mediaDuration_: number\n  private mediaClockTime_: number\n  private mediaClockLastUpdateTime_: number\n\n  constructor (mediaSource?: MediaSource) {\n    super();\n\n    if (!(mediaSource || MediaSource)) {\n      throw new Error('Need global default MediaSource constructor or injected interface instance');\n    }\n\n    if (!mediaSource) {\n      mediaSource = new MediaSource();\n    }\n\n    this.mediaSource_ = mediaSource;\n    this.sourceBufferQueues_ = [];\n    this.mediaDuration_ = null;\n    this.mediaClockTime_ = null;\n    this.mediaClockLastUpdateTime_ = null;\n  }\n\n  get mediaDuration () {\n    return this.mediaDuration_;\n  }\n\n  get mediaClockTime () {\n    return this.mediaClockTime_;\n  }\n\n  get mediaSource () {\n    return this.mediaSource_;\n  }\n\n  get sourceBufferQueues () {\n    return this.sourceBufferQueues_;\n  }\n\n  addSourceBufferQueue (mimeType: string) {\n    if (!MediaSource.isTypeSupported(mimeType)) {\n      error('MediaSource not supporting:', mimeType);\n      return false;\n    }\n\n    if (this.mediaSource.readyState !== 'open') {\n      error('MediaSource not open!');\n      return false;\n    }\n\n    try {\n      const sbQueue = new SourceBufferQueue(this.mediaSource, mimeType, null,\n        (sbQueue, eventData) => {\n          this.onSourceBufferQueueUpdateCb_(sbQueue, eventData);\n        });\n\n      // sbQueue.setModeSequential(true);\n\n      this.sourceBufferQueues_.push(sbQueue);\n    } catch (err) {\n      error(err);\n      return false;\n    }\n    return true;\n  }\n\n  hasSourceBufferQueuesForMimeType(mimeType: string): boolean {\n    return !!this.getSourceBufferQueuesByMimeType(mimeType).length\n  }\n\n  getSourceBufferQueuesByMimeType (mimeType): SourceBufferQueue[] {\n    return this.sourceBufferQueues_.filter((sbQ) => {\n      return sbQ.mimeType === mimeType;\n    });\n  }\n\n  getBufferedTimeRanges (mediaOffset) {\n    return this.sourceBufferQueues_.map((sbQ) => {\n      return sbQ.getBufferedTimeranges(mediaOffset);\n    });\n  }\n\n  getBufferedTimeRangesFromMediaPosition () {\n    return this.sourceBufferQueues_.map((sbQ) => {\n      return sbQ.getBufferedTimeranges(this.mediaClockTime);\n    });\n  }\n\n  updateMediaClockTime (clockTime) {\n    const now = Date.now();\n    const wallClockDelta = now - this.mediaClockLastUpdateTime_;\n    const mediaTimeDelta = clockTime - this.mediaClockTime_;\n    const isForwardProgress = mediaTimeDelta > 0;\n    if (this.mediaClockTime_ !== clockTime) {\n      this.mediaClockTime_ = clockTime;\n      this.mediaClockLastUpdateTime_ = now;\n      this.emit(MediaSourceControllerEvents.MEDIA_CLOCK_UPDATED, clockTime);\n\n      // detect discontinuities/jitter in playback here\n    } else {\n      this.emit(MediaSourceControllerEvents.MEDIA_STALLED, clockTime);\n    }\n  }\n\n  setMediaDuration (duration, forceImmediateUpdate: boolean = false) {\n    if (this.mediaDuration_ !== duration) {\n      this.mediaDuration_ = duration;\n\n      if (forceImmediateUpdate) {\n        this.mediaSource.duration = duration; // TODO: async update\n      }\n\n      this.emit(MediaSourceControllerEvents.MEDIA_DURATION_CHANGED, duration);\n    }\n  }\n\n  onSourceBufferQueueUpdateCb_ (SourceBufferQueue, SourceBufferQueueUpdateCallbackData) {\n    // TODO\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/io-sockets/html5-media-source/media-source-controller.ts","import { Packet } from '../../core/packet';\n\nimport { getLogger } from '../../logger';\n\nconst { log } = getLogger('source-buffer-queue');\n\nexport type SourceBufferQueueItem = {\n  method: string\n  arrayBuffer?: ArrayBuffer\n  timestampOffset?: number\n  start?: number\n  end?: number\n};\n\nexport type SourceBufferQueueUpdateCallbackData = {\n  updateTimeMs: number\n};\n\nexport type SourceBufferQueueUpdateCallback = (SourceBufferQueue, SourceBufferQueueUpdateCallbackData) => void;\n\nexport class SourceBufferQueue {\n\n  private updateStartedTime_: number = null;\n  private queue_: SourceBufferQueueItem[] = [];\n\n  private bufferedBytesCount_: number = 0;\n  private sourceBuffer_: SourceBuffer = null;\n  private initialMode_: string = null;\n\n  // private bufferMap_: any[];\n\n  constructor (\n    mediaSource: MediaSource,\n    private mimeType_: string,\n    trackDefaults = null,\n    private onUpdate_: SourceBufferQueueUpdateCallback = (() => {})) {\n\n    // this.bufferMap_ = [];\n\n    this.sourceBuffer_ = mediaSource.addSourceBuffer(mimeType_);\n    this.initialMode_ = this.sourceBuffer_.mode;\n\n    log('SourceBuffer created with initial mode:', this.initialMode_);\n\n    if (trackDefaults) {\n      throw new Error('trackDefaults arg not supported (yet) except null');\n      // this.sourceBuffer_.trackDefaults = trackDefaults\n    }\n\n    this.sourceBuffer_.addEventListener('updatestart', this.onUpdateStart_.bind(this));\n    this.sourceBuffer_.addEventListener('updateend', this.onUpdateEnd_.bind(this));\n  }\n\n  get mimeType (): string {\n    return this.mimeType_;\n  }\n\n  get bufferedBytesCount (): number {\n    return this.bufferedBytesCount_;\n  }\n\n  /*\n\n\t\tThe mode property of the SourceBuffer interface controls whether media segments can be appended to the SourceBuffer in any order, or in a strict sequence.\n\n\t\tThe two available values are:\n\n\t\tsegments: The media segment timestamps determine the order in which the segments are played. The segments can be appended to the SourceBuffer in any order.\n\t\tsequence: The order in which the segments are appended to the SourceBuffer determines the order in which they are played. Segment timestamps are generated automatically for the segments that observe this order.\n\t\tThe mode value is initially set when the SourceBuffer is created using MediaSource.addSourceBuffer(). If timestamps already exist for the media segments, then the value will be set to segments; if they don't, then the value will be set to sequence.\n\n\t\tIf you try to set the mode property value to segments when the initial value is sequence, an error will be thrown. The existing segment order must be maintained in sequence mode. You can, however, change the value from segments to sequence. It just means the play order will be fixed, and new timestamps generated to reflect this.\n\n\t\tThis property cannot be changed during while the sourceBuffer is processing either an appendBuffer() or remove() call.\n\n\t*/\n\n  isInitialModeSequential (): boolean {\n    return this.initialMode_ === 'sequence';\n  }\n\n  getMode (): string {\n    return this.sourceBuffer_.mode;\n  }\n\n  setModeSequential (sequentialModeEnable) {\n    if (this.isUpdating()) {\n      throw new Error('Can not set mode when updating');\n    }\n    if (!sequentialModeEnable) {\n      if (this.isInitialModeSequential()) {\n        throw new Error('Can not disable sequential model');\n      } else {\n        this.sourceBuffer_.mode = 'segments';\n      }\n    } else {\n      this.sourceBuffer_.mode = 'sequence';\n    }\n  }\n\n  isUpdating (): boolean {\n    return this.sourceBuffer_.updating;\n  }\n\n  getBufferedTimeranges (mediaTimeOffset /* TODO: implement offset */) {\n    return this.sourceBuffer_.buffered;\n  }\n\n  getTotalBytesQueued (): number {\n    return this.queue_.filter((item) => {\n      return item.method === 'appendBuffer';\n    }).reduce((accu, item) => {\n      return accu + item.arrayBuffer.byteLength;\n    }, 0);\n  }\n\n  getTotalBytes (): number {\n    return this.bufferedBytesCount + this.getTotalBytesQueued();\n  }\n\n  getItemsQueuedCount (filterMethod: string): number {\n    return this.queue_.filter((item) => {\n      if (!filterMethod) {\n        return true;\n      }\n      return filterMethod === item.method;\n    }).length;\n  }\n\n  appendBuffer (arrayBuffer: ArrayBuffer, timestampOffset: number) {\n    this.queue_.push({ method: 'appendBuffer', arrayBuffer, timestampOffset });\n\n    this.tryRunQueueOnce_();\n  }\n\n  appendMediaSegment (packet: Packet) {\n    const bufferSlice = packet.data[0];\n\n    const start = bufferSlice.props.timestampDelta;\n    const end = bufferSlice.props.timestampDelta + bufferSlice.props.getSampleDuration()\n    const arrayBuffer = bufferSlice.arrayBuffer;\n    const timestampOffset = 0;\n\n    this.queue_.push({ method: 'appendBuffer', start, end, arrayBuffer, timestampOffset });\n\n    this.tryRunQueueOnce_();\n  }\n\n  remove (start, end) {\n    this.queue_.push({ method: 'remove', start, end });\n\n    this.tryRunQueueOnce_();\n  }\n\n  dropAsync () {\n    this.queue_.push({ method: 'drop' });\n\n    this.tryRunQueueOnce_();\n  }\n\n  drop (immediateAbort) {\n    if (immediateAbort && this.isUpdating()) {\n      this.sourceBuffer_.abort();\n    }\n    this.queue_ = [];\n  }\n\n  flush () {\n    this.remove(0, Infinity);\n  }\n\n  dropAndFlush () {\n    this.drop(true);\n    this.flush();\n  }\n\n  /*\n  private incrBufferedBytesCnt_ (bytes) {\n    this.bufferedBytesCount_ += bytes;\n  }\n\n  private decBufferedBytesCnt_ (bytes) {\n    this.bufferedBytesCount_ -= bytes;\n  }\n  */\n\n  private tryRunQueueOnce_ () {\n    if (this.isUpdating()) {\n      return;\n    }\n\n    const item: SourceBufferQueueItem = this.queue_.shift();\n    if (!item) {\n      return;\n    }\n\n    const { method, arrayBuffer, timestampOffset, start, end } = item;\n\n    // this.sourceBuffer_.timestampOffset = timestampOffset\n\n    switch (method) {\n    case 'appendBuffer':\n      log('appending', this.mimeType ,'buffer of', item.arrayBuffer.byteLength, 'bytes');\n      this.sourceBuffer_[method](arrayBuffer);\n\n      // this.incrBufferedBytesCnt_(arrayBuffer.bytesLength);\n      // TODO: we need to parse the MP4 here to know what duration it is\n\n      break;\n    case 'remove':\n      log('pruning', this.mimeType, 'buffer on time-interval', start, '-', end)\n      this.sourceBuffer_[method](start, end);\n      break;\n    case 'drop':\n      log('dropping all', this.mimeType, 'source-buffer data...');\n      this.drop(false);\n      break;\n    }\n  }\n\n  private onUpdateEnd_ () {\n    const updateTimeMs = Date.now() - this.updateStartedTime_;\n    const callbackData = {\n      updateTimeMs\n    };\n    this.updateStartedTime_ = null;\n\n    log('done updating', this.mimeType, 'source-buffer, took', callbackData.updateTimeMs, 'ms');\n\n    this.onUpdate_(this, callbackData);\n\n    this.tryRunQueueOnce_();\n  }\n\n  private onUpdateStart_ () {\n    // log('onUpdateStart_');\n\n    if (this.updateStartedTime_ !== null) {\n      throw new Error('updateStartedTime_ should be null');\n    }\n    this.updateStartedTime_ = Date.now();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/io-sockets/html5-media-source/source-buffer-queue.ts","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Depricated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;return b.open(\"HEAD\",a,!1),b.send(),200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/file-saver/dist/FileSaver.min.js\n// module id = 121\n// module chunks = 0","import { makeUUID_v1 } from '../common-crypto';\nimport { getLogger, LoggerLevel } from '../logger';\nimport { Processor, ProcessorEvent, ProcessorEventData, PROCESSOR_RPC_INVOKE_PACKET_HANDLER } from './processor';\nimport { InputSocket, SocketDescriptor, SocketType, Socket } from './socket';\nimport { Packet, PacketSymbol } from './packet';\nimport { createProcessorFromShellName } from './processor-factory';\nimport { VoidCallback } from '../common-types';\nimport {EnvironmentVars} from '../core/env';\n\nconst { log, debug, warn, error } = getLogger(`ProcessorProxy`, LoggerLevel.LOG);\n\nexport enum ProcessorProxyWorkerMessage {\n  SPAWN = 'spawn',\n  DESTROY = 'destroy',\n  CREATE = 'create',\n  TERMINATE = 'terminate',\n  INVOKE_METHOD = 'invoke-method',\n}\n\nexport type ProcessorProxyWorkerMessageData = {\n  message: ProcessorProxyWorkerMessage\n  subContextId: number\n  args: any[]\n}\n\nexport enum ProcessorProxyWorkerCallback {\n  SPAWNED = 'spawned',\n  DESTROYED = 'destroyed',\n  CREATED = 'created',\n  TERMINATED = 'terminated',\n  METHOD_RETURN = 'return',\n  TRANSFER = 'transfer',\n  EVENT = 'event'\n}\n\nexport type ProcessorProxyWorkerCallbackData = {\n  callback: ProcessorProxyWorkerCallback\n  subContextId: number\n  workerId: number\n  processorName: string,\n  value: any\n}\n\nexport type ProcessorProxyWorkerCallbackTransferValue = {\n  packet: Packet\n  outputIndex: number\n}\n\nexport type ProcessorProxyWorkerSubContext = {\n  id: number\n  workerId: number\n  processor: Processor\n  name: string\n};\n\nexport class ProcessorProxyWorker {\n\n  private _subContextId: number = null;\n  private _gotSpawnCallback: boolean = false;\n  private _worker: Worker = null\n\n  constructor(\n    private _onSpawned: VoidCallback,\n    private _onCreated: VoidCallback,\n    private _onTransfer: (value: ProcessorProxyWorkerCallbackTransferValue) => void,\n    private _onMethodReturn: (retValue: any) => void,\n    private _onEvent: (event: ProcessorEvent) => void,\n    private _onWorkerError: (event: ErrorEvent) => void\n  ) {\n\n    const PROXY_WORKER_PATH = EnvironmentVars.PROXY_WORKER_PATH;\n\n    try {\n      this._worker = new Worker(PROXY_WORKER_PATH);\n      log('created web-worker wrapper from filepath:', PROXY_WORKER_PATH)\n    } catch(err) {\n      error('failed to initialize worker:', err);\n      return this;\n    }\n\n    this._worker.addEventListener('error', (event: ErrorEvent) => {\n      // trigger error event here to shell proc instance using event callback\n      error(`error-event on worker: \"${event.message}\"`);\n      this._onWorkerError(event);\n    })\n\n    this._worker.addEventListener('message', (event: MessageEvent) => {\n      const callbackData: ProcessorProxyWorkerCallbackData = <ProcessorProxyWorkerCallbackData> event.data;\n\n      debug('message received:', event)\n\n      switch (callbackData.callback) {\n      case ProcessorProxyWorkerCallback.SPAWNED: {\n        this._subContextId = callbackData.value;\n        this._gotSpawnCallback = true;\n        this._onSpawned();\n        break;\n      }\n      case ProcessorProxyWorkerCallback.CREATED: {\n        this._onCreated();\n        break;\n      }\n      case ProcessorProxyWorkerCallback.TRANSFER: {\n        const transferValue: ProcessorProxyWorkerCallbackTransferValue = callbackData.value;\n        this._onTransfer(transferValue);\n        break;\n      }\n      case ProcessorProxyWorkerCallback.METHOD_RETURN: {\n        this._onMethodReturn(callbackData.value);\n        break;\n      }\n      case ProcessorProxyWorkerCallback.EVENT: {\n        this._onEvent(callbackData.value);\n        break;\n      }\n      default: throw new Error('unknown callback type: ' + callbackData.callback)\n      }\n    });\n  }\n\n  get subContextId() {\n    // little hacky trick: we pass 0 instead of the actual subContextId because we only use one context anyway\n    // for supporting multiple sub-contexts per worker instance (to share one across several proxied procs) we\n    // can only allow async proxy initialization (create only called from the spawned-callback after we have set the subContextId on this the shell side)\n    return this._subContextId || 0;\n  }\n\n  spawn(importScriptPaths: string[] = []) {\n    const args = importScriptPaths;\n    log('spawn called')\n    const message: ProcessorProxyWorkerMessageData = {\n      message: ProcessorProxyWorkerMessage.SPAWN,\n      subContextId: null,\n      args\n    }\n    this._worker.postMessage(message);\n  }\n\n  destroy(subContextId: number) {\n    log('destroy called')\n    const message: ProcessorProxyWorkerMessageData = {\n      message: ProcessorProxyWorkerMessage.DESTROY,\n      subContextId,\n      args: null\n    }\n    this._worker.postMessage(message);\n  }\n\n  create(subContextId: number, procName: string, procConstructorArgs: any[]) {\n    log('create called for processor shell-name: ', procName)\n    const message: ProcessorProxyWorkerMessageData = {\n      message: ProcessorProxyWorkerMessage.CREATE,\n      subContextId,\n      args: [procName, ...procConstructorArgs]\n    }\n    this._worker.postMessage(message);\n  }\n\n  invokeMethod(subContextId, methodName: string, methodArgs: any[], transferrables?: ArrayBuffer[]) {\n    debug('invoke method called:', methodName)\n    if (!this._gotSpawnCallback) {\n      warn(`did not get 'spawned' callback message yet, but posting message to remote-invoke method (will be queued): '${methodName}'`);\n    }\n    const message: ProcessorProxyWorkerMessageData = {\n      message: ProcessorProxyWorkerMessage.INVOKE_METHOD,\n      subContextId,\n      args: [methodName, ...methodArgs]\n    }\n    this._worker.postMessage(message, transferrables);\n  }\n\n}\n\nexport class ProcessorProxy extends Processor {\n\n  private _worker: ProcessorProxyWorker;\n  private _isReady: boolean = false;\n\n  constructor(\n    private readonly _processorShellName: string, // TODO: pass in constructor instead and do factory stuff outside of here\n    onReady: VoidCallback,\n    private readonly _processorArgs: any[] = [],\n    private readonly _importScriptPaths: string[] = []\n  ) {\n    super();\n\n    // disable proxying any symbols automatically\n    this.enableSymbolProxying = false;\n    // disable passing any symbols to process transfer\n    this.muteSymbolProcessing = true;\n\n    const onSpawned = () => {\n      log(`worker spawned with sub-context-id ${this._worker.subContextId}`)\n    }\n\n    const onCreated = () => {\n      log(`processor-proxy for shell-name ${_processorShellName} is ready`);\n      this._isReady = true;\n      onReady();\n    }\n\n    const onTransfer = (transferValue: ProcessorProxyWorkerCallbackTransferValue) => {\n      this._onTransferFromOutputCallback(transferValue.packet, transferValue.outputIndex);\n    }\n\n    const onMethodReturn = (returnVal: any) => {\n      // TODO\n      debug('return value from call to proxy processor method: ', returnVal);\n    }\n\n    /*\n    const decrementSocketCreatedCounter = () => {\n      // we are doing this to count down the sockets\n      // created by the proto-instance to avoid a double-feedback\n      // that would result in creating these sockets twice\n      // since ultimately these will also trigger events on the worker side.\n      // we only want to mirror the socket creations\n      // that we haven't initialized ourselves.\n      if (this._protoInstanceSocketsCreated > 0) {\n        this._protoInstanceSocketsCreated--\n        return false;\n      }\n      return true;\n    }\n    */\n\n    const onEvent = (event: ProcessorEvent) => {\n      let data: ProcessorEventData;\n      let socket: Socket;\n\n      // we don't need to reproduce this event, it will be triggered organically from creating the sockets here\n      // just as all other events except error\n\n      switch(event) {\n      case ProcessorEvent.INPUT_SOCKET_CREATED:\n        socket = super.createInput()\n        break;\n      case ProcessorEvent.OUTPUT_SOCKET_CREATED:\n        socket = super.createOutput()\n        break;\n      case ProcessorEvent.ERROR:\n        this.emit(ProcessorEvent.ERROR, {\n          processor: this,\n          event: ProcessorEvent.ERROR\n        })\n        break;\n      }\n    }\n\n    const onWorkerError = (event: ErrorEvent) => {\n\n      this.emit(ProcessorEvent.ERROR, {\n        event: ProcessorEvent.ERROR,\n        processor: this,\n        socket: null\n      });\n    }\n\n    this._worker = new ProcessorProxyWorker(\n      onSpawned,\n      onCreated,\n      onTransfer,\n      onMethodReturn,\n      onEvent,\n      onWorkerError\n    );\n\n    // all these \"commands\" will get queued by the worker thread anyway, we don't need to worry about synchronization at this point\n    this._worker.spawn(_importScriptPaths);\n    this._worker.create(this._worker.subContextId, _processorShellName, _processorArgs);\n    this._initShellFromProtoInstance();\n  }\n\n  get workerShellProcName(): string {\n    return this._processorShellName;\n  }\n\n  get isReady() {\n    return this._isReady;\n  }\n\n  createInput(sd?: SocketDescriptor) {\n    this._worker.invokeMethod(this._worker.subContextId, 'createInput', [sd]);\n    return super.createInput(sd);\n  }\n\n  createOutput(sd?: SocketDescriptor) {\n    this._worker.invokeMethod(this._worker.subContextId, 'createOutput', [sd]);\n    return super.createOutput(sd)\n  }\n\n  protected processTransfer_(inS: InputSocket, p: Packet, inputIndex: number): boolean {\n    // we can do this since we made sure that we wont get any symbolic packets in\n    const packet = Packet.makeTransferableCopy(p);\n    this._worker.invokeMethod(\n      this._worker.subContextId,\n      PROCESSOR_RPC_INVOKE_PACKET_HANDLER,\n      [packet, inputIndex],\n      packet.mapArrayBuffers()\n    );\n    return true;\n  }\n\n  protected handleSymbolicPacket_ (symbol: PacketSymbol): boolean {\n    log('symbol handler:', symbol)\n    this._worker.invokeMethod(\n      this._worker.subContextId,\n      PROCESSOR_RPC_INVOKE_PACKET_HANDLER,\n      [Packet.fromSymbol(symbol)]\n    );\n    return true; // we return true here because we handle it somehow but generally proxying is disabled\n                 // since this is something to be determined by the proxied instance\n  }\n\n  private _onTransferFromOutputCallback(p: Packet, outputIndex: number) {\n    const packet = Packet.fromTransferable(p);\n    if (packet.isSymbolic()) {\n      log('received symbolic packet from worker with value:', packet.symbol)\n    }\n    this.out[outputIndex].transfer(packet)\n  }\n\n  private _initShellFromProtoInstance() {\n    // make a utility like this to \"clone\" a proc ?\n    const protoInstance = createProcessorFromShellName(this._processorShellName, this._processorArgs);\n    // we are basically probing the proto instance of the proc and creating a clone of its template-generator function\n    const socketTemplateGenerator = SocketDescriptor.createTemplateGenerator(\n      protoInstance.templateSocketDescriptor(SocketType.INPUT),\n      protoInstance.templateSocketDescriptor(SocketType.OUTPUT)\n    );\n    this.overrideSocketTemplate(socketTemplateGenerator);\n    // FIXME: apply socket-descriptors\n    protoInstance.in.forEach(() => {\n      super.createInput();\n    });\n    protoInstance.out.forEach(() => {\n      super.createOutput();\n    });\n  }\n\n  // TODO: figure what to do about signals...\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/processor-proxy.ts","import { InputSocket, SocketDescriptor } from '../core/socket';\nimport { Packet } from '../core/packet';\n\nexport type AppInputCallback = (data: Blob | ArrayBuffer) => void;\n\nexport class AppInputSocket extends InputSocket {\n\n  constructor(\n    private _appCallback: AppInputCallback,\n    private _copyMode: boolean = false,\n    private _blobMode: boolean = false,\n    private _mimeType: string = null) {\n\n    super((p: Packet) => this._onPacketReceived(p), new SocketDescriptor());\n\n    if (_blobMode && !_mimeType) {\n      throw new Error('Can not use blob mode with unset mimetype string');\n    }\n  }\n\n  private _onPacketReceived(p: Packet): boolean {\n\n    p.forEachBufferSlice((bs) => {\n\n      const buffer = this._copyMode ? bs.newArrayBuffer() : bs.arrayBuffer;\n\n      if (this._blobMode) {\n        const blob = new Blob([buffer], { type: this._mimeType });\n        this._appCallback(blob);\n      } else {\n        this._appCallback(buffer);\n      }\n\n    });\n\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/io-sockets/app-input-socket.ts","const uuidv1 = require('uuid/v1');\n\nexport function makeUUID_v1 (): number {\n  return uuidv1();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common-crypto.ts","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v1.js\n// module id = 125\n// module chunks = 0","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/rng-browser.js\n// module id = 126\n// module chunks = 0","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/bytesToUuid.js\n// module id = 127\n// module chunks = 0","import { OutputSocket, SocketDescriptor } from '../core/socket';\nimport { XhrSocket } from './xhr.socket';\nimport { getLogger } from '../logger';\n\nconst {warn} = getLogger('WebFileChooserSocket');\n\nexport class WebFileChooserSocket extends OutputSocket {\n\n  private _xhrSocket: XhrSocket = null;\n\n  constructor(\n    private _domRootEl: HTMLElement,\n    _accepts: string = '*',\n    _label: string = '') {\n\n    super(new SocketDescriptor());\n\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = _accepts;\n    input.multiple = false;\n    input.addEventListener('change', () => {\n\n      if (!input.files[0]) {\n        warn('No file selected after change event');\n        return;\n      }\n\n      if (this._xhrSocket) {\n        this._xhrSocket.disconnect(this);\n      }\n\n      if (this._xhrSocket.hasPeers()) {\n        throw new Error('Socket should not have any other internal peers');\n      }\n\n      this._xhrSocket = new XhrSocket(URL.createObjectURL(input.files[0]));\n      this._xhrSocket.connect(this);\n    });\n\n    const label = document.createElement('label');\n    label.appendChild(document.createTextNode(_label));\n    label.appendChild(input);\n\n    this._domRootEl.appendChild(label);\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/io-sockets/web-file-chooser.socket.ts","import { MmjsTestCase } from '../mmjs-test-case';\nimport { CombineMp4sToMovFlow } from '../../src/flows/combine-mp4s-to-mov.flow';\nimport { FlowCompletionResult, FlowState } from '../../src/core/flow';\n\nexport class RemixMovieSoundtrack extends MmjsTestCase {\n\n  private _flow: CombineMp4sToMovFlow = null;\n\n  setup(done: () => void) {\n\n    // FIXME: use file-chooser socket instead\n    const audioFileInput = document.createElement('input');\n    const videoFileInput = document.createElement('input');\n\n    audioFileInput.type = 'file';\n    audioFileInput.id = 'audioFileInput';\n    audioFileInput.accept = 'audio/mp4,audio/mpeg';\n\n    videoFileInput.type = 'file';\n    videoFileInput.id = 'videoFileInput';\n    videoFileInput.accept = 'video/mp4,video/quicktime';\n\n    this.domMountPoint.appendChild(document.createElement('br'))\n    this.domMountPoint.appendChild(document.createTextNode('Audio file: '))\n    this.domMountPoint.appendChild(audioFileInput);\n    this.domMountPoint.appendChild(document.createElement('br'))\n    this.domMountPoint.appendChild(document.createElement('br'))\n    this.domMountPoint.appendChild(document.createTextNode('Video file: '))\n    this.domMountPoint.appendChild(videoFileInput);\n\n    this.domMountPoint.appendChild(document.createElement('br'))\n    const processButton = document.createElement('button');\n    processButton.innerText = 'Process'\n\n    // TODO: use the bootstrap grid\n    this.domMountPoint.appendChild(document.createElement('br'))\n    this.domMountPoint.appendChild(processButton);\n    this.domMountPoint.appendChild(document.createElement('br'))\n    this.domMountPoint.appendChild(document.createElement('br'))\n\n    const videoEl = document.createElement('video');\n    videoEl.controls = true;\n    videoEl.addEventListener('error', () => {\n      console.error(videoEl.error);\n    });\n\n    this.domMountPoint.appendChild(videoEl);\n\n    const mediaSource = new MediaSource();\n\n    videoEl.src = URL.createObjectURL(mediaSource);\n\n    processButton.onclick = () => {\n\n      const audioFile: File = audioFileInput.files[0];\n      const videoFile: File = videoFileInput.files[0];\n\n      console.log('selected audio file:', audioFile)\n      console.log('selected video file:', videoFile)\n\n      const videoUrl = videoFile ? URL.createObjectURL(videoFile) : '/test-data/mp4/v-0576p-1400k-libx264.mov';\n      const audioUrl = audioFile ? URL.createObjectURL(audioFile) : '/test-data/mp4/guitars.m4a';\n\n      // \"good guess\"\n      const isMp3Audio = audioFile && audioFile.name.endsWith('.mp3');\n\n      this._flow = new CombineMp4sToMovFlow(\n        videoUrl,\n        audioUrl,\n        true,\n        document.querySelector('#root'),\n        isMp3Audio\n      );\n\n      this._flow.whenCompleted().then((result: FlowCompletionResult) => {\n\n        console.log('flow completed with result:', result);\n\n      });\n\n      this._flow.state = FlowState.WAITING;\n      this._flow.state = FlowState.FLOWING;\n\n    }\n\n  }\n\n  run() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test-cases/web/remix-movie-soundtrack.ts","import { MmjsTestCase } from '../mmjs-test-case';\nimport { TsToMp3Flow } from '../../src/flows/ts-to-mp3.flow';\n\nexport class TsToMp3 extends MmjsTestCase {\n\n  private _flow: TsToMp3Flow = null;\n\n  setup(done: () => void) {\n    this._flow = new TsToMp3Flow('/test-data/mp3-segment.ts');\n\n    //done();\n  }\n\n  run() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test-cases/web/ts-to-mp3.ts","import { Flow, FlowStateChangeCallback } from '../core/flow';\nimport { XhrSocket } from '../io-sockets/xhr.socket';\nimport { MPEGTSDemuxProcessor } from '../processors/mpeg-ts-demux.processor';\nimport { MP3ParseProcessor } from '../processors/mp3-parse.processor';\nimport { ProcessorEvent } from '../core/processor';\nimport { VoidCallback } from '../common-types';\n\nexport class TsToMp3Flow extends Flow {\n\n  private _xhrSocket: XhrSocket = null;\n\n  constructor (url: string) {\n    super(\n      (prevState, newState) => {\n        console.log('previous state:', prevState, 'new state:', newState);\n      },\n      (reason) => {\n        console.log('state change aborted. reason:', reason);\n      }\n    );\n\n    const tsDemuxProc = new MPEGTSDemuxProcessor();\n    const mp3ParseProc = new MP3ParseProcessor();\n    const xhrSocket = this._xhrSocket = new XhrSocket(url);\n\n    xhrSocket.connect(tsDemuxProc.in[0]);\n\n    tsDemuxProc.on(ProcessorEvent.OUTPUT_SOCKET_CREATED, () => {\n      tsDemuxProc.out[0].connect(mp3ParseProc.in[0]);\n    });\n\n  }\n\n  protected onCompleted_(done: VoidCallback) {}\n\n  protected onVoidToWaiting_ (done: VoidCallback) {}\n\n  protected onWaitingToVoid_ (done: VoidCallback) {}\n\n  protected onWaitingToFlowing_ (done: VoidCallback) {}\n\n  protected onFlowingToWaiting_ (done: VoidCallback) {}\n\n  protected onStateChangeAborted_ (reason: string) {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/flows/ts-to-mp3.flow.ts","import { MmjsTestCase } from \"../mmjs-test-case\";\n\nimport { FFmpegTool } from '../../src/processors/ffmpeg/ffmpeg-tool';\nimport { getLogger } from \"../../src/logger\";\nimport { makeGetRequest } from \"../../src/common-http\";\n\nconst {log, error} = getLogger('ffmpeg-basic-testcase');\n\ndeclare var ffmpeg: any;\n\nexport class FFmpegBasic extends MmjsTestCase {\n\n  setup(done: () => void) {\n    const ffmpegWrapper = new FFmpegTool(ffmpeg);\n    ffmpegWrapper.getVersion().then((version) => log('ffmpeg version:', version));\n\n    const inputFile = '/test-data/mp3/212438__pcfstnk__ubahn.mp3';\n    makeGetRequest(inputFile).then((data) => {\n      log('got input data no of bytes:', data.byteLength);\n      const outData = ffmpegWrapper.convertAudioFile(new Uint8Array(data), 'mp3', 'aac', 'mp4', 128);\n      log('got output data:', outData);\n    });\n  }\n\n  run() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test-cases/web/ffmpeg-basic.ts","import {XHR, XHRMethod, XHRResponseType, XHRState} from './io-sockets/xhr/xhr';\nimport {ByteRange} from './io-sockets/xhr/byte-range';\n\nexport function makeGetRequest(url: string): Promise<ArrayBuffer> {\n  return new Promise<ArrayBuffer>((resolve, reject) => {\n    const xhr = new XHR(url, (xhr, isProgressUpdate: boolean) => {\n      if (xhr.xhrState !== XHRState.DONE) {\n        return;\n      }\n      if (xhr.status === 200) {\n        resolve(<ArrayBuffer> xhr.responseData);\n        return;\n      }\n      if (xhr.status !== 200) {\n        reject(xhr.error);\n        return;\n      }\n    }, XHRMethod.GET, XHRResponseType.ARRAY_BUFFER);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common-http.ts","import { MmjsTestCase } from \"../mmjs-test-case\";\n\nimport { getLogger } from \"../../src/logger\";\nimport { XhrSocket } from \"../../src/io-sockets/xhr.socket\";\nimport { WebFileDownloadSocket } from \"../../src/io-sockets/web-file-download.socket\";\nimport { FFmpegConvertProcessor } from \"../../src/processors/ffmpeg-convert.processor\";\nimport { newProcessorWorkerShell, unsafeProcessorType } from \"../../src/core/processor-factory\";\nimport { FFmpegConversionTargetInfo } from \"../../src/processors/ffmpeg/ffmpeg-tool\";\nimport { makeTemplate } from \"../../src/common-utils\";\n\nconst {log, error} = getLogger('ffmpeg-basic-testcase');\n\ndeclare var ffmpeg: any;\n\nexport class FFmpegFlow extends MmjsTestCase {\n\n  setup(done: () => void) {\n\n    const inputFiles = [\n      '/test-data/mp3/212438__pcfstnk__ubahn.mp3',\n      '/test-data/161649__cosmicembers__birds-sing-in-woods.wav',\n      '/test-data/449897__softwalls__highlights-or-messages.wav',\n      '/test-data/export.wav',\n      '/test-data/export.mp3'\n    ];\n\n    const xhrSocket = new XhrSocket(inputFiles[4]);\n\n    const audioConfig: FFmpegConversionTargetInfo = {\n      targetBitrateKbps: 256,\n      targetCodec: 'aac',\n      targetFiletypeExt: 'mp4'\n    }\n\n    const ffmpegProc = newProcessorWorkerShell(\n      unsafeProcessorType(FFmpegConvertProcessor),\n      [audioConfig, null],\n      ['/vendor/ffmpeg.js/ffmpeg-mp4.js']\n    );\n\n    const fileDownloadSocket = new WebFileDownloadSocket(\n      document.querySelector('#root'),\n      'audio/mp4',\n      makeTemplate(\"ffmpeg-output${counter}.mp4\")\n    );\n\n    /*\n    xhrSocket.connect(InputSocket.fromFunction((p: Packet) => {\n      fileDownloadSocket.transfer(p);\n      return true;\n    }));\n    */\n\n    xhrSocket.connect(ffmpegProc.in[0]);\n    ffmpegProc.out[0].connect(fileDownloadSocket);\n  }\n\n  run() {\n    throw new Error(\"Method not implemented.\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test-cases/web/ffmpeg-flow.ts"],"sourceRoot":""}